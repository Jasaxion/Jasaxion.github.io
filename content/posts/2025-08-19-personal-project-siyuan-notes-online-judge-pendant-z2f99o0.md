---
title: '[ä¸ªäººé¡¹ç›®]æ€æºç¬”è®°åœ¨çº¿åˆ¤é¢˜ OnlineJudge æŒ‚ä»¶'
slug: personal-project-siyuan-notes-online-judge-pendant-z2f99o0
url: /post/personal-project-siyuan-notes-online-judge-pendant-z2f99o0.html
date: '2025-08-19 14:14:41+08:00'
draft: false
lastmod: '2025-08-19 14:28:33+08:00'
tags:
  - tech
keywords:
  - ä¸ªäººé¡¹ç›®
  - å¼€æº
twikoo: true
description: åŸºäº Judge0ï¼Œåœ¨æ€æºç¬”è®°ä¸­é›†æˆä»£ç åˆ¤é¢˜æŒ‚ä»¶
show_toc: false
isCJKLanguage: true
---



# [ä¸ªäººé¡¹ç›®]æ€æºç¬”è®°åœ¨çº¿åˆ¤é¢˜ OnlineJudge æŒ‚ä»¶

# èƒŒæ™¯

çªç„¶å¥‡æƒ³ï¼Œæœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œç”¨æ€æºç¬”è®°è¿›è¡Œç¬”è®°è®°å½•çš„æ—¶å€™ï¼Œèƒ½å¤Ÿåœ¨ç¬”è®°å†…ç›´æ¥æ‰§è¡Œä»£ç ï¼Ÿä½¿ç”¨åœºæ™¯è¯¸å¦‚å­¦ä¹ ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼ŒéªŒè¯ä»£ç æ˜¯å¦æ­£ç¡®ï¼Œèƒ½å¤Ÿä½æˆæœ¬çš„è¿è¡Œè€Œä¸éœ€è¦æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚ä»¥åŠè‡ªå·±ç»ƒä¹ çš„ç®—æ³•é¢˜ç¬”è®°ï¼Œå¸Œæœ›å¯ä»¥è¿è¡Œè°ƒè¯•ç»“æœã€‚

> è™½ç„¶æœ‰å¾ˆå¤šç±»ä¼¼çš„å¹³å°æä¾›è¿™æ ·çš„èƒ½åŠ›ï¼Œä½†æˆ‘ä»¬æƒ³è¦æŠ˜è…¾å˜›ï¼Œèƒ½ä¸èƒ½ç›´æ¥å°±åœ¨ç¬”è®°é‡Œé¢å®ç°å¥½äº†ï¼Œæ‡’å¾—å†å¤šå¼€ä¸ªç½‘é¡µäº†ã€‚

ç„¶åæˆ‘åˆ·åˆ°äº† Judge0 ä¸€ä¸ªå¼€æºçš„Online JudgeæœåŠ¡å™¨åç«¯ï¼Œå¯ä»¥è½»æ¾åœ¨ Dockerä¸‹è¿›è¡Œéƒ¨ç½²ï¼Œå¹¶ä¸”å®˜æ–¹è¿˜æä¾›å…è´¹çš„ APIï¼ˆä¸è¿‡ä¸€å¤©åªèƒ½æäº¤ 50 æ¬¡ï¼‰ã€‚

äºæ˜¯ä¹å°±èŠ±äº†ä¸€ç‚¹æ—¶é—´åšäº†è¿™ä¸€æ¬¾åŸºäº Judge0 åç«¯/API çš„æ€æºç¬”è®°çš„æŒ‚ä»¶ï¼Œèƒ½å¤Ÿæ”¯æŒç›´æ¥åœ¨ç¬”è®°å†…è¿è¡Œè°ƒè¯•ä»£ç ã€‚

# ä¸»è¦ç‰¹ç‚¹

> ç¬¬ä¸€æ¬¡åˆ¶ä½œæ€æºç¬”è®°æŒ‚ä»¶ï¼Œå¤§ä½¬å‹¿å–·ï¼›

é¡¹ç›®åœ°å€ï¼š[GitHub - Jasaxion/siyuan-code-judge: åŸºäºJudge0çš„å¤šè¯­è¨€ä»£ç åœ¨çº¿åˆ¤é¢˜æŒ‚ä»¶ï¼Œåœ¨æ€æºç¬”è®°é‡Œé¢é›†æˆ online judge"](https://github.com/Jasaxion/siyuan-code-judge)â€‹

- ğŸš€ **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒ 40+ ç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬ C++ã€Pythonã€Javaã€JavaScriptã€Goã€Rust ç­‰ï¼Œä»¥åŠè‡ªå®šä¹‰ç¼–ç¨‹è¯­è¨€ï¼Œéœ€è¦ Judge0 åç«¯æ”¯æŒï¼›
- ğŸ“ **Monaco ç¼–è¾‘å™¨**ï¼šåŠŸèƒ½å®Œæ•´çš„ä»£ç ç¼–è¾‘å™¨ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€ä»£ç æç¤ºå’Œæ ¼å¼åŒ–
- ğŸ§ª **æµ‹è¯•ç”¨ä¾‹ç®¡ç†**ï¼šåˆ›å»ºå’Œç®¡ç†å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…å«é¢„æœŸè¾“å‡º
- âš¡ **å®æ—¶æ‰§è¡Œ**ï¼šæ‰§è¡Œä»£ç å’Œè¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œå³æ—¶è·å¾—åé¦ˆ
- ğŸ“Š **è¯¦ç»†ç»“æœ**ï¼šæŸ¥çœ‹æ‰§è¡Œæ—¶é—´ã€å†…å­˜ä½¿ç”¨é‡å’Œè¯¦ç»†é”™è¯¯ä¿¡æ¯
- ğŸ¨ **å¯å®šåˆ¶**ï¼šäº®è‰²/æš—è‰²ä¸»é¢˜å’Œå¯é…ç½®çš„ API è®¾ç½®
- ğŸ’¾ **è‡ªåŠ¨ä¿å­˜**ï¼šè‡ªåŠ¨ä¿å­˜æ‚¨çš„ä»£ç å’Œæµ‹è¯•ç”¨ä¾‹

# åŠŸèƒ½æˆªå›¾

- ç¾è§‚çš„ä»£ç ç¼–è¾‘ç•Œé¢

![image](https://pve.digikamc.cn:56806/assets/image-20250819142505-7jgmlnz.png "ç›¸å¯¹ç¾è§‚çš„ç•Œé¢ï¼Œæ”¯æŒè¾“å…¥/è¾“å‡ºè°ƒè¯•ï¼Œæ˜¾ç¤ºæ—¶ç©ºå¼€é”€")â€‹

- æ”¯æŒæµ‹è¯•ç”¨ä¾‹è¾“å…¥è¾“å‡ºåˆ¤é¢˜

![image](https://pve.digikamc.cn:56806/assets/image-20250819142552-18heo7n.png)â€‹

- æ”¯æŒéå¸¸å¤šçš„è¯­è¨€ä»¥åŠè‡ªå®šä¹‰å¢åŠ ç¼–ç¨‹è¯­è¨€ï¼ˆéœ€è¦ Judge0 åç«¯æ”¯æŒï¼‰

![image](https://pve.digikamc.cn:56806/assets/image-20250819142613-j8q2am4.png "ä½¿ç”¨")â€‹

![image](https://pve.digikamc.cn:56806/assets/image-20250819142634-mrweu2j.png "å¯ä»¥è‡ªè¡Œæ·»åŠ æ–°çš„è¯­è¨€")â€‹

- ç¼–è¯‘ä¿¡æ¯è¾“å‡º

![image](https://pve.digikamc.cn:56806/assets/image-20250819142730-afxngvq.png "ç¼–è¯‘é—®é¢˜è¾“å‡º")â€‹

## å®‰è£…æ–¹æ³•

### ä»å•†åŸå®‰è£…

1. æ‰“å¼€æ€æºç¬”è®°
2. è¿›å…¥è®¾ç½® > é›†å¸‚ > æŒ‚ä»¶
3. æœç´¢"ä»£ç åˆ¤é¢˜æŒ‚ä»¶"
4. ç‚¹å‡»å®‰è£…

## é…ç½®è¯´æ˜

### ä½¿ç”¨ Judge0 å®˜æ–¹ API

> âš ï¸ï¼šå®˜æ–¹å…è´¹è®¢é˜…ï¼Œåªæ”¯æŒä¸€å¤© 50 æ¬¡è®¿é—®æäº¤ï¼Œå»ºè®®æœ‰æ¡ä»¶å¯ä»¥æœ¬åœ°ä½¿ç”¨ Docker éƒ¨ç½² Judge0 server

ä½¿ç”¨æŒ‚ä»¶å‰ï¼Œæ‚¨éœ€è¦é…ç½® Judge0 APIï¼š

1. è·å– Judge0 API è®¿é—®æƒé™ï¼š

    - è®¿é—® [RapidAPI Judge0](https://rapidapi.com/judge0-official/api/judge0-ce)
    - æ³¨å†Œå¹¶è®¢é˜… Judge0 CEï¼ˆæœ‰å…è´¹å¥—é¤ï¼‰
    - ä»æ§åˆ¶å°å¤åˆ¶æ‚¨çš„ API å¯†é’¥
2. é…ç½®æŒ‚ä»¶ï¼š

    - ç‚¹å‡»æŒ‚ä»¶ä¸­çš„è®¾ç½®æŒ‰é’® (âš™ï¸)
    - è¾“å…¥æ‚¨çš„ API é…ç½®ï¼š

      - **API URL**: `https://judge0-ce.p.rapidapi.com`â€‹
      - **API Key**: æ‚¨çš„ RapidAPI å¯†é’¥
      - **API Host**: `judge0-ce.p.rapidapi.com`â€‹
    - ç‚¹å‡»"æµ‹è¯•è¿æ¥"è¿›è¡ŒéªŒè¯
    - ä¿å­˜é…ç½®

### æœ¬åœ° Docker éƒ¨ç½² Judge0 Server

#### Docker éƒ¨ç½²ï¼Œè½¬è‡ª Judge0 å®˜æ–¹

> å®˜æ–¹ä»“åº“ï¼š
>
> https://github.com/judge0/judge0/blob/master/CHANGELOG.md#deployment-procedure

**ç³»ç»Ÿè¦æ±‚**

è¯·æ³¨æ„ï¼ŒJudge0 ä»…åœ¨ Linux ä¸Šç»è¿‡æµ‹è¯•ï¼Œå¯èƒ½æ— æ³•åœ¨å…¶ä»–ç³»ç»Ÿä¸Šè¿è¡Œï¼›å› æ­¤æˆ‘ä»¬ä¸ä¸ºå…¶ä»–ç³»ç»Ÿæä¾›æ”¯æŒã€‚

æˆ‘ä»¬æ¨èä½¿ç”¨ **Ubuntu 22.04**ï¼Œåœ¨è¯¥ç³»ç»Ÿä¸Šéœ€è¦è¿›è¡Œä»¥ä¸‹ GRUB æ›´æ–°æ“ä½œï¼š

1. ä½¿ç”¨ `sudo` æ‰“å¼€æ–‡ä»¶ `/etc/default/grub`â€‹
2. åœ¨å˜é‡ `GRUB_CMDLINE_LINUX` çš„å€¼ä¸­æ·»åŠ  `systemd.unified_cgroup_hierarchy=0`â€‹
3. åº”ç”¨æ›´æ”¹ï¼š`sudo update-grub`â€‹
4. é‡å¯æœåŠ¡å™¨ï¼š`sudo reboot`â€‹

æ­¤å¤–ï¼Œè¯·ç¡®ä¿å·²å®‰è£… **Docker** å’Œ **Docker Compose**ã€‚

---

**éƒ¨ç½²æ­¥éª¤**

1. ä¸‹è½½å¹¶è§£å‹å‘å¸ƒåŒ…ï¼š

    ```
    wget https://github.com/judge0/judge0/releases/download/v1.13.1/judge0-v1.13.1.zip
    unzip judge0-v1.13.1.zip
    ```
2. è®¿é—®ä¸€ä¸ªéšæœºå¯†ç ç”Ÿæˆç½‘ç«™ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºå¯†ç ã€‚  
    å°†è¯¥å¯†ç æ›´æ–°åˆ° `judge0.conf` æ–‡ä»¶ä¸­çš„ **â€‹`REDIS_PASSWORD`â€‹** å˜é‡ã€‚
3. å†æ¬¡è®¿é—®è¯¥ç½‘ç«™ï¼Œç”Ÿæˆå¦ä¸€ä¸ªéšæœºå¯†ç ã€‚  
    å°†è¯¥å¯†ç æ›´æ–°åˆ° `judge0.conf` æ–‡ä»¶ä¸­çš„ **â€‹`POSTGRES_PASSWORD`â€‹** å˜é‡ã€‚
4. è¿è¡Œæ‰€æœ‰æœåŠ¡ï¼Œå¹¶ç­‰å¾…æ•°ç§’å®Œæˆåˆå§‹åŒ–ï¼š

    ```
    cd judge0-v1.13.1
    docker-compose up -d db redis
    sleep 10s
    docker-compose up -d
    sleep 5s
    ```
5. ç°åœ¨ï¼Œä½ çš„ **Judge0 CE v1.13.1** å®ä¾‹å·²ç»å¯åŠ¨å¹¶è¿è¡Œã€‚  
    åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

    ```
    http://<ä½ çš„æœåŠ¡å™¨IP>:2358/docs
    ```
    å³å¯æŸ¥çœ‹æ–‡æ¡£ã€‚
