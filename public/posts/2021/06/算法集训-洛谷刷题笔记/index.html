<!DOCTYPE html>
<html lang="zh-CN">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>ç®—æ³•é›†è®­-æ´›è°·åˆ·é¢˜ç¬”è®° - Jasaxionä¸€åªå¤§é›„</title>
    <meta property="og:title" content="ç®—æ³•é›†è®­-æ´›è°·åˆ·é¢˜ç¬”è®° - Jasaxionä¸€åªå¤§é›„">
    
    <meta name="twitter:card" content="summary">
    <meta name="referrer" content="never" />

    
    
    <link rel="stylesheet" href="/css/custom.css"></link>
    <script type="text/javascript" src="/js/view-image.js"></script>
    <script>
    
    window.ViewImage && ViewImage.init('.main img:not(.avatar,.tk-avatar-img)')
    </script>
    <script src="/js/custom-markdown-parser.js"></script>
    <script  src="https://jsd.cdn.zzko.cn/npm/quicklink@2.3.0/dist/quicklink.umd.js"></script>
    <script>window.addEventListener('load', () => {  quicklink.listen();});</script>
    
    

    
      
    

    
      
      <meta property="description" content="åœ¨ ACM é›†è®­æ—¶æœŸåˆ·çš„ä¸€äº›ç®—æ³•é¢˜ï¼Œè™½ç„¶å¾ˆå†—é•¿ï¼Œä½†ä¹Ÿæ˜¯æˆ‘çš„ä¸€æ®µå®è´µçš„ç»å†">
      <meta property="og:description" content="åœ¨ ACM é›†è®­æ—¶æœŸåˆ·çš„ä¸€äº›ç®—æ³•é¢˜ï¼Œè™½ç„¶å¾ˆå†—é•¿ï¼Œä½†ä¹Ÿæ˜¯æˆ‘çš„ä¸€æ®µå®è´µçš„ç»å†">
      
    

    
    
    <meta name="twitter:image" content="https://pve.digikamc.cn:8343/i/2024/11/25/j1vy1q-0.png">
    
    

    
    <meta property="keywords" content ="ACM, ç®—æ³•, Algorithm, C&#43;&#43;">
    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css"
        integrity="sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js"
        integrity="sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz"
        crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js"
        integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
        crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                
                
                delimiters: [
                    { left: '$$', right: '$$', display: true },
                    { left: '$', right: '$', display: false },
                    { left: '\\(', right: '\\)', display: false },
                    { left: '\\[', right: '\\]', display: true }
                ],
                
                throwOnError: false
            });
        });
    </script>
    
  </head>

  
  <body class="posts">
    <header class="masthead">
      <h1><a href="/">Jasaxionä¸€åªå¤§é›„</a></h1>

<p class="tagline">é£æ‰“ï¼Œç¢ç‰ç’ƒï¼› æ‰“ä¸ç¢çš„ï¼Œæ˜¯é‚£é˜³å…‰æ¼«åœ°ã€‚The wind strikes, shattering the glazed glass; Yet unbroken remains the sunlight spilling across the earth.</p>

      <nav class="menu">
  <input id="menu-check" type="checkbox" hidden/>
  <label id="menu-label" for="menu-check" class="unselectable" hidden>
    <span class="icon close-icon">âœ•</span>
    <span class="icon open-icon">â˜°</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/posts/">å½’æ¡£ / Posts</a></li>
  
  <li><a href="/resume/">å…³äºæˆ‘ / CV</a></li>
  
  <li><a href="/tags/tech/">æŠ€æœ¯ç›®å½• / Tech</a></li>
  
  <li><a href="/tags/notes">æˆ‘çš„ç¬”è®° / Note</a></li>
  
  <li><a href="/tags/read/">ç§‘ç ”ä¸é˜…è¯» / Read</a></li>
  
  <li><a href="/whisper/">ç¢ç¢å¿µ / Whisper</a></li>
  
  
  </ul>
</nav>

      
    </header>

    <article class="main">
      <header class="title">
      
<h1>ç®—æ³•é›†è®­-æ´›è°·åˆ·é¢˜ç¬”è®°</h1>



<h3>






2021-06-10
</h3>

<hr>


      </header>


 <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#2021å¹´7æœˆ12æ—¥">2021å¹´7æœˆ12æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ13æ—¥">2021å¹´7æœˆ13æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ14æ—¥">2021å¹´7æœˆ14æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ15æ—¥">2021å¹´7æœˆ15æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ16æ—¥">2021å¹´7æœˆ16æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ17æ—¥-æ€»ç»“-å‘¨èµ›">2021å¹´7æœˆ17æ—¥ æ€»ç»“&amp;å‘¨èµ›</a></li>
            <li><a href="#2021å¹´7æœˆ19æ—¥">2021å¹´7æœˆ19æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ20æ—¥">2021å¹´7æœˆ20æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ21æ—¥">2021å¹´7æœˆ21æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ22æ—¥">2021å¹´7æœˆ22æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ23æ—¥">2021å¹´7æœˆ23æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ24æ—¥">2021å¹´7æœˆ24æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ25æ—¥">2021å¹´7æœˆ25æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ26æ—¥">2021å¹´7æœˆ26æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ27æ—¥">2021å¹´7æœˆ27æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ28æ—¥">2021å¹´7æœˆ28æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ29æ—¥">2021å¹´7æœˆ29æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ30æ—¥">2021å¹´7æœˆ30æ—¥</a></li>
            <li><a href="#2021å¹´7æœˆ31æ—¥">2021å¹´7æœˆ31æ—¥</a></li>
            <li><a href="#2021å¹´8æœˆ2æ—¥">2021å¹´8æœˆ2æ—¥</a></li>
            <li><a href="#2021å¹´8æœˆ3æ—¥">2021å¹´8æœˆ3æ—¥</a></li>
            <li><a href="#2022å¹´3æœˆ19æ—¥">2022å¹´3æœˆ19æ—¥</a></li>
            <li><a href="#2022å¹´3æœˆ26æ—¥">2022å¹´3æœˆ26æ—¥</a></li>
            <li><a href="#2022å¹´4æœˆ4æ—¥">2022å¹´4æœˆ4æ—¥</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav> 


<blockquote>
<p>è®©cinå’Œscanfä¸€æ ·å¿«å§ï¼</p>
<p>ä¸»å‡½æ•°é‡Œé¢åŠ ä¸Š <code>ios::sync_with_stdio(false);</code></p>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p><strong>ç¬¬ä¸€å‘¨ï¼š</strong></p>
<p>2021å¹´7æœˆ12æ—¥ è´ªå¿ƒ
2021å¹´7æœˆ13æ—¥ é€’æ¨ã€å‰ç¼€å’Œã€å·®åˆ†
2021å¹´7æœˆ14æ—¥ äºŒåˆ†ã€ä¸‰åˆ†ã€å°ºå–
2021å¹´7æœˆ15æ—¥ æ•°æ®ç»“æ„ï¼ˆä¼˜å…ˆé˜Ÿåˆ—[å †])
2021å¹´7æœˆ16æ—¥ æœç´¢</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="2021å¹´7æœˆ12æ—¥">2021å¹´7æœˆ12æ—¥</h3>
<h4 id="p1090-noip2004-æé«˜ç»„-åˆå¹¶æœå­-usaco06nov-fence-repair-g">P1090 [NOIP2004 æé«˜ç»„] åˆå¹¶æœå­ / [USACO06NOV] Fence Repair G</h4>
<blockquote>
<p>è¯¥é¢˜å‡çº§ç‰ˆP6033 [NOIP2004 æé«˜ç»„] åˆå¹¶æœå­ åŠ å¼ºç‰ˆ</p>
</blockquote>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1090">https://www.luogu.com.cn/problem/P1090</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ï¼š</p>
<p>ã€ä¹Ÿæ˜¯ä¸€ç§å“ˆå¤«æ›¼ç¼–ç ä¸ºä½•å–å¾—æœ€å°å€¼çš„è¯æ˜è¿‡ç¨‹ã€‘</p>
<p>å †æ’åºï¼Œå¯ä»¥åˆ©ç”¨å°æ ¹å †æ¥è§£å†³è¿™ä¸ªé—®é¢˜
æ¯æ¬¡å–å‡ºå †é‡Œé¢çš„2ä¸ªæ•°å­—ï¼Œç„¶åå­˜å…¥ä¸¤ä¸ªæ•°å­—çš„å’Œ</p>
<p>æƒ³æ³•â… ï¼šå°æ ¹å †æ¨¡æ¿ï¼Œæ¯æ¬¡å–å‡ºæœ€å°çš„ä¸¤ä¸ªå–å‡ºåç›¸åº”ä½ç½®å˜æˆ0ï¼Œç„¶åè®¡ç®—ä¸¤è€…ä¹‹å’Œï¼Œç„¶åå°†ä¹‹å’Œé‡æ–°å‹å…¥åˆ°å †é‡Œé¢ã€‚
è¿™é‡Œæ¯æ¬¡è¿›è¡Œä¸€æ¬¡å‡ºå †å’Œå…¥å †çš„æ“ä½œï¼Œéƒ½å®Œæ•´åœ°è¿›è¡Œä¸€æ¬¡å †æ’åºçš„è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦è¾ƒé«˜</p>
<p>æƒ³æ³•â…¡ï¼šå°æ ¹å †æ’åºä¼˜åŒ–ç‰ˆ</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ³¨æ„ï¼šä»¥ä¸‹æ˜¯ä»1~nè¿›è¡Œç¼–å·çš„ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å †çš„åˆå§‹åŒ–æ“ä½œï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>len <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>memeset(heap, <span style="color:#f60">0</span> , <span style="color:#069;font-weight:bold">sizeof</span>(heap));
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å°†å…ƒç´ å‹å…¥å †çš„æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">push</span>(<span style="color:#078;font-weight:bold">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>heap[<span style="color:#555">++</span>len] <span style="color:#555">=</span> x;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> son <span style="color:#555">=</span> len;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> parent <span style="color:#555">=</span> son <span style="color:#555">/</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">while</span>(heap[son] <span style="color:#555">&lt;</span> heap[parent] <span style="color:#555">&amp;&amp;</span> parent <span style="color:#555">&gt;=</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  swap(heap[son], heap[parent]);
</span></span><span style="display:flex;"><span>  son <span style="color:#555">=</span> parent;
</span></span><span style="display:flex;"><span>  parent <span style="color:#555">=</span> son <span style="color:#555">/</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å‹å…¥çš„åŒæ—¶å»ºå¥½å †
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å°†å…ƒç´ ä»å †ä¸­å–å‡ºæ¥
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">pop</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>swap(heap[<span style="color:#f60">1</span>], heap[len]);
</span></span><span style="display:flex;"><span>henp[len <span style="color:#555">--</span> ] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> parent <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> son <span style="color:#555">=</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">while</span>(son <span style="color:#555">&lt;=</span> len)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#069;font-weight:bold">if</span>(son <span style="color:#555">&lt;</span> len <span style="color:#555">&amp;&amp;</span> heap[son] <span style="color:#555">&gt;</span> heap[son <span style="color:#555">+</span> <span style="color:#f60">1</span>]) son <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#069;font-weight:bold">if</span>(heap[parent] <span style="color:#555">&gt;</span> heap[son])
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>      swap(heap[parent], heap[son]);
</span></span><span style="display:flex;"><span>      parent <span style="color:#555">=</span> son;
</span></span><span style="display:flex;"><span>      son <span style="color:#555">=</span> parent <span style="color:#555">*</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>  }<span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;iostream&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdio&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdlib&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;algorithm&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstring&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">10010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> len;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">pop</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    swap(a[<span style="color:#f60">1</span>],a[len]);
</span></span><span style="display:flex;"><span>    a[len <span style="color:#555">--</span> ] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> parent <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> son <span style="color:#555">=</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(son <span style="color:#555">&lt;=</span> len)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(son <span style="color:#555">&lt;</span> len <span style="color:#555">&amp;&amp;</span> a[son] <span style="color:#555">&gt;</span> a[son <span style="color:#555">+</span> <span style="color:#f60">1</span>]) son <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(a[parent] <span style="color:#555">&gt;</span> a[son])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            swap(a[parent],a[son]);
</span></span><span style="display:flex;"><span>            parent <span style="color:#555">=</span> son;
</span></span><span style="display:flex;"><span>            son <span style="color:#555">=</span> parent <span style="color:#555">*</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>        }<span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">push</span>(<span style="color:#078;font-weight:bold">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    a[<span style="color:#555">++</span>len] <span style="color:#555">=</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> son <span style="color:#555">=</span> len , parent <span style="color:#555">=</span> son <span style="color:#555">/</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(a[son] <span style="color:#555">&lt;</span> a[parent] <span style="color:#555">&amp;&amp;</span> parent <span style="color:#555">&gt;=</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        swap(a[son],a[parent]);
</span></span><span style="display:flex;"><span>        son <span style="color:#555">=</span> parent,
</span></span><span style="display:flex;"><span>        parent <span style="color:#555">=</span> son <span style="color:#555">/</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> res <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    len <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    memset(a,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span>(a));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span> ; i <span style="color:#555">&lt;=</span> n ; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>x);
</span></span><span style="display:flex;"><span>        push(x);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(len <span style="color:#555">&gt;</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> x,y;
</span></span><span style="display:flex;"><span>        x <span style="color:#555">=</span> a[<span style="color:#f60">1</span>]; pop();
</span></span><span style="display:flex;"><span>        y <span style="color:#555">=</span> a[<span style="color:#f60">1</span>]; pop();
</span></span><span style="display:flex;"><span>        push(x<span style="color:#555">+</span>y);
</span></span><span style="display:flex;"><span>        res <span style="color:#555">+=</span> x<span style="color:#555">+</span>y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%d&#34;</span>,res);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1190-noip2010-æ™®åŠç»„-æ¥æ°´é—®é¢˜">P1190 [NOIP2010 æ™®åŠç»„] æ¥æ°´é—®é¢˜</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1190">https://www.luogu.com.cn/problem/P1190</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ï¼š</p>
<p>è¦ä»æ ¹æœ¬ä¸Šå‘ç°ï¼Œä»€ä¹ˆå«æ¨¡æ‹Ÿï¼Œè¦å»æ€è€ƒå»æ¨¡æ‹Ÿç®—æ³•å®ç°çš„å…¨è¿‡ç¨‹ï¼Œå»å‘ç°éšå«æ¡ä»¶</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;iostream&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdio&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdlib&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">11000</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> w[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> p[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d&#34;</span>, <span style="color:#555">&amp;</span>n, <span style="color:#555">&amp;</span>m);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n ; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>w[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        p[i] <span style="color:#555">=</span> w[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> next <span style="color:#555">=</span> m <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(next <span style="color:#555">&lt;=</span> n <span style="color:#555">+</span> m ) <span style="color:#09f;font-style:italic">// æ­¤å¤„è®¾ç½®n + mçš„ç›®çš„æ˜¯ä¹‹åå¦‚æœæ‰€æœ‰éƒ½å®Œæ¯•åï¼Œåªéœ€è¦æŠŠå½“å‰æ°´é‡å…¨éƒ¨æµå®Œå°±è¡Œäº†ã€‚å½“å‰æœ‰mä¸ªç›†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            p[i] <span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(p[i] <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                p[i] <span style="color:#555">=</span> w[next];
</span></span><span style="display:flex;"><span>                next<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ans<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%d&#34;</span>, ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p7427-thupc2017-ç©æ¸¸æˆ">P7427 [THUPC2017] ç©æ¸¸æˆ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P7427">https://www.luogu.com.cn/problem/P7427</a></p>
</blockquote>
<blockquote>
<p>æ„é€ é¢˜&amp;&amp;SPJç±»é¢˜</p>
<p><em>//TODO:æœ¬é¢˜ä¸ºæ„é€ é¢˜ï¼ŒSPJé—®é¢˜ï¼Œæœ«å°¾ä¸èƒ½æœ‰å¤šä½™çš„ç©ºæ ¼å’Œå›è½¦</em></p>
<p><em>//åªéœ€è¦æ‰¾åˆ°ä¸€ç§æ»¡è¶³è¦æ±‚çš„æƒ…å†µå³å¯</em></p>
<p><em>//æ„é€ é¢˜å‘ç°ï¼Œåªæœ‰1+2+3+4+&hellip;.+i == a + bçš„æ—¶å€™ï¼Œæ‰æœ‰è§£</em></p>
<p><em>//ä¸”æ¬¡æ•°çš„æ“ä½œæ¬¡æ•°æ˜¯iæ¬¡</em></p>
<p><em>//ç„¶åå¯¹äºaè€Œè¨€ï¼Œåœ¨1 ~ iä¹‹é—´</em></p>
<p><em>//å¦‚æœa == 1~iä¹‹é—´çš„æŸä¸ªæ•°é‚£ä¹ˆå°±ç›´æ¥è¾“å‡ºè¿™ä¸ªæ•°j</em></p>
<p>//ğŸ‘†æ­¤æ—¶ç»“æŸæ“ä½œï¼Œå¯ä»¥è¯æ˜å½“a == jçš„æ—¶å€™å¯è·å¾—å”¯ä¸€è§£ï¼Œä¸”æ­¤æ—¶çš„æ“ä½œiæ¬¡å·²ç»å®Œæˆ</p>
<p>//å¦‚æœa &gt; 1 ~ i ä¹‹é—´çš„æœ€å¤§å€¼j ï¼Œé‚£ä¹ˆa = a - j å¹¶è¾“å‡ºj;ç„¶åå†ä¸€ä¸ªä¸€ä¸ªè®¿é—® j ~ 1ä¹‹é—´çš„å…ƒç´ ,ç›´åˆ°a==j</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;iostream&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdlib&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdio&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#09f;font-style:italic">//ç‰¹åˆ«æ³¨æ„ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æœ¬é¢˜çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œå·²ç»çˆ†int
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å› æ­¤æœ¬é¢˜åº”è¯¥é‡‡ç”¨long longæ¥å­˜å‚¨æ•´å‹æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    LL a,b;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%lld%lld&#34;</span>, <span style="color:#555">&amp;</span>a, <span style="color:#555">&amp;</span>b);
</span></span><span style="display:flex;"><span>    LL sum <span style="color:#555">=</span> a <span style="color:#555">+</span> b;
</span></span><span style="display:flex;"><span>    LL n <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    LL i <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        n <span style="color:#555">+=</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">==</span> sum) <span style="color:#09f;font-style:italic">//åªæœ‰n == sumçš„æ—¶å€™æ‰æœ‰è§£ï¼Œæ­¤æ—¶çš„è§£å°±æ˜¯iæ¬¡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            printf(<span style="color:#c30">&#34;%lld &#34;</span>,i);
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(LL j <span style="color:#555">=</span> i; j <span style="color:#555">&gt;=</span> <span style="color:#f60">1</span>; j <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(a <span style="color:#555">==</span> j) 
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    printf(<span style="color:#c30">&#34;%lld&#34;</span>,j);
</span></span><span style="display:flex;"><span>                    <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(a <span style="color:#555">&gt;</span> j)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    printf(<span style="color:#c30">&#34;%lld &#34;</span> ,j);
</span></span><span style="display:flex;"><span>                    a <span style="color:#555">=</span> a <span style="color:#555">-</span> j;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (n <span style="color:#555">&gt;</span> sum)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            printf(<span style="color:#c30">&#34;No&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        i<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1684-è€ƒéªŒ">P1684 è€ƒéªŒ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1684">https://www.luogu.com.cn/problem/P1684</a></p>
</blockquote>
<blockquote>
<p>è´ªå¿ƒç®—æ³•æ­£è§£ï¼š</p>
<p>ç”±é¢˜æ„å¯çŸ¥ï¼Œæ»¡è¶³æ¡ä»¶çš„éŸµè„šæœ‰
AABBï¼ŒABBAï¼ŒABAB  &mdash;&gt; ä¸¤ç§ä¸åŒçš„éŸµè„šåˆ†åˆ«å‡ºç°2æ¬¡</p>
<p>AAAA &mdash;&gt;ç›¸åŒçš„éŸµè„šå‡ºç°4æ¬¡</p>
<p>&mdash;&gt;æ³¨æ„æ¯æ¬¡è·å¾—ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å¯¹ã€‚è¦æ¸…é™¤ä¸€æ¬¡æ•°æ®ã€‚é‡æ–°å¼€å§‹éå†</p>
<p>å¯ä»¥ç”¨STLåº“çš„map</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;iostream&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdio&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdlib&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstring&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">4010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> w[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> temp <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    memset(w, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span>(w));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>x);
</span></span><span style="display:flex;"><span>        w[x] <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(w[x] <span style="color:#555">==</span> <span style="color:#f60">2</span>) temp <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(temp <span style="color:#555">==</span> <span style="color:#f60">2</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            temp <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>            memset(w, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span>(w));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(w[x] <span style="color:#555">==</span> <span style="color:#f60">4</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            temp <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>            memset(w, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span>(w));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%d&#34;</span>, ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p6878-joi-2020-final-jjooii-2">P6878 [JOI 2020 Final] JJOOII 2 [?]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P6878">https://www.luogu.com.cn/problem/P6878</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯é¢˜è§£ï¼š</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> MAXN<span style="color:#555">=</span><span style="color:#f60">2e5</span><span style="color:#555">+</span><span style="color:#f60">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">char</span> s[MAXN];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,k,ne[MAXN][<span style="color:#f60">3</span>]; 
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//neæ•°ç»„å­˜æ”¾åˆ é™¤äº†å¤šå°‘
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>(){
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#c30">&#34;%d%d%s&#34;</span>,<span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>k,s<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//s+1ç›®çš„æ˜¯ä¸ºäº†è®©å­—ç¬¦ä¸²ä»1å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	<span style="color:#078;font-weight:bold">int</span> cur<span style="color:#555">=</span><span style="color:#f60">1</span>,num<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è®¡ç®—&#34;J&#34;æœ‰å¤šå°‘ä¸ª
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	<span style="color:#069;font-weight:bold">while</span>(cur<span style="color:#555">&lt;=</span>n <span style="color:#555">&amp;&amp;</span> num<span style="color:#555">&lt;</span>k) num<span style="color:#555">+=</span>(s[cur<span style="color:#555">++</span>]<span style="color:#555">==</span><span style="color:#c30">&#39;J&#39;</span>);
</span></span><span style="display:flex;"><span>    cur<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>;i<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>		ne[i][<span style="color:#f60">0</span>]<span style="color:#555">=</span>cur;
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(s[i]<span style="color:#555">==</span><span style="color:#c30">&#39;J&#39;</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(cur<span style="color:#555">!=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>) cur<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">while</span>(cur<span style="color:#555">&lt;=</span>n<span style="color:#555">&amp;&amp;</span>s[cur]<span style="color:#555">!=</span><span style="color:#c30">&#39;J&#39;</span>) cur<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cur<span style="color:#555">=</span><span style="color:#f60">1</span>,num<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">while</span>(cur<span style="color:#555">&lt;=</span>n<span style="color:#555">&amp;&amp;</span>num<span style="color:#555">&lt;</span>k) num<span style="color:#555">+=</span>(s[cur<span style="color:#555">++</span>]<span style="color:#555">==</span><span style="color:#c30">&#39;O&#39;</span>);
</span></span><span style="display:flex;"><span>    cur<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>;i<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>		ne[i][<span style="color:#f60">1</span>]<span style="color:#555">=</span>cur;
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(s[i]<span style="color:#555">==</span><span style="color:#c30">&#39;O&#39;</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(cur<span style="color:#555">!=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>) cur<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">while</span>(cur<span style="color:#555">&lt;=</span>n<span style="color:#555">&amp;&amp;</span>s[cur]<span style="color:#555">!=</span><span style="color:#c30">&#39;O&#39;</span>) cur<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cur<span style="color:#555">=</span><span style="color:#f60">1</span>,num<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">while</span>(cur<span style="color:#555">&lt;=</span>n<span style="color:#555">&amp;&amp;</span>num<span style="color:#555">&lt;</span>k) num<span style="color:#555">+=</span>(s[cur<span style="color:#555">++</span>]<span style="color:#555">==</span><span style="color:#c30">&#39;I&#39;</span>);
</span></span><span style="display:flex;"><span>    cur<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>;i<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>		ne[i][<span style="color:#f60">2</span>]<span style="color:#555">=</span>cur;
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(s[i]<span style="color:#555">==</span><span style="color:#c30">&#39;I&#39;</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(cur<span style="color:#555">!=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>) cur<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">while</span>(cur<span style="color:#555">&lt;=</span>n<span style="color:#555">&amp;&amp;</span>s[cur]<span style="color:#555">!=</span><span style="color:#c30">&#39;I&#39;</span>) cur<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">int</span> ans<span style="color:#555">=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#078;font-weight:bold">int</span> r<span style="color:#555">=</span>ne[i][<span style="color:#f60">0</span>];
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(r<span style="color:#555">!=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>) r<span style="color:#555">=</span>ne[r<span style="color:#555">+</span><span style="color:#f60">1</span>][<span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(r<span style="color:#555">!=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>) r<span style="color:#555">=</span>ne[r<span style="color:#555">+</span><span style="color:#f60">1</span>][<span style="color:#f60">2</span>];
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(r<span style="color:#555">!=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>) ans<span style="color:#555">=</span>min(ans,r<span style="color:#555">-</span>i<span style="color:#555">+</span><span style="color:#f60">1</span><span style="color:#555">-</span>(k<span style="color:#555">*</span><span style="color:#f60">3</span>));
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(ans <span style="color:#555">==</span> n <span style="color:#555">+</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%d&#34;</span>,ans);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ13æ—¥">2021å¹´7æœˆ13æ—¥</h3>
<h4 id="p3708-koishiçš„æ•°å­¦é¢˜">P3708 koishiçš„æ•°å­¦é¢˜</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3708">https://www.luogu.com.cn/problem/P3708</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ä¸æƒ³æ³•ï¼š</p>
<p>é€’æ¨ç±»å‹çš„é¢˜ç›®ï¼š</p>
<blockquote>
<p>æ€è€ƒå–æ¨¡MODè¿ç®—æ‰€è¦æ»¡è¶³çš„æ¡ä»¶ï¼š</p>
<ol>
<li>
<p>æ±‚æ•´æ•°å•†ï¼šc = a / b;</p>
</li>
<li>
<p>è®¡ç®—æ¨¡æˆ–ä½™æ•°ï¼š r = a - c * b</p>
<blockquote>
<p>(a + b) % p = (a % p + b % p) % p</p>
<p>(a - b) % p = (a % p - b % p) % p</p>
<p>(a * b) % p = (a % p * b % p) % p</p>
<p>a ^ b % p = ((a % p)^b) % p</p>
<p>ç»“åˆå¾‹ï¼š</p>
<p>((a+b) % p + c) % p = (a + (b+c) % p) % p</p>
<p>((a<em>b) % p * c)% p = (a * (b</em>c) % p) % p</p>
<p>äº¤æ¢å¾‹ï¼š</p>
<p>(a + b) % p = (b+a) % p</p>
<p>(a * b) % p = (b * a) % p</p>
<p>åˆ†é…å¾‹ï¼š</p>
<p>((a +b)% p * c) % p = ((a * c) % p + (b * c) % p) % p</p>
</blockquote>
</li>
</ol>
</blockquote>
<p>æœ¬é¢˜æ€è·¯ï¼š[é€’æ¨æ–¹å¼]</p>
<p>$f(x)  = \sum_{i=1}^nx(mod\ i)$</p>
<p>$f(x) = nx - \sum_{i=1}^n \lfloor \frac{x}{i}*i \rfloor$  &lt;&mdash;&mdash; //ä»£ç ä¸­æœ€åè¾“å‡ºçš„æ˜¯è¿™ä¸ª</p>
<p>ç›´æ¥è¿ç®—æ—¶é—´å¤æ‚åº¦ä¼šæ¯”è¾ƒé«˜</p>
<p>//å•ç‹¬åˆ†æä¸€ä¸‹ $\sum_{i=1}^n \lfloor \frac{x}{i}*i \rfloor$</p>
<p>è€ƒè™‘é€’æ¨æ–¹å¼:$f(x) - f(x-1) = \sum_{i=1}^ni*(\lfloor\frac{x}{i}\rfloor -\lfloor\frac{x-1}{i}\rfloor)$</p>
<blockquote>
<p>å–„äºå‘ç°ï¼šå¯¹äºåé¢ä¸€ä¸ªå¼å­ï¼Œå½“ièƒ½è¢«æ•´é™¤çš„æ—¶å€™ï¼Œ$\lfloor\frac{x}{i}\rfloor -\lfloor\frac{x-1}{i}\rfloor = 1 å½“å…¶ä¸èƒ½è¢«æ•´é™¤çš„æ—¶å€™ï¼Œç”±äºæ•´æ•°éƒ¨åˆ†ç›¸åŒï¼Œæ•…å…¶å€¼ä¸º0$</p>
<p>&ndash;&gt; $\sum_{i=1}^ni*(\lfloor\frac{x}{i}\rfloor-\lfloor\frac{x-1}{i}\rfloor) = \sum_{d|x}^x = \xi(x)$</p>
<p>$f(x) - f(x-1) = \xi(x)$</p>
</blockquote>
<p>å…³äº$\xi(x)$ å› ä¸ºèƒ½å¤Ÿæ•´é™¤çš„æ—¶å€™å…¶å€¼ä¸º1ï¼Œä¸èƒ½å¤Ÿè¢«æ•´é™¤çš„æ—¶å€™å…¶å€¼ä¸º0ï¼Œ
æ‰€ä»¥å…¶å’Œ$\sum$æ¥è¯´å°±æ˜¯å…¶æ‰€æœ‰å› å­æ€»å’Œã€‚</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> i; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">=</span> j <span style="color:#555">+</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[j] <span style="color:#555">=</span> f[j] <span style="color:#555">+</span> i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æš´åŠ›ç­›ï¼šæ‰¾èƒ½è¢«æ•´é™¤çš„æ•° ï¼ˆä¹Ÿå°±æ˜¯æ‰¾å› å­ï¼‰
</span></span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;iostream&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdio&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdlib&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1000010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LL f[N],res[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//æš´åŠ›ç­›é€‰ï¼šç›®çš„æ˜¯æ±‚å‡ºæ‰€æœ‰å› å­
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> i; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">=</span> j <span style="color:#555">+</span> i)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            f[j] <span style="color:#555">=</span> f[j] <span style="color:#555">+</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//é€’æ¨å¼åä¸€éƒ¨åˆ†å°±æ˜¯è¯¥æ•°çš„æ‰€æœ‰å› å­çš„å’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    res[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        res[i] <span style="color:#555">=</span> res[i <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> f[i]; <span style="color:#09f;font-style:italic">//é€’æ¨å¼æ±‚è§£
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ğŸ‘†æ±‚å‡ºæ‰€æœ‰Î¸(X)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%lld &#34;</span>,(LL)n<span style="color:#555">*</span>(LL)i <span style="color:#555">-</span> res[i]); <span style="color:#09f;font-style:italic">//æ ¹æ®åˆ†æå¾—åˆ°çš„é€’æ¨å¼æ±‚å¾—å…¶è§£
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1255-æ•°æ¥¼æ¢¯">P1255 æ•°æ¥¼æ¢¯</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1255">https://www.luogu.com.cn/problem/P1255</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ï¼š</p>
<p>é«˜ç²¾åº¦ä¸æ–æ³¢é‚£å¥‘æ•°åˆ—ç»“åˆ</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;vector&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">5010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> num[N][<span style="color:#f60">5001</span>];
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ•°ç»„å¼€å¤ªå¤§å®¹æ˜“MLE
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//é«˜ç²¾åº¦åŠ æ³•+æ–æ³¢é‚£å¥‘æ•°åˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ–æ³¢é‚£å¥‘æ•°åˆ—çš„éé€’å½’æ–¹å¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    num[<span style="color:#f60">1</span>][<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>; <span style="color:#09f;font-style:italic">//ç¬¬1é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    num[<span style="color:#f60">2</span>][<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">2</span>; <span style="color:#09f;font-style:italic">//ç¬¬2é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">3</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//ä»ç¬¬ä¸‰é¡¹å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> len; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            num[i][j] <span style="color:#555">=</span> num[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][j] <span style="color:#555">+</span> num[i <span style="color:#555">-</span> <span style="color:#f60">2</span>][j]; <span style="color:#09f;font-style:italic">//æ¨¡æ‹Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç”±æ¥
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> len; j <span style="color:#555">++</span>)<span style="color:#09f;font-style:italic">//é«˜ç²¾åº¦åŠ æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(num[i][j] <span style="color:#555">&gt;=</span> <span style="color:#f60">10</span>)<span style="color:#09f;font-style:italic">//å¦‚æœæœ‰ä¸€é¡¹å¤§äº10çš„è¯ï¼Œåˆ™è¿›ä½
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>                num[i][j<span style="color:#555">+</span><span style="color:#f60">1</span>] <span style="color:#555">+=</span> num[i][j] <span style="color:#555">/</span> <span style="color:#f60">10</span>;
</span></span><span style="display:flex;"><span>                num[i][j] <span style="color:#555">=</span> num[i][j] <span style="color:#555">%</span> <span style="color:#f60">10</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(num[i][len<span style="color:#555">+</span><span style="color:#f60">1</span>]) len<span style="color:#555">++</span>; <span style="color:#09f;font-style:italic">//å¦‚æœåä¸€ä½ä¸ä¸º0çš„è¯ï¼Œåˆ™é•¿åº¦len++
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> len; i <span style="color:#555">&gt;=</span> <span style="color:#f60">1</span>; i <span style="color:#555">--</span>)<span style="color:#09f;font-style:italic">//å€’åºè¾“å‡º
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%d&#34;</span>,num[n][i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å¦å¤–çš„æ–¹æ³•ï¼Œä¼¼ä¹å­˜åœ¨é”™è¯¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//TPDO:åºŸäººä¸€ä¸ªğŸ»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">int main()
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">{
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    LL n;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    scanf(&#34;%lld&#34;, &amp;n);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">	num[1][N-1]=1;//ç¬¬ä¸€é¡¹ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">	num[2][N-1]=2;//ç¬¬äºŒé¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">	for(int i = 3; i &lt;= n; i ++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">	{
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">		for(int j = N - 1; j &gt;= 0; j --)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">		{
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">			if((num[i-1][j]+num[i-2][j])&gt;=10)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">				num[i][j-1]+=1;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">			num[i][j]=num[i][j]+(num[i-1][j]+num[i-2][j])%10; 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        } 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    } 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    int j = 0;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    while(num[n][j] == 0) j++;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    for(int i = j; i &lt; N; i++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        printf(&#34;%lld&#34;,num[n][i]);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">	return 0;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">}
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1387-æœ€å¤§æ­£æ–¹å½¢">P1387 æœ€å¤§æ­£æ–¹å½¢</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1387">https://www.luogu.com.cn/problem/P1387</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ï¼šæƒ³æ³•</p>
<blockquote>
<p>å½“ç„¶ï¼Œè¯¥é¢˜å¯ä»¥ç”¨ç¥ä»™åŠ¨æ€è§„åˆ’è§£å†³</p>
<blockquote>
<p>åŠ¨æ€è§„åˆ’ï¼ŒçŠ¶è½¬æ–¹ç¨‹ï¼š</p>
<p><code>if (a[i][j]==1) f[i][j]=min(min(f[i][j-1],f[i-1][j]),f[i-1][j-1])+1;</code></p>
<p>è¯´æ˜ï¼š</p>
<p>f[i][j]è¡¨ç¤ºä»¥èŠ‚ç‚¹i,jä¸ºå³ä¸‹è§’ï¼Œå¯æ„æˆçš„æœ€å¤§æ­£æ–¹å½¢çš„è¾¹é•¿ã€‚</p>
<p>åªæœ‰a[i][j]==1æ—¶ï¼ŒèŠ‚ç‚¹i,jæ‰èƒ½ä½œä¸ºæ­£æ–¹å½¢çš„å³ä¸‹è§’ï¼›</p>
<p>å¯¹äºä¸€ä¸ªå·²ç»ç¡®å®šçš„f[i][j]=xï¼Œå®ƒè¡¨æ˜åŒ…æ‹¬èŠ‚ç‚¹iï¼Œjåœ¨å†…å‘ä¸Šxä¸ªèŠ‚ç‚¹ï¼Œå‘å·¦xä¸ªèŠ‚ç‚¹æ‰«è¿‡çš„æ­£æ–¹å½¢ä¸­æ‰€æœ‰aå€¼éƒ½ä¸º1ï¼›</p>
<p>å¯¹äºä¸€ä¸ªå¾…ç¡®å®šçš„f[i][j]ï¼Œæˆ‘ä»¬å·²çŸ¥f[i-1][j]ï¼Œf[i][j-1]ï¼Œf[i-1][j-1]çš„å€¼ï¼Œå¦‚ä¸‹ï¼š</p>
<p>fæ•°ç»„:</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>? ? ? ?
</span></span><span style="display:flex;"><span>? ? 2 1
</span></span><span style="display:flex;"><span>? ? 3 ?
</span></span><span style="display:flex;"><span>? ? ? ?
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ™è¯´æ˜åŸaæ•°ç»„ï¼š</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>1 1 1 0
</span></span><span style="display:flex;"><span>1 1 1 1
</span></span><span style="display:flex;"><span>1 1 1 1
</span></span><span style="display:flex;"><span>? ? ? ?
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç”±æ­¤å¾—å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p><code>if (a[i][j]==1) f[i][j]=min(min(f[i][j-1],f[i-1][j]),f[i-1][j-1])+1;</code></p>
<p><strong>for example:</strong></p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>a[i][j]:
</span></span><span style="display:flex;"><span>0 0 0 1
</span></span><span style="display:flex;"><span>1 1 1 1
</span></span><span style="display:flex;"><span>0 1 1 1
</span></span><span style="display:flex;"><span>1 1 1 1
</span></span><span style="display:flex;"><span>f[i][j]:
</span></span><span style="display:flex;"><span>0 0 0 1
</span></span><span style="display:flex;"><span>1 1 1 1
</span></span><span style="display:flex;"><span>0 1 2 2
</span></span><span style="display:flex;"><span>1 1 2 3
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;iostream&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdio&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[<span style="color:#f60">101</span>][<span style="color:#f60">101</span>],n,m,f[<span style="color:#f60">101</span>][<span style="color:#f60">101</span>],ans;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> scanf(<span style="color:#c30">&#34;%d%d&#34;</span>,<span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>m);<span style="color:#09f;font-style:italic">//è¯»å…¥
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;<span style="color:#555">++</span>i)
</span></span><span style="display:flex;"><span>     <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> j<span style="color:#555">=</span><span style="color:#f60">1</span>;j<span style="color:#555">&lt;=</span>m;<span style="color:#555">++</span>j)
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>         scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>a[i][j]);
</span></span><span style="display:flex;"><span>         <span style="color:#09f;font-style:italic">//å› ä¸ºåªéœ€ç”¨åˆ°iï¼Œjä¸Šæ–¹ï¼Œå·¦æ–¹ï¼Œå·¦ä¸Šæ–¹çš„ä¿¡æ¯ï¼Œè¯»å…¥åŒæ­¥å¤„ç†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>         <span style="color:#069;font-weight:bold">if</span> (a[i][j]<span style="color:#555">==</span><span style="color:#f60">1</span>) f[i][j]<span style="color:#555">=</span>min(min(f[i][j<span style="color:#555">-</span><span style="color:#f60">1</span>],f[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j]),f[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j<span style="color:#555">-</span><span style="color:#f60">1</span>])<span style="color:#555">+</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>         ans<span style="color:#555">=</span>max(ans,f[i][j]);<span style="color:#09f;font-style:italic">//åŒæ­¥æ›´æ–°ç­”æ¡ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>     }
</span></span><span style="display:flex;"><span> printf(<span style="color:#c30">&#34;%d&#34;</span>,ans);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>ans<span style="color:#555">=</span><span style="color:#f60">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
</blockquote>
<p>å¯æƒœæˆ‘å’‹ä¼šåŠ¨æ€è§„åˆ’ï¼Œè¿˜æ˜¯è€è€å®å®äºŒç»´å‰ç¼€å’Œæ¥è¿›è¡Œæ±‚è§£å§~</p>
<p>åˆ©ç”¨äºŒç»´å‰ç¼€å’Œï¼Œæ±‚å¾—é¢ç§¯ï¼Œæœ€ååˆ¤æ–­é¢ç§¯æ˜¯å¦èƒ½å¤Ÿæ„æˆæ­£æ–¹å½¢ï¼Œè‹¥èƒ½çš„è¯ï¼Œè¾¹é•¿å°±æ˜¯é¢ç§¯çš„å¼€æ–¹</p>
<p>äºŒç»´å‰ç¼€å’Œï¼š</p>
<p><code>s[i][j] = s[i - 1][j] + s[i][j - 1] - s[i - 1][j - 1] + a[i][j];</code></p>
<p>äºŒç»´å‰ç¼€å’Œï¼ˆéƒ¨åˆ†å’Œï¼‰ x1,y1 ä¸x2,y2ä¹‹é—´çš„å’Œ</p>
<p><code>s[x2][y2] - s[x2][y1 - 1] - s[x1 - 1][y2] + s[x1 - 1][y1 - 1]</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstring&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">210</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> s[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d&#34;</span>, <span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>m);
</span></span><span style="display:flex;"><span>    memset(s,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span>(s));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>a[i][j]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            s[i][j] <span style="color:#555">=</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][j] <span style="color:#555">+</span> s[i][j <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">-</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][j <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> a[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//DEBUG
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    for(int i = 0 ; i &lt;= n; i ++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        for(int j = 0; j &lt;= m; j ++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            cout &lt;&lt; s[i][j] &lt;&lt; &#34; &#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        cout &lt;&lt; endl;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    */</span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ±‚æ­£æ–¹å½¢è¾¹é•¿ï¼Œä¸æ˜¯è¦ä½ å»æ±‚é¢ç§¯=c=
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> p <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> res <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">while</span>(k <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> p <span style="color:#555">&lt;=</span> m)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                res <span style="color:#555">=</span> s[k][p] <span style="color:#555">-</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][p] <span style="color:#555">-</span> s[k][j <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> s[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j<span style="color:#555">-</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>                <span style="color:#078;font-weight:bold">int</span> temp <span style="color:#555">=</span> (k <span style="color:#555">-</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>) <span style="color:#555">*</span> (p <span style="color:#555">-</span> j <span style="color:#555">+</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#09f;font-style:italic">//DEBUG
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//cout &lt;&lt; &#34; RES : &#34; &lt;&lt; res &lt;&lt; endl;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                <span style="color:#069;font-weight:bold">if</span> (res <span style="color:#555">&gt;=</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> res <span style="color:#555">==</span> temp)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    res <span style="color:#555">=</span> sqrt(res); <span style="color:#09f;font-style:italic">//æ±‚æ­£æ–¹å½¢è¾¹é•¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                    ans <span style="color:#555">=</span> max(ans, res);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                k<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>                p<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%d&#34;</span>, ans);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2327-scoi2005-æ‰«é›·">P2327 [SCOI2005]æ‰«é›·</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2327">https://www.luogu.com.cn/problem/P2327</a></p>
</blockquote>
<blockquote>
<p>ã€é€’æ¨ã€‘</p>
<p>ä¸¾ä¾‹å­è¿›è¡Œé€’æ¨åï¼Œå‘ç°æœ€ç»ˆçš„ç»“æœåªæœ‰ä¸‰ç§æƒ…å†µï¼š0ã€1ã€2</p>
<p>æˆ‘ä»¬å¯ä»¥ä»ç¬¬äºŒåˆ—çš„ç¬¬ä¸€ä¸ªæ ¼å­å¼€å§‹è¿›è¡Œåˆ¤æ–­
åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œç¬¬ä¸€ä¸ªæ ¼å­æœ‰é›· || ç¬¬ä¸€ä¸ªæ ¼å­æ— é›·</p>
<p>b[1] = 0 or b[1] = 1;</p>
<p>ä»i = 2 å¼€å§‹ï¼Œå¯¹b[i]è¿›è¡Œåˆ¤æ–­æ±‚è§£</p>
<p>b[i]çš„æƒ…å†µï¼Œæ¯æ¬¡ä»¥a[i-1]è¿›è¡Œé€‰å–ï¼Œb[i]çš„æƒ…å†µå¯ä»¥æ ¹æ®a[i-1],b[i-1],b[i-2]è¿›è¡Œåˆ¤æ–­</p>
<p>éœ€è¦ç‰¹åˆ¤ï¼šå¦‚æœb[i]ä¸æ˜¯0æˆ–1çš„è¯ï¼Œç›´æ¥å°±æ˜¯ä¸æ»¡è¶³æ¡ä»¶
è¿˜éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹åˆ°è¾¾b[n+1]çš„æ—¶å€™ä¸€å®šè¦ä¸º0ï¼Œå¦åˆ™ä¹Ÿä¸æ»¡è¶³æ¡ä»¶</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> i,j,k,m,n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans<span style="color:#555">=</span><span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[<span style="color:#f60">10010</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> b[<span style="color:#f60">10010</span>];
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åªæœ‰å¯èƒ½æ˜¯0,1,2
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ä»ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹è¿›è¡Œåˆ¤æ–­
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å¦‚æœç¬¬ä¸€ä¸ªä½ç½®æœ‰é›·å’Œæ— é›·éƒ½èƒ½æ»¡è¶³è¦æ±‚çš„è¯ï¼Œé‚£ä¹ˆans=2;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å¯ä»¥è®¾æœ€åˆans=2;ç„¶åå»è¿›è¡Œç‰¹åˆ¤ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin<span style="color:#555">&gt;&gt;</span>n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span> (i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin<span style="color:#555">&gt;&gt;</span>a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    b[<span style="color:#f60">1</span>]<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å‡è®¾ç¬¬ä¸€ä¸ªæœ‰é›·
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>;i <span style="color:#555">&lt;=</span> n<span style="color:#555">+</span><span style="color:#f60">1</span>; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ä»ç¬¬äºŒä¸ªä½ç½®å¼€å§‹æ¯”è¾ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        b[i] <span style="color:#555">=</span> a[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">-</span> b[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">-</span> b[i<span style="color:#555">-</span><span style="color:#f60">2</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (<span style="color:#555">!</span>(b[i]<span style="color:#555">==</span><span style="color:#f60">1</span><span style="color:#555">||</span>b[i]<span style="color:#555">==</span><span style="color:#f60">0</span>))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (i<span style="color:#555">==</span>n<span style="color:#555">+</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> b[i]<span style="color:#555">!=</span><span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    b[<span style="color:#f60">1</span>]<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å‡è®¾ç¬¬ä¸€ä¸ªæ— é›·
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i  <span style="color:#555">=</span><span style="color:#f60">2</span>;i  <span style="color:#555">&lt;=</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>;i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        b[i] <span style="color:#555">=</span> a[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">-</span> b[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">-</span> b[i<span style="color:#555">-</span><span style="color:#f60">2</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (<span style="color:#555">!</span>(b[i] <span style="color:#555">==</span> <span style="color:#f60">1</span><span style="color:#555">||</span>b[i] <span style="color:#555">==</span> <span style="color:#f60">0</span>))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (i <span style="color:#555">==</span> n<span style="color:#555">+</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> b[i] <span style="color:#555">!=</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout<span style="color:#555">&lt;&lt;</span>ans;   
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2004-é¢†åœ°é€‰æ‹©">P2004 é¢†åœ°é€‰æ‹©</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2004">https://www.luogu.com.cn/problem/P2004</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ï¼šäºŒç»´å‰ç¼€å’Œ
é¦–å…ˆé¢„å¤„ç†ä¸€ä¸‹ï¼ŒäºŒä½å‰ç¼€å’Œçš„å€¼
ç„¶åä»æ¯ä¸ªå¼€å§‹è®¡ç®—ä¸€ä¸‹ï¼Œé•¿åº¦ä¸ºcçš„å‰ç¼€å’Œçš„å¤§å°ï¼Œé€‰å–æœ€å¤§çš„éƒ¨åˆ†å’Œçš„å·¦ä¸Šè§’çš„åæ ‡ä¸ºç­”æ¡ˆ</p>
<p>æ³¨æ„ï¼šæœ¬é¢˜æœ‰æƒ…å†µï¼Œå¦‚å¯èƒ½å‡ºç°è´Ÿæ•°ä¸ºæœ€å¤§å€¼ï¼Œæ‰€ä»¥é¢„å¤„ç†çš„anså€¼åº”è¯¥ä¸ºè´Ÿæ— ç©·å¤§</p>
<p>ans = -0x3f3f3f3f</p>
<p>//ç„¶åè¦ææ¸…æ¥šå³ä¸‹è§’çš„å…·ä½“ä½ç½®ï¼Œç›¸å¯¹äºå·¦ä¸Šè§’ i + c - 1; j + c - 1;</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> s[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> x;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> y;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//4ä¸ª3f
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//è¦æ³¨æ„é¢˜ç›®æœ‰å¯èƒ½æ˜¯æœ€å¤§å€¼æ˜¯è´Ÿæ•°ï¼Œæ‰€ä»¥åˆå§‹åŒ–å¯ä»¥æ˜¯è´Ÿæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n,m,c;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m <span style="color:#555">&gt;&gt;</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#555">&gt;&gt;</span> a[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            s[i][j] <span style="color:#555">=</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][j] <span style="color:#555">+</span> s[i][j <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">-</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][j <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> a[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> i <span style="color:#555">+</span> c <span style="color:#555">-</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> p <span style="color:#555">=</span> j <span style="color:#555">+</span> c <span style="color:#555">-</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//è¿™é‡Œè¦æ³¨æ„æ˜¯ x + c - 1(è¦å‡å»1)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">if</span>(k <span style="color:#555">&gt;</span> n <span style="color:#555">||</span> p <span style="color:#555">&gt;</span> m) <span style="color:#069;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> res <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>            res <span style="color:#555">=</span> s[k][p] <span style="color:#555">-</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][p] <span style="color:#555">-</span> s[k][j <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> s[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j<span style="color:#555">-</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(res <span style="color:#555">&gt;</span> ans)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ans <span style="color:#555">=</span> res;
</span></span><span style="display:flex;"><span>                x <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>                y <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> x <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span> <span style="color:#555">&lt;&lt;</span> y;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3131-usaco16jan-subsequences-summing-to-sevens-s">P3131 [USACO16JAN]Subsequences Summing to Sevens S</h4>
<h4 id="p2697-å®çŸ³ä¸²">P2697 å®çŸ³ä¸²</h4>
<h4 id="p1114-éå¸¸ç”·å¥³-è®¡åˆ’">P1114 â€œéå¸¸ç”·å¥³â€è®¡åˆ’</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3131">https://www.luogu.com.cn/problem/P3131</a>
<a href="https://www.luogu.com.cn/problem/P2697">https://www.luogu.com.cn/problem/P2697</a>
<a href="https://www.luogu.com.cn/problem/P1114">https://www.luogu.com.cn/problem/P1114</a></p>
</blockquote>
<blockquote>
<p>è¿™ä¸‰é“é¢˜éƒ½æ˜¯å‰ç¼€å’Œçš„åšæ³•ï¼Œåšæ³•ä¸€æ¨¡ä¸€æ ·</p>
<p>éœ€è¦æ³¨æ„ç‚¹çš„æ˜¯ï¼Œæ˜¯å¦è¶…è¿‡INTèŒƒå›´ï¼Œæ”¹ç”¨long longï¼Œä»¥åŠä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦å¯ä»¥åœ¨å¾ªç¯ä¸­è®¾ç½®é€€å‡ºå¾ªç¯çš„ä¸€äº›æ¡ä»¶ã€‚</p>
<p>ç„¶åæ˜¯ä¸€äº›ä½çº§é”™è¯¯è¦æ³¨æ„ï¼Œæ¯”å¦‚è¦è®¡ç®—çš„éƒ¨åˆ†å’Œçš„èŒƒå›´é—®é¢˜ï¼Œ<code>s[j] - s[i - 1];</code> ä»¥åŠåŒºé—´<code>j - i + 1</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//P3131
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1000010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LL s[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>t);
</span></span><span style="display:flex;"><span>        s[i] <span style="color:#555">=</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> t;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    LL maxc <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> n; j <span style="color:#555">&gt;</span> i ; j <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(maxc <span style="color:#555">&gt;</span> j <span style="color:#555">-</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>) <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//ğŸ‘†é™ä½ä¸€ç‚¹æ—¶é—´å¤æ‚åº¦çš„æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            LL temp <span style="color:#555">=</span> s[j] <span style="color:#555">-</span> s[i <span style="color:#555">-</span> <span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(temp <span style="color:#555">%</span> <span style="color:#f60">7</span> <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                maxc <span style="color:#555">=</span> max(maxc, (LL)j <span style="color:#555">-</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>, maxc);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1192-å°é˜¶é—®é¢˜">P1192 å°é˜¶é—®é¢˜</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1192">https://www.luogu.com.cn/problem/P1192</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯/è§£é¢˜æ–¹æ³•ï¼š ã€å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£é¢˜ã€‘</p>
<p>é€’æ¨é¢˜ï¼›</p>
<p>é€šè¿‡é€’æ¨å‘ç°è§„å¾‹</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>k=2 : 1 2 3 5 8 13 21 34...
</span></span><span style="display:flex;"><span>k=3 : 1 2 4 7 13 24 44 81...
</span></span><span style="display:flex;"><span>k=4 : 1 2 4 8 15 29 56 108...
</span></span><span style="display:flex;"><span>k=5 : 1 2 4 8 16 31 61 120...
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>è§„å¾‹ï¼š 
</span></span><span style="display:flex;"><span>å½“n&lt;=kæ—¶,ç¬¬Né¡¹=(ä¸Šä¸€é¡¹*2)%100003;
</span></span><span style="display:flex;"><span>å½“n&gt;kæ—¶ ,ç¬¬Né¡¹=(ä¸Šä¸€é¡¹*2-ç¬¬n-1-ké¡¹)%100003;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šå› ä¸ºæ±‚å¾—çš„å€¼å¯èƒ½ä¼šæ¯”è¾ƒå¤§ï¼Œæ•…æ­¤åº”è¯¥è¿›è¡Œå–æ¨¡è¿ç®—</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> mod<span style="color:#555">=</span><span style="color:#f60">100003</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,k,a[<span style="color:#f60">1000000</span>],ans<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	cin<span style="color:#555">&gt;&gt;</span>n<span style="color:#555">&gt;&gt;</span>k;
</span></span><span style="display:flex;"><span>	a[<span style="color:#f60">0</span>]<span style="color:#555">=</span>a[<span style="color:#f60">1</span>]<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">2</span>;i<span style="color:#555">&lt;=</span>n;<span style="color:#555">++</span>i)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(i<span style="color:#555">&lt;=</span>k)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			a[i]<span style="color:#555">=</span>(a[i<span style="color:#555">-</span><span style="color:#f60">1</span>]<span style="color:#555">*</span><span style="color:#f60">2</span>)<span style="color:#555">%</span>mod;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">else</span> 
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			a[i]<span style="color:#555">=</span>(a[i<span style="color:#555">-</span><span style="color:#f60">1</span>]<span style="color:#555">*</span><span style="color:#f60">2</span><span style="color:#555">-</span>a[i<span style="color:#555">-</span>k<span style="color:#555">-</span><span style="color:#f60">1</span>])<span style="color:#555">%</span>mod;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	ans<span style="color:#555">=</span>(a[n]<span style="color:#555">+</span>mod)<span style="color:#555">%</span>mod;
</span></span><span style="display:flex;"><span>    cout<span style="color:#555">&lt;&lt;</span>ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ14æ—¥">2021å¹´7æœˆ14æ—¥</h3>
<h4 id="p1314-noip2011-æé«˜ç»„-èªæ˜çš„è´¨ç›‘å‘˜">P1314 [NOIP2011 æé«˜ç»„] èªæ˜çš„è´¨ç›‘å‘˜</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1314">https://www.luogu.com.cn/problem/P1314</a></p>
</blockquote>
<blockquote>
<p>åˆ†æï¼Œè¯¥é¢˜éšè—äº†å‰ç¼€å’Œå’ŒäºŒåˆ†ä¸¤ç§ç®—æ³•çŸ¥è¯†</p>
<p>é¦–å…ˆå¯¹äºYçš„æ±‚è§£ï¼Œè§‚å¯Ÿå…¶æœ‰ç´¯åŠ æ“ä½œâ€”â€”â€”&gt;è”æƒ³åˆ°å‰ç¼€å’Œ</p>
<p>å…¶æ¬¡å¯¹äºWçš„ç»™å®šå€¼</p>
<p>Â·å½“Wå–w[N]ä¸­æœ€å¤§çš„é‚£ä¸€é¡¹çš„æ—¶å€™ï¼ŒYæ­¤æ—¶ç­‰äº0ï¼ŒY &lt; s æ•…ä¸ºäº†ä½¿å¾—|Y-s|æœ€å°ï¼Œåˆ™åº”è¯¥å¢å¤§Yï¼Œæ•…åº”è¯¥å‡å°W</p>
<p>Â·å½“Wå–w[N]ä¸­æœ€å°çš„é‚£ä¸€é¡¹çš„æ—¶å€™ï¼ŒYæ­¤æ—¶å–å¾—æœ€å¤§å€¼ï¼ŒYå­˜åœ¨Y &gt; såˆ™åº”è¯¥å‡å°Yï¼Œæ•…åº”è¯¥å¢å¤§W</p>
<blockquote>
<p>äºŒåˆ†é—®é¢˜çš„è¾¹ç•Œå¤„ç†çœŸçš„æ˜¯ä¸ªæŠ˜ç£¨äººçš„é—®é¢˜ï¼ï¼ï¼</p>
<blockquote>
<p>ç¬¬ä¸€éè¾¹ç•Œé—®é¢˜æ²¡æœ‰å¤„ç†å¥½ï¼Œæ²¡æœ‰é€šè¿‡å…¨éƒ¨æ ·ä¾‹ã€‚
wl &lt;= wrï¼Œ
wr = mid - 1;
wl = mid + 1;</p>
</blockquote>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">200010</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LL n,m,s;
</span></span><span style="display:flex;"><span>LL w[N];
</span></span><span style="display:flex;"><span>LL v[N];
</span></span><span style="display:flex;"><span>LL ql[N],qr[N];
</span></span><span style="display:flex;"><span>LL s_w[N];
</span></span><span style="display:flex;"><span>LL s_v[N];
</span></span><span style="display:flex;"><span>LL Y;
</span></span><span style="display:flex;"><span>LL sum;
</span></span><span style="display:flex;"><span>LL ans <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">check</span>(LL mid)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Y <span style="color:#555">=</span> <span style="color:#f60">0</span>,sum <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    memset(s_w, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> s_w);
</span></span><span style="display:flex;"><span>    memset(s_v, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> s_v);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¯¹äºYçš„è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å‰ç¼€å’Œçš„æ–¹å¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(w[i] <span style="color:#555">&gt;=</span> mid)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            s_w[i] <span style="color:#555">=</span> s_w[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            s_v[i] <span style="color:#555">=</span> s_v[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">+</span> v[i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            s_w[i] <span style="color:#555">=</span> s_w[i<span style="color:#555">-</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>            s_v[i] <span style="color:#555">=</span> s_v[i<span style="color:#555">-</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Y <span style="color:#555">+=</span> (s_w[qr[i]] <span style="color:#555">-</span> s_w[ql[i] <span style="color:#555">-</span> <span style="color:#f60">1</span>]) <span style="color:#555">*</span> (s_v[qr[i]] <span style="color:#555">-</span> s_v[ql[i] <span style="color:#555">-</span> <span style="color:#f60">1</span>]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ğŸ‘†è®¡ç®—Yçš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//ç„¶åå¼€å§‹è¿›è¡ŒäºŒåˆ†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    sum <span style="color:#555">=</span> (LL)abs(Y <span style="color:#555">-</span> s);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(Y <span style="color:#555">&lt;=</span> s) <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//èƒ½å¤Ÿè¿›è¡ŒäºŒåˆ†çš„æ¡ä»¶åˆ¤æ–­
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//å¯¹äºY;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//å½“Wä¸ºw[N]ä¸­æœ€å¤§çš„é‚£ä¸ªçš„æ—¶å€™ï¼ŒY=0ï¼Œæ•…åº”è¯¥å‡å°Wçš„å€¼ä»è€Œå¢å¤§Y
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//å½“Wä¸ºw[N]ä¸­æœ€å°çš„é‚£ä¸ªçš„æ—¶å€™ï¼ŒYæœ€å¤§ï¼Œå¯èƒ½Y&gt;Sæ•…åº”è¯¥å¢å¤§Wçš„å€¼ä»è€Œå‡å°Y
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//ğŸ‘†ä»¥ä¸Šä¾¿æ˜¯èƒ½å¤Ÿè¿›è¡ŒäºŒåˆ†çš„åˆ¤æ–­æ–¹å¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m <span style="color:#555">&gt;&gt;</span> s;
</span></span><span style="display:flex;"><span>    LL wl <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f3f3f3f3f</span>;
</span></span><span style="display:flex;"><span>    LL wr <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    memset(w, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> w);
</span></span><span style="display:flex;"><span>    memset(v, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> v);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> w[i] <span style="color:#555">&gt;&gt;</span> v[i];
</span></span><span style="display:flex;"><span>        wl <span style="color:#555">=</span> min(wl,w[i]);
</span></span><span style="display:flex;"><span>        wr <span style="color:#555">=</span> max(wr,w[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m ; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> ql[i] <span style="color:#555">&gt;&gt;</span> qr[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//?????ä»€ä¹ˆé¬¼è¿™é‡Œæ”¹æˆwl&lt;=wr wr = mid - 1 å’Œ wl = mid + 1æ‰èƒ½è¿‡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//äºŒåˆ†æ˜¯çœŸçš„å¤´ç–¼å•Šï¼ï¼æˆ‘æ»´å¦ˆ....
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">while</span>(wl <span style="color:#555">&lt;=</span> wr)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        LL mid <span style="color:#555">=</span> wl <span style="color:#555">+</span> wr <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(check(mid)) wr <span style="color:#555">=</span> mid <span style="color:#555">-</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> wl <span style="color:#555">=</span> mid <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> min(ans,sum);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="2021å¹´7æœˆ14æ—¥-ä»Šæ—¥åæ€">2021å¹´7æœˆ14æ—¥ ä»Šæ—¥åæ€ï¼š</h5>
<blockquote>
<blockquote>
<p>åšäººä¸€å®šä¸å¯å¥½é«˜éª›è¿œï¼Œä¸€å®šè¦è€ä¸‹å¿ƒæ¥ï¼Œè„¸çš®åšç‚¹æ²¡é—®é¢˜ï¼Œæ¯•ç«Ÿæˆ‘å•¥ä¹Ÿä¸çŸ¥é“åšã€‚åªèƒ½æ²‰ä¸‹å¿ƒæ¥åŠªåŠ›ç§¯ç´¯ã€‚</p>
<p>å½“ç§¯ç´¯å¤šäº†ï¼Œæ—¥ç§¯æœˆç´¯ï¼Œå½“é‡å¤šäº†ï¼Œé‡å˜ä¸€å®šä¼šä¿ƒæˆè´¨å˜ã€‚ä½ è¦ç›¸ä¿¡è‡ªå·±ï¼ç›¸ä¿¡è‡ªå·±ä¸€å®šä¼šæœ‰æ‰€æ”¶è·ï¼ï¼ï¼ï¼ï¼</p>
<p>TODOï¼šæœ‰æ—¶é—´çš„è¯ï¼Œä¸€å®šè¦æ‰¾æ—¶é—´å»å†å»ç»ƒä¸€ä¸‹äºŒåˆ†é¢˜ã€‚æ‰¾å‡†åˆ†ç•Œç‚¹ï¼Œå†™å¥½check()å‡½æ•°çœŸçš„å¾ˆé‡è¦ï¼ï¼ï¼</p>
<p>æ¯å¤©ä¸€å®šè¦åšåˆ°æœ€æ™šå‡ºåœ°ä¸‹å®¤çš„é‚£ä¸€äººï¼ï¼ï¼</p>
</blockquote>
</blockquote>
<h3 id="2021å¹´7æœˆ15æ—¥">2021å¹´7æœˆ15æ—¥</h3>
<h4 id="p1044-æ ˆçš„åº”ç”¨">P1044 æ ˆçš„åº”ç”¨</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1044">https://www.luogu.com.cn/problem/P1044</a></p>
</blockquote>
<blockquote>
<p>è¿™é“é¢˜å°±æ˜¯ä¸€é“å¡ç‰¹å…°æ•°çš„åº”ç”¨é¢˜ï¼Œé€’æ¨åå‘ç°è§„å¾‹ï¼Œæ³¨æ„è¿ç”¨å¡ç‰¹å…°æ•°çš„é€’æ¨</p>
<blockquote>
<p>é€’å½’å…¬å¼1.
h(0)=h(1)=1h(0)=h(1)=1
h(n)=h(0)âˆ—h(nâˆ’1)+h(1)âˆ—h(nâˆ’2)+&hellip;+h(nâˆ’1)âˆ—h(0)(n&gt;=2)</p>
<p>é€’æ¨å…¬å¼2.
h(n)=h(nâˆ’1)âˆ—(4âˆ—nâˆ’2)/(n+1)</p>
<p>å¯¹äºæ•°æ®è¿‡å¤§çš„æƒ…å†µå¯ä»¥é‡‡ç”¨ç»„åˆæ•°å­¦çš„æ–¹å¼ï¼ˆç»„åˆæ•°å­¦ä¹Ÿå°±æ˜¯æ¨è¾‰ä¸‰è§’çš„æƒ…å†µï¼‰
ç»„åˆæ•°å…¬å¼1
h(n)=C(2n,n)/(n+1)(n=0,1,2,&hellip;)h(n)=C(2n,n)/(n+1)(n=0,1,2,&hellip;)
å¡ç‰¹å…°æ•°å¯ä»¥ä¸ç»„åˆæ•°è”ç³»èµ·æ¥ï¼Œå¾—åˆ°ä¸Šé¢çš„å…¬å¼</p>
<p>ç»„åˆæ•°å…¬å¼2
h(n)=c(2n,n)âˆ’c(2n,nâˆ’1)(n=0,1,2,&hellip;)h(n)=c(2n,n)âˆ’c(2n,nâˆ’1)(n=0,1,2,&hellip;)
ä¸ç»„åˆæ•°å…¬å¼1ä¸åŒè¿™ä¸ªæ˜¯ä¸¤ä¸ªç»„åˆæ•°çš„å‡æ³•</p>
</blockquote>
</blockquote>
<h4 id="p1996-çº¦ç‘Ÿå¤«é—®é¢˜">P1996 çº¦ç‘Ÿå¤«é—®é¢˜</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1996">https://www.luogu.com.cn/problem/P1996</a></p>
</blockquote>
<blockquote>
<p>å°±æ˜¯ä¸€é“çº¦ç‘Ÿå¤«ç¯é—®é¢˜ï¼Œ</p>
<blockquote>
<p>å¸¸è§„æ•°æ®ç»“æ„çš„è§£æ³•ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¾ªç¯é“¾è¡¨ï¼Œä¸æ–­æ›´æ–°å€¼ï¼Œå¦‚æœæŠ¥æ•°=mçš„è¯ï¼Œåˆ™åˆ é™¤è¯¥ç»“ç‚¹</p>
</blockquote>
<blockquote>
<p>æ—¢ç„¶å­¦ç®—æ³•äº†ï¼Œäºæ˜¯ç”¨åƒä¸ªç®—æ³•erçš„è§£æ³•åšäº†ä¸€æ¬¡</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//iè¡¨ç¤ºç¼–å·
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//jè¡¨ç¤ºæŠ¥çš„å·
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> <span style="color:#555">*</span>out <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">new</span> <span style="color:#078;font-weight:bold">bool</span>[N <span style="color:#555">+</span> <span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) <span style="color:#555">*</span>(out <span style="color:#555">+</span> i) <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> count <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">*</span>(out <span style="color:#555">+</span> i))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            j <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(j <span style="color:#555">==</span> m)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#555">*</span>(out <span style="color:#555">+</span> i) <span style="color:#555">=</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>                j <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>                cout <span style="color:#555">&lt;&lt;</span> i <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>                count <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(count <span style="color:#555">==</span> n)<span style="color:#09f;font-style:italic">//å¦‚æœæ‰€æœ‰äººéƒ½å‡ºæ¥äº†ï¼Œé‚£å°±ç»“æŸ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        i <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(i <span style="color:#555">&gt;</span> n) <span style="color:#09f;font-style:italic">//å¤ä½ä¸€ä¸‹~
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            i <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1631-åºåˆ—åˆå¹¶">P1631 åºåˆ—åˆå¹¶</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1631">https://www.luogu.com.cn/problem/P1631</a></p>
</blockquote>
<blockquote>
<p>å–„äºåˆ©ç”¨åŸæ•°ç»„æ˜¯é€’å¢çš„å‰ææ¡ä»¶</p>
<p>åˆ©ç”¨å †æ’åºï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰çš„æ–¹å¼è¿›è¡Œé€‰å–</p>
<blockquote>
<blockquote>
<p>è‡ªå·±æƒ³çš„é‚£ä¸ªæ–¹å¼æ— æ³•è¿‡çš„æ ·ä¾‹ä¿¡æ¯
5
1 1 2 3 4
1 1 2 3 4</p>
</blockquote>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span>LL minx[N];
</span></span><span style="display:flex;"><span>LL a[N];
</span></span><span style="display:flex;"><span>LL b[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    priority_queue<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lld&#34;</span>,<span style="color:#555">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lld&#34;</span>,<span style="color:#555">&amp;</span>b[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> x <span style="color:#555">=</span> a[i] <span style="color:#555">+</span> b[j];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(q.size() <span style="color:#555">&lt;</span> n)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                q.push(x);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(q.top() <span style="color:#555">&gt;</span> x)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    q.pop();
</span></span><span style="display:flex;"><span>                    q.push(x);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> n; i <span style="color:#555">&gt;=</span> <span style="color:#f60">1</span>; i<span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        minx[i] <span style="color:#555">=</span> q.top();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    //TODO:åˆ†æä¸€ä¸‹æˆ‘åˆ°åº•å“ªé‡Œé”™äº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    minx[1] = a[1] + b[1];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    int j = 2;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    int pos = 2;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    for(int i = 2; i &lt;= n; i ++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        LL res = a[i-1] +b[j];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        if(a[i] + b[j - 1] &lt; res)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            minx[pos++] = a[i] + b[j - 1];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            continue;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        else
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            minx[pos++] = res;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            int k = j;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            k ++;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            res = a[i-1]+b[k];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            while(a[i] + b[j - 1] &gt;= res &amp;&amp; k &lt;= n)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">                minx[pos++] = res;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">                res = a[i-1]+b[k];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">                k++;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%lld &#34;</span>, minx[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1575-æ­£è¯¯é—®é¢˜">P1575 æ­£è¯¯é—®é¢˜</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1575">https://www.luogu.com.cn/problem/P1575</a></p>
</blockquote>
<blockquote>
<p>è¡¨è¾¾å¼æ±‚å€¼é—®é¢˜
<u>åŒæ ˆè¿›è¡Œå¤„ç†ï¼Œæ•°æ ˆå’Œè¿ç®—ç¬¦æ ˆ</u></p>
<p>é¦–å…ˆå¾—çœ‹çœ‹è¿ç®—ç¬¦çš„ä¼˜å…ˆæ€§ã€è¿ç®—ç¬¦æ˜¯å‡ å…ƒè¿ç®—ç¬¦ç­‰ç­‰..</p>
<p>å¾ˆå¤šéœ€è¦ç‰¹åˆ¤çš„æƒ…å†µï¼Œç„¶åå¯èƒ½å­˜åœ¨çš„ERRORçš„æƒ…å†µ</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>string str;
</span></span><span style="display:flex;"><span>stack<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> op;
</span></span><span style="display:flex;"><span>stack<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">bool</span><span style="color:#555">&gt;</span> num;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> t,t1,t2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//è¿™ç±»é¢˜ä¹‹å‰å…ˆæƒ³æƒ³ï¼Œè¿ç®—ç¬¦çš„æ¬¡åº
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åŒæ—¶ä¹Ÿè¦æƒ³æƒ³è¿ç®—ç¬¦çš„æ€§è´¨
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ¯”å¦‚è¿™é‡Œnotæ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œæ•…éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å‡¡æ˜¯ä¸æ»¡è¶³çš„æ—¶å€™ï¼Œéƒ½è¦æ³¨æ„è¿”å›ERRORé”™è¯¯å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//exit(0)å¯ä»¥åœ¨æŸä¸ªåœ°æ–¹ç›´æ¥åœæ­¢ç¨‹åº
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//while(cin &gt;&gt; str)ä¹Ÿæ˜¯ä¸€ç§å¾ˆå¥½çš„é€šè¿‡å­—ç¬¦ä¸²çš„ç©ºæ ¼åˆ†éš”å­—ç¬¦çš„åŠŸèƒ½ &lt;---å‘ç°C++å†…åœ¨çš„å¥¥å¦™å¾ˆé‡è¦ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">calc</span>() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">if</span>(op.empty()) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">if</span>(op.top()<span style="color:#555">==</span><span style="color:#f60">3</span>) <span style="color:#09f;font-style:italic">//å¤„ç†notçš„è®¡ç®—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(num.size()<span style="color:#555">&lt;</span><span style="color:#f60">1</span>)  <span style="color:#09f;font-style:italic">//ä¸€å…ƒè¿ç®—ç¬¦ï¼Œåªéœ€è¦çœ‹æ•°æ ˆé‡Œé¢æ˜¯å¦æœ‰1ä¸ª
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>			printf(<span style="color:#c30">&#34;error</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>			exit(<span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		t<span style="color:#555">=</span>num.top();
</span></span><span style="display:flex;"><span>		num.pop();
</span></span><span style="display:flex;"><span>		t<span style="color:#555">=!</span>t;
</span></span><span style="display:flex;"><span>		num.push(t);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(op.top()<span style="color:#555">==</span><span style="color:#f60">2</span>) <span style="color:#09f;font-style:italic">//å¤„ç†andçš„è®¡ç®—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(num.size()<span style="color:#555">&lt;</span><span style="color:#f60">2</span>) 
</span></span><span style="display:flex;"><span>        { <span style="color:#09f;font-style:italic">//äºŒå…ƒè¿ç®—ç¬¦ï¼Œéœ€è¦çœ‹æ•°æ ˆé‡Œé¢æ˜¯å¦æœ‰ä¸¤ä¸ª
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>			printf(<span style="color:#c30">&#34;error</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>			exit(<span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		t2<span style="color:#555">=</span>num.top();
</span></span><span style="display:flex;"><span>		num.pop();
</span></span><span style="display:flex;"><span>		t1<span style="color:#555">=</span>num.top();
</span></span><span style="display:flex;"><span>		num.pop();
</span></span><span style="display:flex;"><span>		t<span style="color:#555">=</span>(t1 <span style="color:#555">&amp;&amp;</span> t2);
</span></span><span style="display:flex;"><span>		num.push(t);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(op.top()<span style="color:#555">==</span><span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(num.size()<span style="color:#555">&lt;</span><span style="color:#f60">2</span>) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>			printf(<span style="color:#c30">&#34;error</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>			exit(<span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		t2<span style="color:#555">=</span>num.top();
</span></span><span style="display:flex;"><span>		num.pop();
</span></span><span style="display:flex;"><span>		t1<span style="color:#555">=</span>num.top();
</span></span><span style="display:flex;"><span>		num.pop();
</span></span><span style="display:flex;"><span>		t<span style="color:#555">=</span>(t1 <span style="color:#555">||</span> t2);
</span></span><span style="display:flex;"><span>		num.push(t);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	op.pop();<span style="color:#09f;font-style:italic">//è®¡ç®—å®Œæ¯•åï¼Œè®°å¾—è¿ç®—ç¬¦æ ˆè¦å‡ºä¸€æ¬¡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ä¼˜å…ˆæ€§ not &gt; and &gt; or
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//        3     2    1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//å‘ç°ä¼˜å…ˆæ€§é«˜çš„ï¼Œé‚£å°±è¿›è¡Œå‡ºæ ˆè¿ç®—ï¼Œè®¡ç®—å®Œåå†å°†æ–°çš„è¿ç®—ç¬¦å…¥æ ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	<span style="color:#069;font-weight:bold">while</span>(cin<span style="color:#555">&gt;&gt;</span>str) <span style="color:#09f;font-style:italic">//è¿™ç§è¾“å…¥æ–¹å¼å¯ä»¥è¢«ç©ºæ ¼éš”æ–­ï¼Œæ•…æ­¤å¯ä»¥æå–å‡ºæ¯ä¸ªå•ç‹¬çš„å†…å®¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(str<span style="color:#555">==</span><span style="color:#c30">&#34;not&#34;</span>) op.push(<span style="color:#f60">3</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(str<span style="color:#555">==</span><span style="color:#c30">&#34;and&#34;</span>) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(num.empty())
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>				printf(<span style="color:#c30">&#34;error</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>				<span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>op.empty() <span style="color:#555">&amp;&amp;</span> op.top() <span style="color:#555">&gt;=</span> <span style="color:#f60">2</span>) calc();
</span></span><span style="display:flex;"><span>			op.push(<span style="color:#f60">2</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(str<span style="color:#555">==</span><span style="color:#c30">&#34;or&#34;</span>) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(num.empty())
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>				printf(<span style="color:#c30">&#34;error</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>				<span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>op.empty()) calc();
</span></span><span style="display:flex;"><span>			op.push(<span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(str<span style="color:#555">==</span><span style="color:#c30">&#34;true&#34;</span>) num.push(<span style="color:#366">true</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(str<span style="color:#555">==</span><span style="color:#c30">&#34;false&#34;</span>) num.push(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è®¡ç®—çš„æ—¶å€™æ˜¯ï¼Œæ¯æ¬¡å­˜å…¥è¿ç®—ç¬¦æ ˆçš„æ—¶å€™ï¼Œè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè¿ç®—ç¬¦çš„ä¼˜å…ˆæ€§æ›´å¤§çš„è¯ï¼Œåˆ™è¿›è¡Œä¸€æ¬¡è®¡ç®—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//æœ€åå†çœ‹è¿ç®—ç¬¦æ ˆï¼Œå¦‚æœè¿ç®—ç¬¦æ ˆè¿˜æ²¡ç©ºçš„è¯ï¼Œåˆ™ç»§ç»­è®¡ç®—ï¼Œç›´åˆ°è¿ç®—ç¬¦æ ˆç©ºäº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	<span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>op.empty()) calc(); <span style="color:#09f;font-style:italic">//å¦‚æœè¿ç®—ç¬¦æ ˆè¿˜æ²¡ç©ºçš„è¯ï¼Œåˆ™ç»§ç»­è¿›è¡Œè®¡ç®—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	<span style="color:#069;font-weight:bold">if</span>(num.size()<span style="color:#555">==</span><span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(num.top()) printf(<span style="color:#c30">&#34;true</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">else</span> printf(<span style="color:#c30">&#34;false</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">else</span> printf(<span style="color:#c30">&#34;error</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p6033-noip2004-æé«˜ç»„-åˆå¹¶æœå­-åŠ å¼ºç‰ˆ">P6033 [NOIP2004 æé«˜ç»„] åˆå¹¶æœå­ åŠ å¼ºç‰ˆ</h4>
<blockquote>
<p>å‡çº§ç‰ˆï¼Œæ•°æ®èŒƒå›´æ›´å¤§äº†ï¼Œå †æ’åºã€ä¼˜å…ˆé˜Ÿåˆ—å·²ç»ä¸å†é€‚ç”¨äº†ï¼Œæ€»çš„æ¥è¯´ï¼Œéœ€è¦åœ¨O(n)çš„æ—¶é—´å¤æ‚åº¦å†…å®ç°é—®é¢˜ã€‚ åœ¨O(n)æ—¶é—´å¤æ‚åº¦å†…æ±‚è§£å“ˆå¤«æ›¼æœ€å°å€¼</p>
<blockquote>
<p>æ€æƒ³ä¸éš¾ï¼Œä½†å¤„å¤„è®¾é™</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1e5</span><span style="color:#555">+</span><span style="color:#f60">100</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">1e7</span><span style="color:#555">+</span><span style="color:#f60">100</span>;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//è®¾ç½®ä¸¤ä¸ªé˜Ÿåˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ç”¨ä¸¤ä¸ªé˜Ÿåˆ—æ¥æ¨¡æ‹Ÿä¼˜å…ˆé˜Ÿåˆ—æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ä¸€ä¸ªé˜Ÿåˆ—æ”¾æ•°ç»„ä¸­çš„æ•°ï¼Œå¦å¤–ä¸€ä¸ªæ”¾ä¹‹å’Œçš„æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ¯æ¬¡æ“ä½œæ¯”è¾ƒä¸¤ä¸ªé˜Ÿåˆ—ä¸­å¯¹å¤´å…ƒç´ çš„å¤§å°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ¡¶æ’åº+ä¸¤ä¸ªé˜Ÿåˆ—æ¥æ¨¡æ‹Ÿä¼˜å…ˆé˜Ÿåˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>queue<span style="color:#555">&lt;</span>LL<span style="color:#555">&gt;</span> q1,q2;
</span></span><span style="display:flex;"><span>LL a[N];
</span></span><span style="display:flex;"><span>LL readnum[M];
</span></span><span style="display:flex;"><span>LL n;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//!è¿™ä¹ˆå¤§çš„æ•°æ®ä¸€å®šè¦å¼€long long
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å› ä¸ºæ•°æ®é‡å®åœ¨æ˜¯å¤ªå¤§äº† 10^7   10e7çš„å·¨å¤§æ•°æ®é‡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ‰€ä»¥ä½¿ç”¨å¿«è¯»å‡½æ•°è¿›è¡Œæ•°æ®çš„è¯»å–
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">inline</span> <span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">read</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x<span style="color:#555">=</span><span style="color:#f60">0</span>,f<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">char</span> ch<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(ch<span style="color:#555">&lt;</span><span style="color:#c30">&#39;0&#39;</span><span style="color:#555">||</span>ch<span style="color:#555">&gt;</span><span style="color:#c30">&#39;9&#39;</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(ch<span style="color:#555">==</span><span style="color:#c30">&#39;-&#39;</span>)
</span></span><span style="display:flex;"><span>            f<span style="color:#555">=-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        ch<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(ch<span style="color:#555">&gt;=</span><span style="color:#c30">&#39;0&#39;</span><span style="color:#555">&amp;&amp;</span>ch<span style="color:#555">&lt;=</span><span style="color:#c30">&#39;9&#39;</span>){
</span></span><span style="display:flex;"><span>        x<span style="color:#555">=</span>(x<span style="color:#555">&lt;&lt;</span><span style="color:#f60">1</span>)<span style="color:#555">+</span>(x<span style="color:#555">&lt;&lt;</span><span style="color:#f60">3</span>)<span style="color:#555">+</span>(ch<span style="color:#555">^</span><span style="color:#f60">48</span>);
</span></span><span style="display:flex;"><span>        ch<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> x<span style="color:#555">*</span>f;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ä½œä¸ºå†…è”å‡½æ•°è®¿é—®æ›´å¿«
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">inline</span> LL <span style="color:#c0f">getnum</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(q2.empty() <span style="color:#555">||</span> (q1.front() <span style="color:#555">&lt;</span> q2.front() <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>q1.empty()))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        LL x <span style="color:#555">=</span> q1.front();
</span></span><span style="display:flex;"><span>        q1.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        LL x <span style="color:#555">=</span> q2.front();
</span></span><span style="display:flex;"><span>        q2.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    n <span style="color:#555">=</span> read();
</span></span><span style="display:flex;"><span>    LL ans <span style="color:#555">=</span> <span style="color:#f60">0ll</span>;
</span></span><span style="display:flex;"><span>    memset(a, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> a);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a[readnum[i] <span style="color:#555">=</span> read()]<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">100000</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> a[i]; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            q1.push(i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(LL i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        LL x <span style="color:#555">=</span> getnum();
</span></span><span style="display:flex;"><span>        LL y <span style="color:#555">=</span> getnum();
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">+=</span> (x<span style="color:#555">+</span>y);
</span></span><span style="display:flex;"><span>        q2.push(x<span style="color:#555">+</span>y);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>,ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ16æ—¥">2021å¹´7æœˆ16æ—¥</h3>
<blockquote>
<p>æœç´¢ç®—æ³•ï¼šBFSã€DFS</p>
</blockquote>
<h4 id="p1219-usaco1-5-å…«çš‡å-checker-challenge">P1219 [USACO1.5]å…«çš‡å Checker Challenge</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1219">https://www.luogu.com.cn/problem/P1219</a></p>
</blockquote>
<blockquote>
<p>åˆä¸€å…¸å‹çš„BFSã€DFS</p>
<blockquote>
<p>DFSå…³é”®çš„ä¸€æ­¥æ˜¯æ‰¾å‡†æ¬¡åºï¼Œä¹Ÿå°±æ˜¯æŠŠæ¡å¥½é¡ºåºï¼Œä¹Ÿè¦æ³¨æ„æ¢å¤ç°åœº</p>
<p>è¯¥é¢˜æœ‰ä¸¤ç§DFSæœç´¢æ–¹å¼ï¼š
1ã€æ¨¡æ¿æœç´¢
2ã€æ ¹æ®æœ¬é¢˜é¢˜æ„è¿›è¡Œçš„æœç´¢</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1000</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> line[N],col[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> lefteg[N],righteg[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> path[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> flag <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> counts <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//!æœç´¢æœ€é‡è¦çš„ä¸€æ­¥å°±æ˜¯è¦æƒ³æ¸…æ¥šé¡ºåºï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> u) <span style="color:#09f;font-style:italic">//uè¡¨ç¤ºç¬¬å‡ å±‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(u <span style="color:#555">==</span> n)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(flag <span style="color:#555">==</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                cout <span style="color:#555">&lt;&lt;</span> path[i] <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(counts <span style="color:#555">==</span> <span style="color:#f60">2</span>) flag <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>            cout <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        counts <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>line[i] <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>lefteg[u <span style="color:#555">+</span> i] <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>righteg[n <span style="color:#555">-</span> u <span style="color:#555">+</span> i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            path[u] <span style="color:#555">=</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            line[i] <span style="color:#555">=</span> lefteg[u <span style="color:#555">+</span> i] <span style="color:#555">=</span> righteg[n <span style="color:#555">-</span> u <span style="color:#555">+</span> i] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            dfs(u <span style="color:#555">+</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//æ¢å¤ç°åœº
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            line[i] <span style="color:#555">=</span> lefteg[u <span style="color:#555">+</span> i] <span style="color:#555">=</span> righteg[n <span style="color:#555">-</span> u <span style="color:#555">+</span> i] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs2</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> y, <span style="color:#078;font-weight:bold">int</span> s)
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ›´åŸå§‹çš„æœç´¢æ–¹å¼ï¼Œä»å·¦ä¸Šè§’å¼€å§‹è¿›è¡Œæœç´¢ï¼Œsè¡¨ç¤ºå½“å‰æœ‰å¤šå°‘ä¸ªçš‡å
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(y <span style="color:#555">==</span> n) y <span style="color:#555">=</span> <span style="color:#f60">0</span>, x <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è¡¨ç¤ºåˆ°è¾¾æœ€åä¸€åˆ—äº†ï¼Œç°åœ¨è¿”å›åˆ°ç¬¬ä¸€ä¸ªä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(x <span style="color:#555">==</span> n)<span style="color:#09f;font-style:italic">//å·²ç»åˆ°è¾¾æœ€åä¸€è¡Œäº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(s <span style="color:#555">==</span> n) <span style="color:#09f;font-style:italic">//å½“å‰çš‡åéƒ½æ‘†å®Œäº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;</span> n; i <span style="color:#555">++</span> ) cout <span style="color:#555">&lt;&lt;</span> path[i] <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>            counts <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            cout <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¦‚æœè¿™é‡Œä¸æ”¾çš‡åçš„è¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    dfs2(x, y<span style="color:#555">+</span><span style="color:#f60">1</span>,s);<span style="color:#09f;font-style:italic">//åˆ°ä¸‹ä¸€ä¸ªä½ç½®å»æ”¾
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¦‚æœæ”¾çš„è¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>line[x] <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>col[y] <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>lefteg[x <span style="color:#555">+</span> y] <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>righteg[x <span style="color:#555">-</span> y <span style="color:#555">+</span> n])
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path[x] <span style="color:#555">=</span> y <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        line[x] <span style="color:#555">=</span> col[y] <span style="color:#555">=</span> lefteg[x <span style="color:#555">+</span> y] <span style="color:#555">=</span> righteg[x <span style="color:#555">-</span> y <span style="color:#555">+</span> n] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        dfs2(x, y <span style="color:#555">+</span> <span style="color:#f60">1</span>, s <span style="color:#555">+</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>        line[x] <span style="color:#555">=</span> col[y] <span style="color:#555">=</span> lefteg[x <span style="color:#555">+</span> y] <span style="color:#555">=</span> righteg[x <span style="color:#555">-</span> y <span style="color:#555">+</span> n] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    memset(line, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> line);
</span></span><span style="display:flex;"><span>    memset(col, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> col);
</span></span><span style="display:flex;"><span>    memset(lefteg, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> lefteg); <span style="color:#09f;font-style:italic">//å·¦å¯¹è§’çº¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    memset(righteg, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> righteg); <span style="color:#09f;font-style:italic">//å³å¯¹è§’çº¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    dfs(<span style="color:#f60">0</span>); <span style="color:#09f;font-style:italic">//æ–¹æ³•ä¸€
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    dfs2(<span style="color:#f60">0</span>,<span style="color:#f60">0</span>,<span style="color:#f60">0</span>); <span style="color:#09f;font-style:italic">//æ›´åŸå§‹çš„æ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    cout <span style="color:#555">&lt;&lt;</span> counts <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1443-é©¬çš„éå†">P1443 é©¬çš„éå†</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1443">https://www.luogu.com.cn/problem/P1443</a></p>
</blockquote>
<blockquote>
<p>DFSä¼šå‡ºç°è¶…æ—¶ï¼Œæ±‚æœ€çŸ­è·¯å¯æ¢é‡‡ç”¨BFS</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">500</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n, m, x, y;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> st[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> vis[N][N];
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> pair<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span>, <span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> PII;
</span></span><span style="display:flex;"><span>PII q[N<span style="color:#555">*</span>N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">9</span>]<span style="color:#555">=</span>{<span style="color:#f60">0</span>,<span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>,<span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">9</span>]<span style="color:#555">=</span>{<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">2</span>,<span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">å¹¿åº¦ä¼˜å…ˆæœç´¢dfsä¼šæœ‰TLEï¼Œå¯ä»¥æ¢é‡‡ç”¨å®½åº¦bfs
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">å›æº¯ã€å‰ªæ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">int dfs(int x, int y, int s)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">{
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    st[x][y] = s;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    int nx,ny;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    for(int i = 1; i &lt;= 8; i ++) //å…«ä¸ªæ–¹å‘éƒ½èµ°ä¸€èµ°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        nx = x + dx[i];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        ny = y + dy[i];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        //æšä¸¾ä¸‹ä¸€ä¸ªä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        //æ£€æŸ¥ä¸€ä¸‹ä¸‹ä¸€ä¸ªä½ç½®æ˜¯å¦åˆæ³•
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        if((nx &gt;= 1 &amp;&amp; nx &lt;= n &amp;&amp; ny &gt;= 1 &amp;&amp; ny &lt;= m)&amp;&amp; (s + 1 &lt; st[nx][ny] || st[nx][ny] == -1))
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            //cout &lt;&lt; &#34;current position: &#34; &lt;&lt; nx &lt;&lt; &#34; &#34; &lt;&lt; ny &lt;&lt;endl;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            dfs(nx, ny, s + 1);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">}
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">bfs</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> y, <span style="color:#078;font-weight:bold">int</span> s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    st[x][y] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>, tt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    q[<span style="color:#f60">0</span>] <span style="color:#555">=</span> {x,y};
</span></span><span style="display:flex;"><span>    vis[x][y] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(hh <span style="color:#555">&lt;=</span> tt)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q[hh<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">8</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> t.first <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> t.second <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>((nx <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> nx <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&lt;=</span> m) <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>vis[nx][ny])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                st[nx][ny] <span style="color:#555">=</span> st[t.first][t.second] <span style="color:#555">+</span> <span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//ä¸ºä¸Šä¸€ä¸ªä½ç½®å¤šä¸€ä¸ª
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                q[<span style="color:#555">++</span> tt] <span style="color:#555">=</span> {nx,ny};
</span></span><span style="display:flex;"><span>                vis[nx][ny] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span>n <span style="color:#555">&gt;&gt;</span> m <span style="color:#555">&gt;&gt;</span> x <span style="color:#555">&gt;&gt;</span> y;
</span></span><span style="display:flex;"><span>    memset(st, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#069;font-weight:bold">sizeof</span> st);
</span></span><span style="display:flex;"><span>    memset(vis, <span style="color:#366">false</span>, <span style="color:#069;font-weight:bold">sizeof</span> vis);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//dfs(x,y,0);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    bfs(x,y,<span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#555">&lt;&lt;</span> left <span style="color:#555">&lt;&lt;</span> setw(<span style="color:#f60">4</span>) <span style="color:#555">&lt;&lt;</span> st[i][j] <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1135-å¥‡æ€ªçš„ç”µæ¢¯">P1135 å¥‡æ€ªçš„ç”µæ¢¯</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1135">https://www.luogu.com.cn/problem/P1135</a></p>
</blockquote>
<blockquote>
<p>ä¸ä¸Šé¢˜ä¸€æ ·ï¼Œä¸è¿‡è¯¥é¢˜BFSå’ŒDFSåº”è¯¥éƒ½å¯ä»¥æ’’
spfa&hellip;è¿˜æœ‰å¥½å¤šç®—æ³•æ²¡å¥½å¥½å­¦å¥½å‘¢ï¼ï¼ï¼</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span>  <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">2000</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> q[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> l[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> da[<span style="color:#f60">3</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> vis[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,a,b;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æœ€å°‘æŒ‰é”®æ¬¡æ•°ï¼Œæœ€å°é—®é¢˜â€”â€”&gt;bfs
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">bfs</span>(<span style="color:#078;font-weight:bold">int</span> sa)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>, tt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    q[<span style="color:#f60">0</span>] <span style="color:#555">=</span> sa; <span style="color:#09f;font-style:italic">// å…¥é˜Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    vis[sa] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> dis[N];
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> flag <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    memset(dis, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> dis);
</span></span><span style="display:flex;"><span>    dis[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>; <span style="color:#09f;font-style:italic">//ä»saå¼€å§‹åˆ°è¾¾æ¯ä¸ªç‚¹çš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">while</span>(hh <span style="color:#555">&lt;=</span> tt)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> q[hh <span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (t <span style="color:#555">==</span> b)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            flag <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">2</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> na <span style="color:#555">=</span> t <span style="color:#555">+</span> da[i]<span style="color:#555">*</span>l[t];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(na <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> na <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> vis[na] <span style="color:#555">==</span> <span style="color:#366">false</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dis[na] <span style="color:#555">=</span> dis[t] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                q[<span style="color:#555">++</span> tt] <span style="color:#555">=</span> na;
</span></span><span style="display:flex;"><span>                vis[na] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(flag <span style="color:#555">==</span> <span style="color:#f60">1</span>) cout <span style="color:#555">&lt;&lt;</span> dis[b];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> cout <span style="color:#555">&lt;&lt;</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> a <span style="color:#555">&gt;&gt;</span> b;
</span></span><span style="display:flex;"><span>    memset(vis, <span style="color:#366">false</span>, <span style="color:#069;font-weight:bold">sizeof</span> vis);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) cin <span style="color:#555">&gt;&gt;</span> l[i];
</span></span><span style="display:flex;"><span>    bfs(a);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1605-è¿·å®«">P1605 è¿·å®«</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1605">https://www.luogu.com.cn/problem/P1605</a></p>
</blockquote>
<blockquote>
<p>è¿·å®«é—®é¢˜çš„DFS&amp;BFS</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> pair<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span>,<span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> PII;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> g[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m,x;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> stx,sty,enx,eny;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">5</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#f60">0</span>, <span style="color:#f60">1</span>, <span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">5</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>, <span style="color:#f60">0</span>, <span style="color:#f60">1</span>, <span style="color:#f60">0</span>, <span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span>PII q[N<span style="color:#555">*</span>N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> d[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> counts <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å®½åº¦ä¼˜å…ˆæœç´¢
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> xx, <span style="color:#078;font-weight:bold">int</span> yy)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(xx <span style="color:#555">==</span> enx <span style="color:#555">&amp;&amp;</span> yy <span style="color:#555">==</span> eny)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        counts<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">4</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> xx <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> yy <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(nx <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> nx <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&lt;=</span> m <span style="color:#555">&amp;&amp;</span> g[nx][ny] <span style="color:#555">==</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> d[nx][ny] <span style="color:#555">==</span> <span style="color:#555">-</span><span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                d[xx][yy] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                dfs(xx<span style="color:#555">+</span>dx[i],yy<span style="color:#555">+</span>dy[i]);
</span></span><span style="display:flex;"><span>                d[xx][yy] <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">bfs</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>, tt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    q[<span style="color:#f60">0</span>] <span style="color:#555">=</span> {stx, sty};
</span></span><span style="display:flex;"><span>    memset(d, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#069;font-weight:bold">sizeof</span>(d));
</span></span><span style="display:flex;"><span>    d[<span style="color:#f60">1</span>][<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(hh <span style="color:#555">&lt;=</span> tt)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q[hh<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">4</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> x <span style="color:#555">=</span> t.first <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> y <span style="color:#555">=</span> t.second <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(x <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> x <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> y <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> y <span style="color:#555">&lt;=</span> m <span style="color:#555">&amp;&amp;</span> g[x][y] <span style="color:#555">==</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> d[x][y] <span style="color:#555">==</span> <span style="color:#555">-</span><span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                d[x][y] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(x <span style="color:#555">==</span> enx <span style="color:#555">&amp;&amp;</span> y <span style="color:#555">==</span> eny)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    counts<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                q[<span style="color:#555">++</span> tt] <span style="color:#555">=</span> {x,y};
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> counts;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m <span style="color:#555">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> stx <span style="color:#555">&gt;&gt;</span> sty <span style="color:#555">&gt;&gt;</span> enx <span style="color:#555">&gt;&gt;</span> eny;
</span></span><span style="display:flex;"><span>    memset(g, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> <span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>    memset(d, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#069;font-weight:bold">sizeof</span>(d));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> x; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> t,p;
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> t <span style="color:#555">&gt;&gt;</span> p;
</span></span><span style="display:flex;"><span>        g[t][p] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//cout &lt;&lt; bfs();
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    dfs(stx, sty);
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> counts;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1379-å…«æ•°ç éš¾é¢˜">â”P1379 å…«æ•°ç éš¾é¢˜</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1379">https://www.luogu.com.cn/problem/P1379</a></p>
</blockquote>
<blockquote>
<p>è¿™æ˜¯ä¸€é“éš¾åº¦é«˜çš„é¢˜</p>
<p>æ€è·¯ä¸æƒ³æ³•:</p>
<p>æˆ‘ä»¬éœ€è¦ä¸€ç§æ›´ä¸ºæŠ½è±¡åŒ–çš„æ€ç»´æ–¹å¼ï¼š</p>
<p>å¯ä»¥æŠŠæ¯ä¸€ç§çŠ¶æ€çœ‹ä½œ ä¸€ä¸ªç‚¹
ä»è€Œï¼Œä»åˆå§‹çŠ¶æ€åˆ°æœ€ç»ˆçŠ¶æ€å¯ä»¥è½¬åŒ–ä¸ºï¼Œåœ¨å›¾ä¸­æ‰¾æœ€çŸ­è·¯é—®é¢˜
éš¾ç‚¹ï¼š1ã€å¦‚ä½•è®°å½•æ¯ä¸ªçŠ¶æ€
2ã€å¦‚ä½•è®°å½•æ‰€èµ°çš„è·ç¦»
1çŠ¶æ€è¡¨ç¤ºå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²
æ¯”å¦‚åˆå§‹ 283104765 &mdash;&gt; 203184765 &mdash;&mdash;&gt; &hellip;.. &mdash;&mdash;&ndash;&gt; æœ€ç»ˆçŠ¶æ€</p>
<p>2å¯¹äºå¦‚ä½•è®°å½•æ‰€èµ°çš„è·ç¦»
å¯ä»¥é‡‡ç”¨å“ˆå¸Œå›¾hash_mapã€mapã€unorder_mapã€å­—å…¸ç­‰æ•°æ®ç»“æ„è¿›è¡Œä¿å­˜</p>
<p><code>unordered_map&lt;string,int&gt; dist</code> è¡¨ç¤º çŠ¶æ€string çš„å½“å‰è·ç¦» int</p>
<p>3çŠ¶æ€è½¬ç§»ï¼Œå¯ä»¥ä»¥é‚£ä¸ªç©ºä½ä¸ºç ”ç©¶å¯¹è±¡ï¼Œç©ºä½æœ‰4ä¸ªç§»åŠ¨æ–¹å¼ï¼Œåˆ†åˆ«è¿›è¡Œæšä¸¾</p>
<blockquote>
<p>å¯ç¤ºï¼šçµæ´»è¿ç”¨STLåº“ï¼Œå¯ä»¥äº‹åŠåŠŸå€ï¼STLä¹Ÿä¸€å®šè¦èŠ±æ—¶é—´å»å¥½å¥½äº†è§£
å…³äºunordered_map:
<a href="https://www.cnblogs.com/langyao/p/8823092.html">https://www.cnblogs.com/langyao/p/8823092.html</a></p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a00;background-color:#faa">æˆå‘˜å‡½æ•°ï¼š</span>
</span></span><span style="display:flex;"><span><span style="color:#555">=================</span><span style="color:#a00;background-color:#faa">è¿­ä»£å™¨</span><span style="color:#555">=========================</span> 
</span></span><span style="display:flex;"><span>begin ã€€ã€€<span style="color:#a00;background-color:#faa">è¿”å›æŒ‡å‘å®¹å™¨èµ·å§‹ä½ç½®çš„è¿­ä»£å™¨ï¼ˆ</span>iterator<span style="color:#a00;background-color:#faa">ï¼‰</span> 
</span></span><span style="display:flex;"><span>end ã€€ã€€   <span style="color:#a00;background-color:#faa">è¿”å›æŒ‡å‘å®¹å™¨æœ«å°¾ä½ç½®çš„è¿­ä»£å™¨</span> 
</span></span><span style="display:flex;"><span>cbeginã€€   <span style="color:#a00;background-color:#faa">è¿”å›æŒ‡å‘å®¹å™¨èµ·å§‹ä½ç½®çš„å¸¸è¿­ä»£å™¨ï¼ˆ</span>const_iterator<span style="color:#a00;background-color:#faa">ï¼‰</span> 
</span></span><span style="display:flex;"><span>cend ã€€ã€€ <span style="color:#a00;background-color:#faa">è¿”å›æŒ‡å‘å®¹å™¨æœ«å°¾ä½ç½®çš„å¸¸è¿­ä»£å™¨</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">=================</span>Capacity<span style="color:#555">================</span> 
</span></span><span style="display:flex;"><span>size  ã€€ã€€ <span style="color:#a00;background-color:#faa">è¿”å›æœ‰æ•ˆå…ƒç´ ä¸ªæ•°</span> 
</span></span><span style="display:flex;"><span>max_size  <span style="color:#a00;background-color:#faa">è¿”å›</span> unordered_map <span style="color:#a00;background-color:#faa">æ”¯æŒçš„æœ€å¤§å…ƒç´ ä¸ªæ•°</span> 
</span></span><span style="display:flex;"><span>empty        <span style="color:#a00;background-color:#faa">åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">=================</span><span style="color:#a00;background-color:#faa">å…ƒç´ è®¿é—®</span><span style="color:#555">=================</span> 
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">operator</span>[]  ã€€ã€€   <span style="color:#a00;background-color:#faa">è®¿é—®å…ƒç´ </span> 
</span></span><span style="display:flex;"><span>at  ã€€ã€€ ã€€ã€€ã€€ã€€<span style="color:#a00;background-color:#faa">è®¿é—®å…ƒç´ </span> 
</span></span><span style="display:flex;"><span><span style="color:#555">=================</span><span style="color:#a00;background-color:#faa">å…ƒç´ ä¿®æ”¹</span><span style="color:#555">=================</span> 
</span></span><span style="display:flex;"><span>insert  ã€€ã€€<span style="color:#a00;background-color:#faa">æ’å…¥å…ƒç´ </span> 
</span></span><span style="display:flex;"><span>eraseã€€ã€€ <span style="color:#a00;background-color:#faa">åˆ é™¤å…ƒç´ </span> 
</span></span><span style="display:flex;"><span>swap ã€€ã€€ <span style="color:#a00;background-color:#faa">äº¤æ¢å†…å®¹</span> 
</span></span><span style="display:flex;"><span>clearã€€ã€€   <span style="color:#a00;background-color:#faa">æ¸…ç©ºå†…å®¹</span> 
</span></span><span style="display:flex;"><span>emplace ã€€<span style="color:#a00;background-color:#faa">æ„é€ åŠæ’å…¥ä¸€ä¸ªå…ƒç´ </span> 
</span></span><span style="display:flex;"><span>emplace_hint <span style="color:#a00;background-color:#faa">æŒ‰æç¤ºæ„é€ åŠæ’å…¥ä¸€ä¸ªå…ƒç´ </span> 
</span></span><span style="display:flex;"><span><span style="color:#555">================</span><span style="color:#a00;background-color:#faa">æ“ä½œ</span><span style="color:#555">=========================</span> 
</span></span><span style="display:flex;"><span>find ã€€ã€€ã€€ã€€ã€€ã€€<span style="color:#a00;background-color:#faa">é€šè¿‡ç»™å®šä¸»é”®æŸ¥æ‰¾å…ƒç´ </span>,<span style="color:#a00;background-color:#faa">æ²¡æ‰¾åˆ°ï¼šè¿”å›</span>unordered_map<span style="color:#555">::</span>end
</span></span><span style="display:flex;"><span>count ã€€ã€€ã€€ã€€ã€€<span style="color:#a00;background-color:#faa">è¿”å›åŒ¹é…ç»™å®šä¸»é”®çš„å…ƒç´ çš„ä¸ªæ•°</span> 
</span></span><span style="display:flex;"><span>equal_range ã€€ã€€<span style="color:#a00;background-color:#faa">è¿”å›å€¼åŒ¹é…ç»™å®šæœç´¢å€¼çš„å…ƒç´ ç»„æˆçš„èŒƒå›´</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">================</span>Buckets<span style="color:#555">======================</span> 
</span></span><span style="display:flex;"><span>bucket_count ã€€ã€€ã€€<span style="color:#a00;background-color:#faa">è¿”å›æ§½ï¼ˆ</span>Bucket<span style="color:#a00;background-color:#faa">ï¼‰æ•°</span> 
</span></span><span style="display:flex;"><span>max_bucket_count    <span style="color:#a00;background-color:#faa">è¿”å›æœ€å¤§æ§½æ•°</span> 
</span></span><span style="display:flex;"><span>bucket_size ã€€ã€€ã€€   <span style="color:#a00;background-color:#faa">è¿”å›æ§½å¤§å°</span> 
</span></span><span style="display:flex;"><span>bucket ã€€ã€€ã€€ã€€ã€€ã€€<span style="color:#a00;background-color:#faa">è¿”å›å…ƒç´ æ‰€åœ¨æ§½çš„åºå·</span> 
</span></span><span style="display:flex;"><span>load_factorã€€ã€€ã€€ã€€ <span style="color:#a00;background-color:#faa">è¿”å›è½½å…¥å› å­ï¼Œå³ä¸€ä¸ªå…ƒç´ æ§½ï¼ˆ</span>Bucket<span style="color:#a00;background-color:#faa">ï¼‰çš„æœ€å¤§å…ƒç´ æ•°</span> 
</span></span><span style="display:flex;"><span>max_load_factor ã€€  <span style="color:#a00;background-color:#faa">è¿”å›æˆ–è®¾ç½®æœ€å¤§è½½å…¥å› å­</span> 
</span></span><span style="display:flex;"><span>rehashã€€ã€€ã€€ã€€ã€€ã€€ <span style="color:#a00;background-color:#faa">è®¾ç½®æ§½æ•°</span> 
</span></span><span style="display:flex;"><span>reserve ã€€ã€€ã€€ã€€ã€€  <span style="color:#a00;background-color:#faa">è¯·æ±‚æ”¹å˜å®¹å™¨å®¹é‡</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<p>å…¶ä¸­æœ‰å‡ ä¸ªå°æŠ€å·§
<strong>å¦‚ä½•ä»ä¸€ç»´åºå·è¿›è¡Œè½¬åŒ–ä¸ºxç»´åºå·</strong>
<strong>åˆå¦‚ä½•ä»xç»´åºå·è½¬åŒ–å›ä¸€ç»´</strong></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;unordered_map&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstring&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>unordered_map<span style="color:#555">&lt;</span>string,<span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> dist;
</span></span><span style="display:flex;"><span>queue<span style="color:#555">&lt;</span>string<span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">5</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">5</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">0</span>,<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">bfs</span>(string str)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    string z <span style="color:#555">=</span> <span style="color:#c30">&#34;123804765&#34;</span>;
</span></span><span style="display:flex;"><span>    q.push(str);
</span></span><span style="display:flex;"><span>    dist[str] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>q.empty())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q.front();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> dis <span style="color:#555">=</span> dist[t];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(t <span style="color:#555">==</span> z) <span style="color:#069;font-weight:bold">return</span> dis; <span style="color:#09f;font-style:italic">//å¦‚æœå·²ç»æ»¡è¶³æ¡ä»¶åˆ™è¿”å›æ­¥æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> po <span style="color:#555">=</span> t.find(<span style="color:#c30">&#39;0&#39;</span>);<span style="color:#09f;font-style:italic">//åœ¨å­—ç¬¦ä¸²ä¸­å¯»æ‰¾ç©ºä½æ‰€åœ¨çš„ä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">//å°†ä¸€ç»´åº¦è½¬åŒ–ä¸ºä¸‰ç»´
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#078;font-weight:bold">int</span> x <span style="color:#555">=</span> po <span style="color:#555">/</span> <span style="color:#f60">3</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> y <span style="color:#555">=</span> po <span style="color:#555">%</span> <span style="color:#f60">3</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">4</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> x <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> y <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(nx <span style="color:#555">&gt;=</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> nx <span style="color:#555">&lt;</span> <span style="color:#f60">3</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&gt;=</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&lt;</span> <span style="color:#f60">3</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                swap(t[po], t[nx<span style="color:#555">*</span><span style="color:#f60">3</span><span style="color:#555">+</span>ny]);  <span style="color:#09f;font-style:italic">//&lt;---è¿™é‡Œåˆæœ‰å°†ä¸‰ç»´æƒ…å†µè½¬åŒ–æˆä¸€ç»´
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>dist.count(t)) <span style="color:#09f;font-style:italic">//mapæ“ä½œï¼Œå¦‚æœtæ²¡æœ‰å‡ºç°è¿‡çš„è¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                {
</span></span><span style="display:flex;"><span>                    dist[t] <span style="color:#555">=</span> dis <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                    q.push(t);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                swap(t[po], t[nx<span style="color:#555">*</span><span style="color:#f60">3</span><span style="color:#555">+</span>ny]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    string p_str;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> p_str;
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> bfs(p_str);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="uva572-æ²¹ç”°-oil-deposits">UVA572 æ²¹ç”° Oil Deposits</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/UVA572">https://www.luogu.com.cn/problem/UVA572</a></p>
<blockquote>
<p>æœç´¢æ°´é¢˜ï¼Œææ¸…æ¥šæœç´¢è¿‡ç¨‹å°±ä¸éš¾</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstring&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">char</span> g[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> st[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">9</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#f60">0</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">9</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    st[x][y] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(x <span style="color:#555">&lt;=</span> <span style="color:#f60">0</span> <span style="color:#555">||</span> x <span style="color:#555">&gt;</span> n <span style="color:#555">||</span> y <span style="color:#555">&lt;=</span> <span style="color:#f60">0</span> <span style="color:#555">||</span> y <span style="color:#555">&gt;</span> m) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">8</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> x <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> y <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(g[nx][ny] <span style="color:#555">==</span> <span style="color:#c30">&#39;@&#39;</span> <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>st[nx][ny])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            dfs(nx,ny);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        memset(st, <span style="color:#366">false</span>, <span style="color:#069;font-weight:bold">sizeof</span> st);
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> counts <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">==</span> <span style="color:#f60">0</span><span style="color:#555">||</span> m <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                cin <span style="color:#555">&gt;&gt;</span> g[i][j];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(g[i][j] <span style="color:#555">==</span> <span style="color:#c30">&#39;@&#39;</span> <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>st[i][j])
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    counts<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>                    dfs(i,j);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> counts <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p5194-usaco05dec-scales-s">P5194 [USACO05DEC]Scales S</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P5194">https://www.luogu.com.cn/problem/P5194</a></p>
<blockquote>
<p>æ³¨æ„æ€è€ƒé¡ºåº&amp;&amp;é¢˜æ„è·å–çš„æ–¹å¼</p>
<blockquote>
<p>åˆ©ç”¨é¢˜å¹²çš„éšå«æ¡ä»¶â€”â€”ã€ä¸é™åºã€‘â€”â€”å¯ä»¥åˆ©ç”¨å‰ç¼€å’Œè¿›è¡Œå‰ªæï¼Œä»é«˜åˆ°ä½è¿›è¡Œæšä¸¾</p>
</blockquote>
<p>é˜²æ­¢TLE&mdash;&gt;æ³¨æ„å»å‰ªæï¼</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> st[N];
</span></span><span style="display:flex;"><span>LL a[N];
</span></span><span style="display:flex;"><span>LL sa[N];
</span></span><span style="display:flex;"><span>LL ans;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,s;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> u, LL sum)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ans <span style="color:#555">=</span> max(ans,sum);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(u <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">return</span>; <span style="color:#09f;font-style:italic">//é€€å‡ºæ¡ä»¶--&gt;åˆ°è¾¾è¾¹ç•Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//ğŸ‘‡è¿›è¡Œå‰ªæ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">if</span>(sa[u] <span style="color:#555">+</span> sum <span style="color:#555">&lt;=</span> s)<span style="color:#09f;font-style:italic">//ç»§ç»­æšä¸¾ä¸‹å»ï¼Œè‚¯å®šéƒ½æ˜¯ä¼šæ¯”è¿™ä¸ªsa[u]+sumå°çš„ï¼Œæ•…ç›´æ¥å‰ªæä¼˜åŒ–ç®—æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> max(ans, sa[u] <span style="color:#555">+</span> sum);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }<span style="color:#09f;font-style:italic">//å¦‚æœuå‰ç¼€å’Œçš„é¡¹ç›®+sum &lt;= æ ‡å‡†å€¼çš„è¯ï¼Œåˆ™æ›´æ–°ä¸€ä¸‹ansï¼Œä¹Ÿå°±æ˜¯uä¹‹å‰çš„ç ç éƒ½å¯ä»¥å–ç”¨äº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">if</span>(a[u] <span style="color:#555">+</span> sum <span style="color:#555">&lt;=</span> s)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        dfs(u <span style="color:#555">-</span> <span style="color:#f60">1</span>, sum <span style="color:#555">+</span> a[u]);
</span></span><span style="display:flex;"><span>    }<span style="color:#09f;font-style:italic">//å¦‚æœå½“å‰è¿™ä¸ªä½ç½®çš„å€¼a[u] + sum &lt;= sçš„è¯ï¼Œå–ä¸€ä¸‹å½“å‰ä½ç½®  &lt;---ä¹Ÿåƒä¸€ä¸ªå‰ªæ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    dfs(u <span style="color:#555">-</span> <span style="color:#f60">1</span>, sum); <span style="color:#09f;font-style:italic">//éƒ½ä¸æ»¡è¶³çš„è¯ï¼Œé‚£å°±ç»§ç»­é€’å½’ä¸‹ä¸€ä¸ª
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> s;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span> ; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) cin <span style="color:#555">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span> ; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) sa[i] <span style="color:#555">=</span> sa[i <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> a[i];
</span></span><span style="display:flex;"><span>    dfs(n,<span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="uva11624-fire">UVA11624 Fire!</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/UVA11624">https://www.luogu.com.cn/problem/UVA11624</a></p>
</blockquote>
<blockquote>
<p>ä¸¤ä¸ªBFSè¿›è¡Œæœç´¢ï¼ŒåŒå‘BFS</p>
<p>æœ‰å¾ˆå¤šéœ€è¦æ³¨æ„çš„ç»†èŠ‚</p>
<blockquote>
<p>1.ç«æºå¯èƒ½æœ‰å¤šä¸ªï¼Œåº”è¯¥è®°å½•æœ€æ—©ç«è”“å»¶çš„æ—¶é—´
2.Jèµ°åˆ°çš„æ—¶å€™ä¸€å®šè¦æ»¡è¶³ç«è¿˜æ²¡è”“å»¶åˆ°ï¼Œä¹Ÿå°±æ˜¯Jå’Œç«ä¸èƒ½åŒæ—¶åˆ°
3.åˆ°è¾¾è¾¹ç•Œå³å¯ç»“æŸï¼Œæ³¨æ„è¦å¤š+1</p>
<p>ä¸€å †ç»†èŠ‚å’Œä»£ç èƒ½åŠ›</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">178
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> pair<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span>,<span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> PII;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">char</span> g[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">5</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">5</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> flag <span style="color:#555">=</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> F_time[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> curtime[N][N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">bfs_F</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//PII q2[N*N];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    queue<span style="color:#555">&lt;</span>PII<span style="color:#555">&gt;</span> q2;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> vis[N][N];
</span></span><span style="display:flex;"><span>    memset(vis, <span style="color:#366">false</span>, <span style="color:#069;font-weight:bold">sizeof</span> vis);
</span></span><span style="display:flex;"><span>    F_time[x][y] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    vis[x][y] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    q2.push(PII(x,y));
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//q2[0] = {x, y};
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>, tt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>q2.empty())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q2.front();
</span></span><span style="display:flex;"><span>        hh<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        q2.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">4</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> t.first <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> t.second <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(nx <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> nx <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&lt;=</span> m <span style="color:#555">&amp;&amp;</span> g[nx][ny] <span style="color:#555">!=</span> <span style="color:#c30">&#39;#&#39;</span> <span style="color:#555">&amp;&amp;</span> g[nx][ny] <span style="color:#555">!=</span> <span style="color:#c30">&#39;F&#39;</span> <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>vis[nx][ny])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(F_time[nx][ny] <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    F_time[nx][ny] <span style="color:#555">=</span> F_time[t.first][t.second] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    F_time[nx][ny] <span style="color:#555">=</span> min(F_time[nx][ny],F_time[t.first][t.second] <span style="color:#555">+</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                vis[nx][ny] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>                q2.push(PII(nx,ny));
</span></span><span style="display:flex;"><span>                <span style="color:#555">++</span>tt;
</span></span><span style="display:flex;"><span>                <span style="color:#09f;font-style:italic">//q2[++tt] = {nx,ny};
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">check_J</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> y, <span style="color:#078;font-weight:bold">int</span> curtime)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(x <span style="color:#555">&gt;</span> <span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> x <span style="color:#555">&lt;</span> n <span style="color:#555">&amp;&amp;</span> y <span style="color:#555">&gt;</span> <span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> y <span style="color:#555">&lt;</span> m <span style="color:#555">&amp;&amp;</span> g[x][y] <span style="color:#555">!=</span> <span style="color:#c30">&#39;#&#39;</span> <span style="color:#555">&amp;&amp;</span> F_time[x][y] <span style="color:#555">&lt;</span> curtime <span style="color:#555">+</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">bfs_J</span>(<span style="color:#078;font-weight:bold">int</span> x,<span style="color:#078;font-weight:bold">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//PII q1[N*N];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    queue<span style="color:#555">&lt;</span>PII<span style="color:#555">&gt;</span> q1;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//int dist[N][N];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">bool</span> vis[N][N];
</span></span><span style="display:flex;"><span>    memset(vis, <span style="color:#366">false</span>, <span style="color:#069;font-weight:bold">sizeof</span> vis);
</span></span><span style="display:flex;"><span>    vis[x][y] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    q1.push(PII(x,y));
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//q1[0] = {x,y};
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    curtime[x][y] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>, tt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>q1.empty())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q1.front();
</span></span><span style="display:flex;"><span>        hh<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        q1.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">4</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> t.first <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> t.second <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(nx <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> nx <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&lt;=</span> m <span style="color:#555">&amp;&amp;</span> g[nx][ny] <span style="color:#555">!=</span> <span style="color:#c30">&#39;#&#39;</span> <span style="color:#555">&amp;&amp;</span> g[nx][ny] <span style="color:#555">!=</span> <span style="color:#c30">&#39;F&#39;</span> <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>vis[nx][ny])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                curtime[nx][ny] <span style="color:#555">=</span> curtime[t.first][t.second] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                vis[nx][ny] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>                q1.push(PII(nx,ny));
</span></span><span style="display:flex;"><span>                <span style="color:#555">++</span>tt;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">bfs_JF</span>(<span style="color:#078;font-weight:bold">int</span> x,<span style="color:#078;font-weight:bold">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//PII q3[N*N];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    queue<span style="color:#555">&lt;</span>PII<span style="color:#555">&gt;</span> q3;
</span></span><span style="display:flex;"><span>    q3.push(PII(x,y));
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//q3[0] = {x,y};
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>, tt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(x <span style="color:#555">==</span> <span style="color:#f60">1</span> <span style="color:#555">||</span> x <span style="color:#555">==</span> n <span style="color:#555">||</span> y <span style="color:#555">==</span> <span style="color:#f60">1</span> <span style="color:#555">||</span> y <span style="color:#555">==</span> m)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        flag <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>q3.empty())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q3.front();
</span></span><span style="display:flex;"><span>        hh<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        q3.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(t.first <span style="color:#555">==</span> <span style="color:#f60">1</span> <span style="color:#555">||</span> t.first <span style="color:#555">==</span> n <span style="color:#555">||</span> t.second <span style="color:#555">==</span> <span style="color:#f60">1</span> <span style="color:#555">||</span> t.second <span style="color:#555">==</span> m)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            flag <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">return</span> curtime[t.first][t.second] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">4</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> t.first <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> t.second <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(curtime[nx][ny] <span style="color:#555">&lt;</span> F_time[nx][ny])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                q3.push(PII(nx,ny));
</span></span><span style="display:flex;"><span>                <span style="color:#555">++</span>tt;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(curtime[x][y] <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        flag <span style="color:#555">=</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> curtime[x][y] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> T;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> T;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(T <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> j_x,j_y;
</span></span><span style="display:flex;"><span>        memset(F_time,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span> F_time);
</span></span><span style="display:flex;"><span>        memset(curtime,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span> curtime);
</span></span><span style="display:flex;"><span>        memset(g,<span style="color:#c30">&#39;.&#39;</span>,<span style="color:#069;font-weight:bold">sizeof</span> g);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                cin <span style="color:#555">&gt;&gt;</span> g[i][j]; 
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(g[i][j] <span style="color:#555">==</span> <span style="color:#c30">&#39;J&#39;</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    j_x <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>                    j_y <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(g[i][j] <span style="color:#555">==</span> <span style="color:#c30">&#39;F&#39;</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    bfs_F(i, j);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        bfs_J(j_x, j_y);
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> c <span style="color:#555">=</span> bfs_JF(j_x,j_y);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(flag)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#555">&lt;&lt;</span> c <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34;IMPOSSIBLE&#34;</span> <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ17æ—¥-æ€»ç»“-å‘¨èµ›">2021å¹´7æœˆ17æ—¥ æ€»ç»“&amp;å‘¨èµ›</h3>
<h4 id="p7095-yloi2020-ä¸ç¦»">P7095 [yLOI2020] ä¸ç¦»</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P7095">https://www.luogu.com.cn/problem/P7095</a></p>
</blockquote>
<blockquote>
<p>é¢˜è§£&amp;æ€è·¯ï¼š</p>
<p>å–„äºå‘ç°ï¼šåˆå§‹é¢èƒ½åŠ›å€¼å¦‚æœè¶Šå¤§çš„è¯ï¼Œè¶Šæœ‰å¯èƒ½ç©¿ä¸Šæ‰€æœ‰è£…å¤‡
&mdash;&ndash;&raquo; å†³ç­–å…·æœ‰å•è°ƒæ€§ &mdash;&mdash;-&raquo; æ»¡è¶³äºŒåˆ†çš„æ€§è´¨</p>
<blockquote>
<p>ç»†åŒ–é—®é¢˜ã€ç®€åŒ–æ€è€ƒæ–¹å¼</p>
</blockquote>
<p>ä¸€ã€å¯¹äºåŠ›é‡å€¼</p>
<p>å¯¹äºåŠ›é‡å€¼ï¼Œå‘ç°åˆå§‹åŠ›é‡è¶Šå¤šï¼Œç©¿çš„ä¹Ÿå°±è¶Šå¤šï¼Œå¯ä»¥ç”¨äºŒåˆ†çš„æ–¹æ³•æ¥è§£å†³ï¼</p>
<p>äºŒã€å¯¹äºç²¾ç¥å€¼</p>
<p>åœ¨é€‰å®šäº†æ»¡è¶³æ¡ä»¶çš„åŠ›é‡å€¼åï¼Œç„¶åæ¨¡æ‹Ÿç©¿ç€è£…å¤‡çš„è¿‡ç¨‹ï¼Œä¸€ä»¶ä¸€ä»¶ç©¿ï¼Œæ‰¾å‡ºæ»¡è¶³æ¡ä»¶çš„ç²¾ç¥å€¼</p>
<p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰æ¥ç»´æŠ¤è¿˜æœªç©¿ç€çš„è£…å¤‡</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">94
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#define int long long
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">Node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> a,b,c,d;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> <span style="color:#069;font-weight:bold">operator</span> <span style="color:#555">&lt;</span> (Node y) <span style="color:#069;font-weight:bold">const</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> b <span style="color:#555">&gt;</span> y.b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}a[<span style="color:#f60">100001</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">cmp</span>(Node x, Node y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(x.a <span style="color:#555">==</span> y.a)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> x.b <span style="color:#555">&lt;</span> y.b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> x.a <span style="color:#555">&lt;</span> y.a;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">check</span>(<span style="color:#078;font-weight:bold">int</span> mid)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(mid <span style="color:#555">&lt;</span> a[i].a) <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        mid <span style="color:#555">+=</span> a[i].c;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">get_b</span>(<span style="color:#078;font-weight:bold">int</span> ac) <span style="color:#09f;font-style:italic">//å†å·²ç»è·å¾—æœ€åˆé€‚çš„åŠ›é‡å€¼çš„å‰æä¸‹æ‰¾ç²¾ç¥å€¼ï¼Œç¬¬äºŒæ¬¡è´ªå¿ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//åˆ©ç”¨å †æ¥ç»´æŠ¤è¿˜æœªç©¿çš„è£…å¤‡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> ret <span style="color:#555">=</span> <span style="color:#f60">0</span>, sum <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    priority_queue<span style="color:#555">&lt;</span>Node<span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(a[i].a <span style="color:#555">&lt;=</span> ac <span style="color:#555">&amp;&amp;</span> i <span style="color:#555">&lt;=</span> n)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        q.push(a[i]);
</span></span><span style="display:flex;"><span>        i<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>q.empty())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Node cur <span style="color:#555">=</span> q.top();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        ret <span style="color:#555">=</span> max(ret, cur.b <span style="color:#555">-</span> sum);
</span></span><span style="display:flex;"><span>        sum <span style="color:#555">+=</span> cur.d;
</span></span><span style="display:flex;"><span>        ac <span style="color:#555">+=</span> cur.c;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">while</span>(a[i].a <span style="color:#555">&lt;=</span> ac <span style="color:#555">&amp;&amp;</span> i <span style="color:#555">&lt;=</span> n)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            q.push(a[i]);
</span></span><span style="display:flex;"><span>            i<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> ret;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> T;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> T;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34;0 0&#34;</span> <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        exit(<span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> sum <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> a[i].a <span style="color:#555">&gt;&gt;</span> a[i].b <span style="color:#555">&gt;&gt;</span> a[i].c <span style="color:#555">&gt;&gt;</span> a[i].d;
</span></span><span style="display:flex;"><span>        sum <span style="color:#555">+=</span> a[i].a; <span style="color:#09f;font-style:italic">//åˆå§‹æ€»åŠ›é‡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    sort(a<span style="color:#555">+</span><span style="color:#f60">1</span>,a<span style="color:#555">+</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>,cmp); <span style="color:#09f;font-style:italic">//å°†ç»“æ„ä½“ä¸­ä»¥aä¸ºå‡†è¿›è¡Œæ’åˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> l <span style="color:#555">=</span> <span style="color:#f60">0</span>, r <span style="color:#555">=</span> sum <span style="color:#555">*</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ä¸€æ¬¡è´ªå¿ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">while</span>(l <span style="color:#555">&lt;=</span> r) <span style="color:#09f;font-style:italic">//!ç›®çš„æ˜¯æ‰¾åˆ°æœ€å°çš„æ»¡è¶³æ¡ä»¶çš„åˆå§‹åŠ›é‡å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> mid <span style="color:#555">=</span> l<span style="color:#555">+</span>r<span style="color:#555">&gt;&gt;</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(check(mid))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">=</span> mid;
</span></span><span style="display:flex;"><span>            r <span style="color:#555">=</span> mid <span style="color:#555">-</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> l <span style="color:#555">=</span> mid <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//æ‰¾åˆ°å®Œæœ€å°çš„æ»¡è¶³æ¡ä»¶çš„åŠ›é‡å€¼å
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//ç„¶åæ¨¡æ‹Ÿç©¿è£…å¤‡ï¼Œæ‰¾åˆ°æœ€åˆé€‚çš„ç²¾ç¥å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//äºŒæ¬¡è´ªå¿ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    cout <span style="color:#555">&lt;&lt;</span> ans <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span> <span style="color:#555">&lt;&lt;</span> get_b(ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p4058-code-1-æœ¨æ">P4058 [Code+#1]æœ¨æ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P4058">https://www.luogu.com.cn/problem/P4058</a></p>
</blockquote>
<blockquote>
<p>&ndash;&gt;è§‚å¯Ÿé¢˜ç›®çš„æ•°æ®èŒƒå›´ $1 â‰¤ S,L â‰¤ 10^18$</p>
<p>&ndash;&gt; long long $10^9$  æ•…åº”è¯¥é‡‡ç”¨ å› ä¸ºæ•°æ®é‡éƒ½æ˜¯æ­£æ•° unsigned long long æ— ç¬¦å·long longæ»¡è¶³é¢˜ç›®çš„æ•°æ®èŒƒå›´</p>
<p>æœ¬é¢˜ç›®çš„æ˜¯æ‰¾æœ€å°‘éœ€è¦ç­‰å‡ ä¸ªæœˆï¼Œä¸å¦¨é‡‡ç”¨äºŒåˆ†æ–¹æ³•</p>
<p>1.è€ƒè™‘äºŒåˆ†çš„ç«¯ç‚¹â€”â€” å¯èƒ½ä¸€å¼€å§‹å°±æ»¡è¶³æ¡ä»¶ï¼Œå¯ä»¤å·¦ç«¯ç‚¹ä¸º0ï¼Œ
å¯¹äºå³ç«¯ç‚¹ï¼Œæˆ‘ä»¬å› ä¸ºæœ‰ä¸¤ä¸ªçº¦æŸæ¡ä»¶ï¼šä¸€ä¸ªæ˜¯å•æ ¹çš„é•¿åº¦ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯æ€»é•¿åº¦ã€‚</p>
<blockquote>
<p>æˆ‘ä»¬å»æ¯”è¾ƒè¦æ±‚çš„å•æ ¹é•¿åº¦å’ŒæŠŠæ€»ä»»åŠ¡åˆ†é…åˆ°æ¯ä¸€æ ¹çš„éœ€æ±‚é•¿åº¦ï¼Œå–æœ€å¤§å€¼å°±æ˜¯å®é™…çš„çº¦æŸæ¡ä»¶ï¼›é‚£ä¹ˆäºŒåˆ†çš„å³ç«¯ç‚¹<strong>å®é™…ä¸Šå°±æ˜¯æ¯æ£µæ ‘é•¿é«˜åˆ°çº¦æŸæ¡ä»¶çš„æ—¶é—´ä¸­çš„æœ€å¤§å€¼</strong></p>
</blockquote>
<p>æœ¬é¢˜çš„å‡ ä¸ªéš¾ç‚¹ï¼š
1.æ•°æ®èŒƒå›´éå¸¸å¤§ï¼Œåº”è¯¥é‡‡ç”¨unsigned long long è¿›è¡Œå­˜å‚¨
2.äºŒåˆ†è¿›è¡ŒæŸ¥æ‰¾ï¼Œå³ç«¯ç‚¹çš„é€‰å–</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">200200</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">unsigned</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> h[N],a[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">unsigned</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> n,m,s,i,j,k,minn <span style="color:#555">=</span> <span style="color:#f60">0</span>,maxn <span style="color:#555">=</span> <span style="color:#f60">0</span>,l,r,q;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å¿«è¯»å‡½æ•°ï¼Œå¿«é€Ÿè¯»å…¥æ•´æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">inline</span> <span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">rd</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> f<span style="color:#555">=</span><span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">char</span> c;
</span></span><span style="display:flex;"><span>    c<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(c<span style="color:#555">&lt;</span><span style="color:#c30">&#39;0&#39;</span><span style="color:#555">||</span>c<span style="color:#555">&gt;</span><span style="color:#c30">&#39;9&#39;</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(c<span style="color:#555">==</span><span style="color:#c30">&#39;-&#39;</span>) f<span style="color:#555">=</span><span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>        c<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(c<span style="color:#555">&gt;=</span><span style="color:#c30">&#39;0&#39;</span><span style="color:#555">&amp;&amp;</span>c<span style="color:#555">&lt;=</span><span style="color:#c30">&#39;9&#39;</span>){
</span></span><span style="display:flex;"><span>        x<span style="color:#555">=</span>(x<span style="color:#555">&lt;&lt;</span><span style="color:#f60">1</span>)<span style="color:#555">+</span>(x<span style="color:#555">&lt;&lt;</span><span style="color:#f60">3</span>)<span style="color:#555">+</span>(c<span style="color:#555">^</span><span style="color:#f60">48</span>);
</span></span><span style="display:flex;"><span>        c<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> f<span style="color:#555">?</span><span style="color:#99f">x</span>:<span style="color:#555">-</span>x;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">check</span>(<span style="color:#078;font-weight:bold">unsigned</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> mid) <span style="color:#09f;font-style:italic">//äºŒåˆ†checkå‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">unsigned</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> sum <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> flag <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(h[i] <span style="color:#555">+</span> a[i] <span style="color:#555">*</span> mid <span style="color:#555">&gt;=</span> minn)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(flag) sum <span style="color:#555">+=</span> h[i] <span style="color:#555">+</span> a[i] <span style="color:#555">*</span> mid;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(sum <span style="color:#555">&gt;=</span> s) <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%lld%lld%lld&#34;</span>,<span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>s,<span style="color:#555">&amp;</span>minn);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) h[i] <span style="color:#555">=</span> rd();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) a[i] <span style="color:#555">=</span> rd();
</span></span><span style="display:flex;"><span>    q <span style="color:#555">=</span> max(minn, s<span style="color:#555">/</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(h[i] <span style="color:#555">&lt;</span> q) maxn <span style="color:#555">=</span> max(maxn,(q<span style="color:#555">-</span>h[i])<span style="color:#555">/</span>a[i]<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    }<span style="color:#09f;font-style:italic">//æ‰¾å³ç«¯ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    l <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    r <span style="color:#555">=</span> maxn;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¼€å§‹äºŒåˆ†æšä¸¾
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">while</span>(l <span style="color:#555">&lt;</span> r)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">unsigned</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> mid <span style="color:#555">=</span> l <span style="color:#555">+</span> r <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(check(mid))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            r <span style="color:#555">=</span> mid;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            l <span style="color:#555">=</span> mid <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>,l);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2331-scoi2005-æœ€å¤§å­çŸ©é˜µ">â”P2331 [SCOI2005]æœ€å¤§å­çŸ©é˜µ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2331">https://www.luogu.com.cn/problem/P2331</a></p>
</blockquote>
<blockquote>
<p>è¯¥é¢˜è¦ç”¨åˆ°åŠ¨æ€è§„åˆ’ï¼Œç­‰å•¥æ—¶å€™å­¦åˆ°åŠ¨æ€è§„åˆ’çš„æ—¶å€™å›æ¥å†çœ‹çœ‹å§</p>
</blockquote>
<h4 id="p2853-usaco06dec-cow-picnic-s">P2853 [USACO06DEC]Cow Picnic S</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2853">https://www.luogu.com.cn/problem/P2853</a></p>
</blockquote>
<blockquote>
<p>(lllï¿¢Ï‰ï¿¢)ï¼Œå°±æ˜¯ä¸€ä¸ªdfsï¼Œä»æ¯ä¸ªç»™å®šçš„åœ°æ–¹å¼€å§‹è¿›è¡Œä¸€æ¬¡dfsï¼Œå¦‚æœèƒ½å¤Ÿåˆ°è¾¾ï¼Œåˆ™è¯¥ç‚¹++ï¼Œèƒ½å¤Ÿåˆ°è¾¾çš„ç‚¹ç­‰äºæ‰€è¦æ±‚çš„æ•°é‡ï¼Œåˆ™ans++;</p>
<blockquote>
<p>çº¯ç²¹ç”¨yæ€»çš„æ¨¡æ¿å†™å®Œçš„é¢˜</p>
</blockquote>
<blockquote>
<blockquote>
<p>ä¸è¿‡è¿˜æ˜¯å¾—æ³¨æ„ä¸€ä¸‹æ•°æ®èŒƒå›´ä»¥åŠciné€Ÿåº¦å¤ªæ…¢äº†ï¼Œæœ€å¥½æ¢æˆscanfè¿›è¡Œè¾“å…¥</p>
</blockquote>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">10010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> k,n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h[N],e[N],ne[N],idx;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> st[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> x[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> start[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a,<span style="color:#078;font-weight:bold">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    ne[idx] <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> u)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    st[u] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    x[u] <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[u]; i <span style="color:#555">!=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>; i <span style="color:#555">=</span> ne[i])
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[j])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            dfs(j);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d%d&#34;</span>, <span style="color:#555">&amp;</span>k,<span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>m);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//cin &gt;&gt; k &gt;&gt; n &gt;&gt; m;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    idx <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    memset(h, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#069;font-weight:bold">sizeof</span> h);
</span></span><span style="display:flex;"><span>    memset(x, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> x);
</span></span><span style="display:flex;"><span>    memset(st, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> st);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> k; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>start[i]);
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//cin &gt;&gt; start[i];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> in,to;
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d%d&#34;</span>, <span style="color:#555">&amp;</span>in,<span style="color:#555">&amp;</span>to);
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//cin &gt;&gt; in &gt;&gt; to;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        add(in,to);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> k ; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        memset(st, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> st);
</span></span><span style="display:flex;"><span>        dfs(start[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(x[i] <span style="color:#555">==</span> k) ans<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2937-usaco09jan-laserphones-s">P2937 [USACO09JAN]Laserphones S</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2937">https://www.luogu.com.cn/problem/P2937</a></p>
</blockquote>
<blockquote>
<p>çœ‹åˆ°æœ€çŸ­è·¯é—®é¢˜ï¼Œæƒ³åˆ°BFSï¼Œè¦æ»¡è¶³bfsä¸­çš„â€œæ‹å¼¯æ•°â€æœ€å°‘ï¼Œéœ€è¦è¿›è¡Œç‰¹åˆ¤ä»¥åŠæ›´å¤šçº¦æŸ</p>
</blockquote>
<blockquote>
<p>&#x1f602; é€šè¿‡è¿™ä¸€é¢˜ï¼Œæˆ‘ä»¥æœ€å¿«çš„é€Ÿåº¦å­¦ä¼šäº†åœ¨BFSä¸­è®°å½•è·¯å¾„ï¼Œä»¥åŠè¾“å‡ºBFSæ‰€è·å¾—çš„è·¯å¾„</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ³¨æ„ä¸€ä¸‹ï¼Œå¤šç»´æƒ…å†µå¦‚ä½•è½¬åŒ–ä¸ºä¸€ä¸ªä¸€ç»´æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ä»¥åŠä»ä¸€ç»´æƒ…å†µè½¬åŒ–åˆ°å¤šç»´æƒ…å†µçš„è®¡ç®—æ–¹å¼ ï¼ˆæ³¨æ„é¿å…éº»çƒ¦è¿˜æ˜¯ä¸‹æ ‡ä»0å¼€å§‹å§QAQï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">printpre</span>(<span style="color:#078;font-weight:bold">int</span> x,<span style="color:#078;font-weight:bold">int</span> y )
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">if</span>(pre[x<span style="color:#555">*</span>n<span style="color:#555">+</span>y] <span style="color:#555">!=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>     printpre(pre[x<span style="color:#555">*</span>n<span style="color:#555">+</span>y]<span style="color:#555">/</span>n, pre[x<span style="color:#555">*</span>n<span style="color:#555">+</span>y]<span style="color:#555">%</span>n);
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span> printf(<span style="color:#c30">&#34;(%d, %d)</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,x,y);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> pre[N]; <span style="color:#09f;font-style:italic">//ç”¨äºå­˜å‚¨å‰ä¸€ä¸ªä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>memset(pre, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> pre);
</span></span><span style="display:flex;"><span>pre[stx<span style="color:#555">*</span>n<span style="color:#555">+</span>sty] <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//å¤šç»´è½¬ä¸€ç»´
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">if</span>(t.first <span style="color:#555">==</span> enx <span style="color:#555">&amp;&amp;</span> t.second <span style="color:#555">==</span> eny)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printpre(enx,eny); <span style="color:#09f;font-style:italic">//é€’å½’è¿›è¡Œè¾“å‡º
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<blockquote>
<p>æ˜¾ç„¶æœ€çŸ­è·¯çš„è·¯å¾„å¯èƒ½æœ‰å¤šæ¡ï¼Œæ¯æ¡çš„æ‹å¼¯æ•°éƒ½ä¸ç›¸åŒã€‚æ‰€ä»¥è¿™ç§æ–¹å¼æ˜¯ä¸è¡Œçš„ï¼Œä½†èƒ½å¤Ÿå­¦ä¹ åˆ°BFSè¾“å‡ºæœ€çŸ­è·¯çš„è·¯å¾„è¿˜æ˜¯å¾ˆå€¼å¾—çš„</p>
</blockquote>
<blockquote>
<p>æ¢ä¸€ç§æ€è·¯ï¼š</p>
<blockquote>
<p>å¯¹äºå¯¹æ¯ä¸ªæ ¼å­è¿›è¡Œæ ‡è®°ï¼ˆä¹Ÿå°±æ˜¯æŸ“è‰²ï¼‰å¯ä»¥é‡‡ç”¨DFS</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>....... 
</span></span><span style="display:flex;"><span>......C 
</span></span><span style="display:flex;"><span>......<span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">*****</span>.<span style="color:#555">*</span>     
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span>.. 
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span>.. 
</span></span><span style="display:flex;"><span>.C..<span style="color:#555">*</span>.. 
</span></span><span style="display:flex;"><span>....... 
</span></span><span style="display:flex;"><span><span style="color:#555">----&gt;&gt;</span><span style="color:#09f;font-style:italic">//ä¹Ÿæ˜¯åˆ©ç”¨ç±»ä¼¼è´ªå¿ƒçš„æ–¹æ³•ï¼Œè®°å½•æ¯ä¸ªç‚¹èƒ½å¤Ÿåˆ°è¾¾çš„è¯ï¼Œéœ€è¦çš„æœ€å°‘çš„æ‹å¼¯æ¬¡æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>.....<span style="color:#f60">.1</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">111111</span>C 
</span></span><span style="display:flex;"><span>......<span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">*****</span>.<span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span>..   <span style="color:#a00;background-color:#faa">ä¸º</span><span style="color:#f60">1</span><span style="color:#a00;background-color:#faa">çš„åœ°æ–¹æ— éœ€æ‹å¼¯</span>
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span>.. 
</span></span><span style="display:flex;"><span>.C..<span style="color:#555">*</span>.. 
</span></span><span style="display:flex;"><span>....... 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa">ç„¶åå¯¹æ¯ä¸ªç‚¹éƒ½è¿›è¡Œå»¶ç”³</span>
</span></span><span style="display:flex;"><span><span style="color:#f60">2222221</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">111111</span>C 
</span></span><span style="display:flex;"><span><span style="color:#f60">222222</span><span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">*****</span><span style="color:#f60">2</span><span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span><span style="color:#f60">2.</span>   <span style="color:#a00;background-color:#faa">ä¸º</span><span style="color:#f60">2</span><span style="color:#a00;background-color:#faa">çš„åœ°æ–¹éœ€è¦æ‹å¼¯</span><span style="color:#f60">1</span><span style="color:#a00;background-color:#faa">æ¬¡</span>
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span><span style="color:#f60">2.</span> 
</span></span><span style="display:flex;"><span>.C..<span style="color:#555">*</span><span style="color:#f60">2.</span> 
</span></span><span style="display:flex;"><span>....<span style="color:#f60">.2</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f60">2222221</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">111111</span>C 
</span></span><span style="display:flex;"><span><span style="color:#f60">222222</span><span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">*****</span><span style="color:#f60">2</span><span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span><span style="color:#f60">23</span>   <span style="color:#a00;background-color:#faa">ä¸º</span><span style="color:#f60">3</span><span style="color:#a00;background-color:#faa">çš„åœ°æ–¹éœ€è¦æ‹å¼¯</span><span style="color:#f60">2</span><span style="color:#a00;background-color:#faa">æ¬¡</span>
</span></span><span style="display:flex;"><span>....<span style="color:#555">*</span><span style="color:#f60">23</span> 
</span></span><span style="display:flex;"><span>.C..<span style="color:#555">*</span><span style="color:#f60">23</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">3333323</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f60">2222221</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">111111</span>C 
</span></span><span style="display:flex;"><span><span style="color:#f60">222222</span><span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span><span style="color:#555">*****</span><span style="color:#f60">2</span><span style="color:#555">*</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">4444</span><span style="color:#555">*</span><span style="color:#f60">23</span>   <span style="color:#a00;background-color:#faa">ä¸º</span><span style="color:#f60">4</span><span style="color:#a00;background-color:#faa">çš„åœ°æ–¹éœ€è¦æ‹å¼¯</span><span style="color:#f60">3</span><span style="color:#a00;background-color:#faa">æ¬¡</span>
</span></span><span style="display:flex;"><span><span style="color:#f60">4444</span><span style="color:#555">*</span><span style="color:#f60">23</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">4</span>C44<span style="color:#555">*</span><span style="color:#f60">23</span> 
</span></span><span style="display:flex;"><span><span style="color:#f60">3333323</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">90
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#define inf 0x3f3f3f3f
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[<span style="color:#f60">110</span>][<span style="color:#f60">110</span>];<span style="color:#09f;font-style:italic">//ä¿å­˜åœ°å›¾ //å°†å­—ç¬¦åœ°å›¾è½¬åŒ–ä¸ºæ•´å‹åœ°å›¾
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x,y;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> num;
</span></span><span style="display:flex;"><span>}s,t;
</span></span><span style="display:flex;"><span>queue<span style="color:#555">&lt;</span>node<span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> fx,node u) <span style="color:#09f;font-style:italic">//åœ¨å®½æœä¸­æ¯ç§å»¶ç”³æ–¹å¼å°±æ˜¯ä¸€ç§å¹¿æœ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{ 
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//fxè®°å½•æ–¹å‘ï¼ˆ1ä¸Š2ä¸‹3å·¦4å³ï¼‰ uä¸ºå½“å‰æ‰€åœ¨ç‚¹ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> x<span style="color:#555">=</span>u.x,y<span style="color:#555">=</span>u.y,p<span style="color:#555">=</span>u.num; 
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(a[x][y]<span style="color:#555">&lt;</span>p <span style="color:#555">||</span> a[x][y]<span style="color:#555">==</span>inf) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(x<span style="color:#555">&lt;</span><span style="color:#f60">1</span> <span style="color:#555">||</span> y<span style="color:#555">&lt;</span><span style="color:#f60">1</span> <span style="color:#555">||</span> x<span style="color:#555">&gt;</span>n <span style="color:#555">||</span> y<span style="color:#555">&gt;</span>m) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//åˆ¤æ–­å»¶ç”³æ–¹å‘
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">if</span>(fx<span style="color:#555">==</span><span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a[x][y]<span style="color:#555">=</span>p;
</span></span><span style="display:flex;"><span>        q.push((node){x,y,p});
</span></span><span style="display:flex;"><span>        dfs(<span style="color:#f60">1</span>,(node){x<span style="color:#555">-</span><span style="color:#f60">1</span>,y,p});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(fx<span style="color:#555">==</span><span style="color:#f60">2</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a[x][y]<span style="color:#555">=</span>p;
</span></span><span style="display:flex;"><span>        q.push((node){x,y,p});
</span></span><span style="display:flex;"><span>        dfs(<span style="color:#f60">2</span>,(node){x<span style="color:#555">+</span><span style="color:#f60">1</span>,y,p});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(fx<span style="color:#555">==</span><span style="color:#f60">3</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a[x][y]<span style="color:#555">=</span>p;
</span></span><span style="display:flex;"><span>        q.push((node){x,y,p});
</span></span><span style="display:flex;"><span>        dfs(<span style="color:#f60">3</span>,(node){x,y<span style="color:#555">-</span><span style="color:#f60">1</span>,p});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(fx<span style="color:#555">==</span><span style="color:#f60">4</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a[x][y]<span style="color:#555">=</span>p;
</span></span><span style="display:flex;"><span>        q.push((node){x,y,p});
</span></span><span style="display:flex;"><span>        dfs(<span style="color:#f60">4</span>,(node){x,y<span style="color:#555">+</span><span style="color:#f60">1</span>,p});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">bfs</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>q.empty())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        node u<span style="color:#555">=</span>q.front(),v<span style="color:#555">=</span>q.front();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        u.num<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        v<span style="color:#555">=</span>u; v.x<span style="color:#555">=</span>u.x<span style="color:#555">-</span><span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//ä¸Š 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        dfs(<span style="color:#f60">1</span>,v);
</span></span><span style="display:flex;"><span>        v<span style="color:#555">=</span>u; v.x<span style="color:#555">=</span>u.x<span style="color:#555">+</span><span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//ä¸‹ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        dfs(<span style="color:#f60">2</span>,v);
</span></span><span style="display:flex;"><span>        v<span style="color:#555">=</span>u; v.y<span style="color:#555">=</span>u.y<span style="color:#555">-</span><span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//å·¦ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        dfs(<span style="color:#f60">3</span>,v);
</span></span><span style="display:flex;"><span>        v<span style="color:#555">=</span>u; v.y<span style="color:#555">=</span>u.y<span style="color:#555">+</span><span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//å³ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        dfs(<span style="color:#f60">4</span>,v);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>(){
</span></span><span style="display:flex;"><span>    cin<span style="color:#555">&gt;&gt;</span>m<span style="color:#555">&gt;&gt;</span>n;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">char</span> zwh;
</span></span><span style="display:flex;"><span>    memset(a,inf,<span style="color:#069;font-weight:bold">sizeof</span>(a));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>)<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j<span style="color:#555">=</span><span style="color:#f60">1</span>;j<span style="color:#555">&lt;=</span>m;j<span style="color:#555">++</span>) a[i][j]<span style="color:#555">=</span>inf<span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¦‚æœåœ°å›¾èŒƒå›´å…¨éƒ¨æ˜¯æ¯”ç­”æ¡ˆå°çš„æ•°å­—ï¼ˆæ¯”å¦‚0ï¼‰ï¼Œé‚£ä¹ˆåœ¨dfsæŸ“è‰²çš„æ—¶å€™å°±ä¼šç›´æ¥è¿”å›ï¼Œå¯¼è‡´é”™è¯¯ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j<span style="color:#555">=</span><span style="color:#f60">1</span>;j<span style="color:#555">&lt;=</span>m;j<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>            scanf(<span style="color:#c30">&#34; %c&#34;</span>,<span style="color:#555">&amp;</span>zwh);
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(zwh<span style="color:#555">==</span><span style="color:#c30">&#39;C&#39;</span>) <span style="color:#09f;font-style:italic">//è¿™ä¸€æ­¥æ‰¾èµ·ç‚¹å’Œç»ˆç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(s.x) t.x<span style="color:#555">=</span>i,t.y<span style="color:#555">=</span>j,t.num<span style="color:#555">=</span><span style="color:#f60">0</span>;<span style="color:#09f;font-style:italic">//æ‰¾åˆ°èµ·ç‚¹å’Œç»ˆç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                <span style="color:#069;font-weight:bold">else</span> s.x<span style="color:#555">=</span>i,s.y<span style="color:#555">=</span>j,s.num<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(zwh<span style="color:#555">==</span><span style="color:#c30">&#39;*&#39;</span>)
</span></span><span style="display:flex;"><span>            {<span style="color:#09f;font-style:italic">//å¦‚æœæ˜¯å¢™çš„è¯é‚£å°±è®¾ç½®ä¸ºæ— ç©·å¤§
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                a[i][j]<span style="color:#555">=</span>inf;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    q.push(s); <span style="color:#09f;font-style:italic">//é˜Ÿåˆ—ä¸­å°†èµ·ç‚¹å…¥é˜Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    bfs(); <span style="color:#09f;font-style:italic">//è¿›è¡Œå®½æœ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    cout<span style="color:#555">&lt;&lt;</span>a[t.x][t.y]<span style="color:#555">-</span><span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//æ³¨æ„å‡ä¸€
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1031-noip2002-æé«˜ç»„-å‡åˆ†çº¸ç‰Œ">P1031 [NOIP2002 æé«˜ç»„] å‡åˆ†çº¸ç‰Œ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1031">https://www.luogu.com.cn/problem/P1031</a></p>
</blockquote>
<blockquote>
<p>å˜¤å˜¤å˜¤ï¼Œè¿™é“ç­¾åˆ°é¢˜ï¼Œæˆ‘å±…ç„¶æ€è·¯å‡ºç°çš„é”™è¯¯ï¼Œå˜¤å˜¤å˜¤ï¼Œè¿˜æ˜¯å¾—åå¾—ä¸‹æ¿å‡³ï¼è¦åŠªåŠ›å»å­¦ä¹ æ‰è¡Œã€‚
ä¸€å®šè¦å¯¹èƒ½å¤Ÿå­¦åˆ°æ–°çš„ä¸œè¥¿ï¼Œå……æ»¡æ±‚çŸ¥æ¬²ï¼Œå¯¹æœªçŸ¥å……æ»¡æœŸå¾…ï¼ŒåŠ æ²¹ï¼åŠªåŠ›ï¼ç»ˆä¼šæœ‰æ‰€æ”¶è·</p>
</blockquote>
<blockquote>
<p>è¿™é“é¢˜å¾ˆç®€å•ï¼Œå› ä¸ºç§»åŠ¨åªèƒ½ä»ç›¸é‚»çš„ä½ç½®è¿›è¡Œç§»åŠ¨;
é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆæ±‚ä¸€ä¸‹å¹³å‡å€¼ave;</p>
<p>ç„¶åä»ç¬¬ä¸€å †å¼€å§‹ï¼Œå¦‚æœa[i] == ave çš„è¯é‚£å°±ç›´æ¥ä¸‹ä¸€ä¸ª;</p>
<p>å¦‚æœa[i] != aveçš„è¯ï¼Œ é‚£ä¹ˆæ­¤æ—¶éœ€è¦è¿›è¡Œä¸€æ¬¡æ“ä½œï¼Œä¹Ÿå°±æ˜¯ä»i+1ä¸ªä½ç½®æ¬è¿è¿‡æ¥çº¸ç‰Œï¼Œæˆ–è€…ä»iä½ç½®å‘i+1çš„ä½ç½®æ¬è¿çº¸ç‰Œ
a[i + 1] += a[i] - ave å…·ä½“æ˜¯ä»i&ndash;&gt;i+1 è¿˜æ˜¯i+1&ndash;&gt;iï¼Œä¸»è¦çœ‹a[i]-aveæ˜¯æ­£è¿˜æ˜¯è´Ÿã€‚åæ­£ä¸ç®¡æ€æ ·ï¼Œè¿™é‡Œéƒ½ç®—æ“ä½œä¸€æ¬¡ï¼Œæ•…æ­¤counts++;</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span>LL a[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    LL sum <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lld&#34;</span>, <span style="color:#555">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>        sum <span style="color:#555">+=</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    LL ave <span style="color:#555">=</span> sum <span style="color:#555">/</span> n;
</span></span><span style="display:flex;"><span>    LL counts <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n <span style="color:#555">-</span> <span style="color:#f60">1</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(a[i] <span style="color:#555">-</span> ave <span style="color:#555">!=</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            counts<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            a[i<span style="color:#555">+</span><span style="color:#f60">1</span>] <span style="color:#555">+=</span> a[i] <span style="color:#555">-</span> ave;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>,counts);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p7404-joi-2021-final-ã¨ã¦ã‚‚ãŸã®ã—ã„å®¶åº­èœåœ’-4">P7404 [JOI 2021 Final] ã¨ã¦ã‚‚ãŸã®ã—ã„å®¶åº­èœåœ’ 4</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P7404">https://www.luogu.com.cn/problem/P7404</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ä¸é¢˜è§£</p>
<p>æ•°æ®é‡å·¨å¤§ï¼Œå¯é‡‡ç”¨ã€å·®åˆ†ã€‘è¿›è¡Œæ±‚è§£</p>
<p>å¯¹äºå·®åˆ†æ•°ç»„</p>
<p>$b_i = a_{i+1} - a_i$
å› ä¸ºé¢˜ç›®çš„æ“ä½œï¼Œåªèƒ½å¯¹ç»™å®šçš„åŒºé—´è¿›è¡Œâ€œ+1â€è¿ç®—</p>
<p><code>å¯ä»¥æœ‰ä¸ªç»“è®ºï¼Œbiå·®åˆ†æ•°ç»„çš„æ­£è´Ÿæƒ…å†µä¸ai,ai+1çš„é€’å¢è¿˜æ˜¯é€’å‡æƒ…å†µå¯¹åº”</code></p>
<p>å¯¹äºå‰åŠæ®µï¼Œè¦æ»¡è¶³æ’é€’å¢çš„æƒ…å†µï¼Œ
å¯¹äº$b_i$å¦‚æœ $b_i$ &lt;=0 çš„è¯ï¼Œå¯¹ç­”æ¡ˆæœ‰è´¡çŒ®ï¼Œæ­¤æ—¶å¿…é¡»è¿›è¡Œä¸€æ¬¡æ“ä½œï¼› $x_iâ†x_{iâˆ’1}+âˆ£biâˆ£+1$ï¼›
å¯¹äº$b_i$å¦‚æœ$b_i$  &gt; 0 çš„è¯ï¼Œå¯¹ç­”æ¡ˆæ²¡æœ‰è´¡çŒ®ï¼Œæ— éœ€è¿›è¡Œæ“ä½œï¼›</p>
<p>å¯¹äºååŠæ®µï¼Œè¦æ»¡è¶³æ’é€’å‡çš„æƒ…å†µï¼Œ
å¯¹äº$b_i$å¦‚æœ $b_i$ &lt; 0 çš„è¯ï¼Œå¯¹ç­”æ¡ˆæ²¡æœ‰è´¡çŒ®ï¼Œæ— éœ€è¿›è¡Œæ“ä½œï¼›
å¯¹äº$b_i$å¦‚æœ$b_i$  &gt;= 0 çš„è¯ï¼Œå¯¹ç­”æ¡ˆæœ‰è´¡çŒ®ï¼Œæ­¤æ—¶å¿…é¡»è¿›è¡Œä¸€æ¬¡æ“ä½œï¼›</p>
<blockquote>
<p>å®šä¹‰front[N],behind[N];</p>
<ul>
<li>frontæ•°ç»„ï¼Œ$front_i$ è¡¨ç¤ºä»$1 \rightarrow i$ ä¸¥æ ¼é€’å¢æ‰€éœ€çš„æ­¥æ•°</li>
<li>$behind$æ•°ç»„ï¼Œ$behind_i$è¡¨ç¤ºä» $ i + 1 \rightarrow n$ ä¸¥æ ¼é€’å¢æ‰€éœ€çš„æ­¥æ•°</li>
</ul>
<p>å¯çŸ¥ï¼š$ans = min{max(x_i,y_{i+1})} ~~~from<del>i</del>to~~n$</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">200010</span>;
</span></span><span style="display:flex;"><span>LL a[N],b[N];
</span></span><span style="display:flex;"><span>LL front[N],behind[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>LL ans <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lld&#34;</span>, <span style="color:#555">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>        b[i] <span style="color:#555">=</span> a[i] <span style="color:#555">-</span> a[i <span style="color:#555">-</span> <span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>,j <span style="color:#555">=</span> n; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>, j <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(b[i] <span style="color:#555">&lt;=</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            front[i] <span style="color:#555">=</span> front[i <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">-</span> (b[i] <span style="color:#555">-</span> <span style="color:#f60">1</span>);<span style="color:#09f;font-style:italic">//front[i]è¡¨ç¤ºéœ€è¦è¿›è¡Œå¤šå°‘æ¬¡æ“ä½œæ‰èƒ½è®©å…¶å¤§äºå‰ä¸€é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> front[i] <span style="color:#555">=</span> front[i <span style="color:#555">-</span> <span style="color:#f60">1</span>]; <span style="color:#09f;font-style:italic">//æ— éœ€æ“ä½œå°±è®©å…¶ä¸å‰ä¸€ä¸ªç›¸ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(b[j] <span style="color:#555">&gt;=</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            behind[j] <span style="color:#555">=</span> behind[j <span style="color:#555">+</span> <span style="color:#f60">1</span>] <span style="color:#555">+</span> (b[j] <span style="color:#555">+</span> <span style="color:#f60">1</span>);<span style="color:#09f;font-style:italic">//behind[i]è¡¨ç¤ºéœ€è¦è¿›è¡Œå¤šå°‘æ¬¡æ“ä½œæ‰èƒ½è®©å…¶å°äºå‰ä¸€é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> behind[j] <span style="color:#555">=</span> behind[j <span style="color:#555">+</span> <span style="color:#f60">1</span>]; <span style="color:#09f;font-style:italic">//æ— éœ€æ“ä½œå°±è®©å…¶ä¸å‰ä¸€ä¸ªç›¸ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> min(ans, max(front[i],behind[i<span style="color:#555">+</span><span style="color:#f60">1</span>])); <span style="color:#09f;font-style:italic">//æ‰¾å‡ºæœ€å°çš„æ»¡è¶³æ¡ä»¶çš„æ­¥æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>,ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p6155-ä¿®æ”¹">P6155 ä¿®æ”¹</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P6155">https://www.luogu.com.cn/problem/P6155</a></p>
</blockquote>
<blockquote>
<p>é¢˜è§£&amp;æ€è·¯ï¼š</p>
<p><strong>è´ªå¿ƒ + æ•°æ®ç»“æ„[æ ˆ]</strong></p>
<blockquote>
<p>é¦–å…ˆï¼Œå¦‚æœæ²¡æœ‰ b_içš„é™åˆ¶ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæšä¸¾æ¯ä¸ªä½ç½®ï¼Œå¦‚æœè¿™ä¸ªä½ç½®ä¸Šæœ‰ç‚¹ï¼Œåˆ™å°†è¿™ä¸ªä½ç½®çš„æ‰€æœ‰ a_iåŠ å…¥ã€‚ç„¶åï¼Œå°†ä¸€ä¸ª a_iæ”¾åœ¨è¿™ä¸ªä½ç½®ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ã€‚
å‡å¦‚æœ‰ 2,2,3 ä¸‰ä¸ªç‚¹ï¼š
æšä¸¾ä½ç½® 1ï¼Œæ²¡æœ‰ç‚¹ã€‚
æšä¸¾ä½ç½® 2ï¼Œå°†ä¸¤ä¸ª 2 åŠ å…¥é˜Ÿåˆ—ï¼Œå°†ä¸€ä¸ª 2 å¼¹å‡ºã€‚
æšä¸¾ä½ç½® 3ï¼Œå°† 3 åŠ å…¥é˜Ÿåˆ—ï¼Œå°†å¦ä¸€ä¸ª 2 å¼¹å‡ºã€‚
æšä¸¾ä½ç½® 4ï¼Œå°† 3 å¼¹å‡ºã€‚
æ¯ä¸ªç‚¹è¢«ä¿®æ”¹çš„æ¬¡æ•°å³ä¸º å‡ºé˜Ÿæ—¶é—´ -âˆ’ å…¥é˜Ÿæ—¶é—´ã€‚ç„¶åæŒ‰ä¿®æ”¹çš„æ¬¡æ•°æ’åºå†ä¹˜ä¸Š b_iå³å¯ã€‚</p>
<p>ä½†æœ‰æ—¶æœ‰å¤šç§é€‰æ‹©ï¼Œæ¯”å¦‚åœ¨ä¸Šè¿°æ ·ä¾‹ä¸­ï¼Œæ—¶é—´ 3 æ—¶ï¼Œæ—¢å¯ä»¥å¼¹å‡º 2 åˆå¯ä»¥å¼¹å‡º 3 ï¼Œä½†å¼¹å‡º 2 è‚¯å®šæ˜¯æ›´ä¼˜çš„ï¼Œå› ä¸º2çš„å…¥é˜Ÿæ—¶é—´æ¯” 3 é å‰ï¼Œä¹˜ä¸Šçš„ b_iä¸€å®šæ¯” 3 å°‘ï¼Œæ‰€ä»¥å¤šä¿®æ”¹ä¸€æ¬¡ 2çš„ä»£ä»·æ›´å°ã€‚
æ‰€ä»¥å°†ä¸Šè¿°çš„é˜Ÿåˆ—æ”¹ä¸ºæ ˆã€‚
ä½†æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ O*(<em>n</em>log<em>n</em>+max<em>a_i) çš„ã€‚
ä½†å¯ä»¥å‘ç°ï¼Œå…¶å®å¾ˆå¤šæ—¶å€™æ ˆéƒ½æ˜¯ç©ºçš„ï¼Œä¼˜åŒ–å°±æ˜¯åœ¨æ ˆä¸ºç©ºçš„æ—¶å€™è·³åˆ°ä¸‹ä¸€ä¸ª a_iã€‚
å¯ä»¥è¯æ˜æ ˆæœ‰å€¼çš„ç‚¹è‡³å¤šæœ‰ 2nä¸ªã€‚
æ€»å¤æ‚åº¦ O</em>(<em>n</em>log<em>n</em>) (æ’åº)ã€‚</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#define re register
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;stack&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#09f;font-style:italic">//? ç»“æœå¾ˆå¤§ éœ€è¦å¯¹2^64è¿›è¡Œå–æ¨¡ï¼Ÿï¼Ÿï¼Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">node</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">int</span> x,id;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">d</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">int</span> ans,pos;
</span></span><span style="display:flex;"><span>}p[<span style="color:#f60">1000002</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,a[<span style="color:#f60">1000002</span>],b[<span style="color:#f60">1000002</span>],x,l;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">unsigned</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ans;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">inline</span> <span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">read</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">int</span> t<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">char</span> v<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">while</span>(v<span style="color:#555">&lt;</span><span style="color:#c30">&#39;0&#39;</span>)v<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">while</span>(v<span style="color:#555">&gt;=</span><span style="color:#c30">&#39;0&#39;</span>){
</span></span><span style="display:flex;"><span>		t<span style="color:#555">=</span>(t<span style="color:#555">&lt;&lt;</span><span style="color:#f60">3</span>)<span style="color:#555">+</span>(t<span style="color:#555">&lt;&lt;</span><span style="color:#f60">1</span>)<span style="color:#555">+</span>v<span style="color:#555">-</span><span style="color:#f60">48</span>;
</span></span><span style="display:flex;"><span>		v<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">return</span> t;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">inline</span> <span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">cmp</span>(d x,d y){
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">return</span> x.ans<span style="color:#555">&gt;</span>y.ans;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>stack <span style="color:#555">&lt;</span>node<span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">signed</span> <span style="color:#c0f">main</span>(){
</span></span><span style="display:flex;"><span>	n<span style="color:#555">=</span>read();
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(re <span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;<span style="color:#555">++</span>i)a[i]<span style="color:#555">=</span>read();
</span></span><span style="display:flex;"><span>	sort(a<span style="color:#555">+</span><span style="color:#f60">1</span>,a<span style="color:#555">+</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(re <span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;<span style="color:#555">++</span>i)b[i]<span style="color:#555">=</span>read();
</span></span><span style="display:flex;"><span>	sort(b<span style="color:#555">+</span><span style="color:#f60">1</span>,b<span style="color:#555">+</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>	l<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>	x<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">while</span>(<span style="color:#f60">1</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(q.empty()){
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(l<span style="color:#555">&lt;=</span>n)
</span></span><span style="display:flex;"><span>			x<span style="color:#555">=</span>a[l];
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">while</span>(a[l]<span style="color:#555">==</span>x){
</span></span><span style="display:flex;"><span>			q.push(node{a[l],l});
</span></span><span style="display:flex;"><span>			<span style="color:#555">++</span>l;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		node tmp<span style="color:#555">=</span>q.top();
</span></span><span style="display:flex;"><span>		q.pop();
</span></span><span style="display:flex;"><span>		p[tmp.id].ans<span style="color:#555">=</span>x<span style="color:#555">-</span>tmp.x;
</span></span><span style="display:flex;"><span>		<span style="color:#555">++</span>x;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	sort(p<span style="color:#555">+</span><span style="color:#f60">1</span>,p<span style="color:#555">+</span>n<span style="color:#555">+</span><span style="color:#f60">1</span>,cmp);
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(re <span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;<span style="color:#555">++</span>i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans<span style="color:#555">+=</span><span style="color:#f60">1llu</span><span style="color:#555">*</span>p[i].ans<span style="color:#555">*</span>b[i];
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	printf(<span style="color:#c30">&#34;%llu&#34;</span>,ans);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ä»å­˜åœ¨ç–‘æƒ‘ï¼šhttps://www.luogu.com.cn/problem/solution/P6155</p>
</blockquote>
<h4 id="p1248-åŠ å·¥ç”Ÿäº§è°ƒåº¦">â”P1248 åŠ å·¥ç”Ÿäº§è°ƒåº¦</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1248">https://www.luogu.com.cn/problem/P1248</a></p>
</blockquote>
<h3 id="2021å¹´7æœˆ19æ—¥">2021å¹´7æœˆ19æ—¥</h3>
<blockquote>
<p>2021å¹´7æœˆ19æ—¥ åˆ†æ²»
2021å¹´7æœˆ20æ—¥ æ•°å­¦çŸ¥è¯†é€‰è®²â…  ï¼ˆçº¦æ•°ã€æ•´é™¤åˆ’åˆ†ï¼‰
2021å¹´7æœˆ21æ—¥ æ•°å­¦çŸ¥è¯†é€‰è®² â…¡ ï¼ˆè´¨æ•°ç­›ï¼‰
2021å¹´7æœˆ22æ—¥ ç»„åˆæ•°å­¦ï¼ˆå¡ç‰¹å…°,lgvç®—æ³•,éš”æ¿æ³•,å®¹æ–¥åŸç†,å¢å¡æ–¯å®šç†)
2021å¹´7æœˆ23æ—¥ åŸºç¡€å›¾è®º</p>
</blockquote>
<h4 id="p1908-é€†åºå¯¹">P1908 é€†åºå¯¹</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1908">https://www.luogu.com.cn/problem/P1908</a></p>
</blockquote>
<blockquote>
<p>åˆ†æ²»æ€æƒ³çš„åº”ç”¨ï¼›[å½’å¹¶æ’åºæ€æƒ³]</p>
<blockquote>
<p>å›é¡¾ä¸€ä¸‹å½’å¹¶æ’åºï¼š</p>
<p>1.åŒºé—´ä¸€åˆ†ä¸ºäºŒ [Lï¼Œmid]  [mid+1 , R]
2.é€’å½’æ’åºå·¦å³ä¸¤è¾¹
3.å½’å¹¶ï¼Œå°†ä¸¤ä¸ªæœ‰åºåºåˆ—åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºåºåˆ—</p>
</blockquote>
<p>åŸºäºå½’å¹¶ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼š</p>
<blockquote>
<p>æ³¨æ„å½’å¹¶å‰çš„å·¦å³ä¸¤è¾¹å·²ç»æ˜¯æœ‰åºçš„æƒ…å†µäº†ã€‚
è¦æ·±åˆ»ç†è§£å½’å¹¶ç®—æ³•çš„æœ¬è´¨ï¼Œä»¥åŠåˆ†æ²»ç®—æ³•çš„å…·ä½“åº”ç”¨</p>
</blockquote>
<p>1.ä¸¤ä¸ªæ•°åŒæ—¶åœ¨å·¦åŠè¾¹
2.ä¸¤ä¸ªæ•°åŒæ—¶åœ¨å³åŠè¾¹
3.ä¸€ä¸ªæ•°åœ¨å·¦åŠè¾¹ï¼Œä¸€ä¸ªæ•°åœ¨å³åŠè¾¹</p>
<ol>
<li>ans = merge_sort(L, mid);</li>
<li>ans = merge_sortt(mid+1, r);</li>
<li>ans = mid - i + 1;  å¦‚æœç¬¬iä¸ªè¦å¤§äºç¬¬jä¸ªï¼Œé‚£ä¹ˆç¬¬i~midä¸ªéƒ½ä¼šå¤§äºjï¼Œans = mid - i + 1</li>
</ol>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">500010</span>;
</span></span><span style="display:flex;"><span>LL q[N];
</span></span><span style="display:flex;"><span>LL tmp[N];<span style="color:#09f;font-style:italic">//å½’å¹¶æ’åºéœ€è¦ä¸€ä¸ªä¸­é—´æ•°ç»„å­˜å‚¨ä¸­é—´å½’å¹¶è¿‡ç¨‹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>LL <span style="color:#c0f">merge_sort</span>(<span style="color:#078;font-weight:bold">int</span> l,<span style="color:#078;font-weight:bold">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span> (l <span style="color:#555">&gt;=</span> r) <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> mid <span style="color:#555">=</span> l<span style="color:#555">+</span>r <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    LL res <span style="color:#555">=</span> merge_sort(l,mid) <span style="color:#555">+</span> merge_sort(mid<span style="color:#555">+</span><span style="color:#f60">1</span>,r);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å·¦è¾¹çš„é€†åºå¯¹+å³è¾¹çš„é€†åºå¯¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> k<span style="color:#555">=</span><span style="color:#f60">0</span>,i<span style="color:#555">=</span>l,j<span style="color:#555">=</span>mid<span style="color:#555">+</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span> (i <span style="color:#555">&lt;=</span> mid <span style="color:#555">&amp;&amp;</span> j<span style="color:#555">&lt;=</span>r)
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (q[i] <span style="color:#555">&lt;=</span> q[j]) tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span> q[i<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span> 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span>q[j<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>            res <span style="color:#555">+=</span> mid <span style="color:#555">-</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//å› ä¸ºå·¦å³ä¸¤è¾¹ä»¥åŠæœ‰åºäº†ï¼Œå¦‚æœå·¦è¾¹ç¬¬iä¸ªä½ç½®å¤§äºå³è¾¹ç¬¬jä¸ªä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//é‚£ä¹ˆi~midä¸ªä½ç½®éƒ½å¤§äºç¬¬jä¸ªä½ç½®ï¼Œæ­¤å¤„çš„é€†åºå¯¹ä¸ªæ•°ä¸ºmid-i+1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span> (i <span style="color:#555">&lt;=</span> mid) tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span> q[i<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span> (j <span style="color:#555">&lt;=</span> r) tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span> q[j<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span> (i <span style="color:#555">=</span> l,j <span style="color:#555">=</span> <span style="color:#f60">0</span>;i <span style="color:#555">&lt;=</span> r;i<span style="color:#555">++</span>,j<span style="color:#555">++</span>) q[i]<span style="color:#555">=</span>tmp[j];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> k;
</span></span><span style="display:flex;"><span>    k <span style="color:#555">=</span> read();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">0</span> ;i <span style="color:#555">&lt;</span> k; i<span style="color:#555">++</span>) q[i] <span style="color:#555">=</span> read();
</span></span><span style="display:flex;"><span>    write(merge_sort(<span style="color:#f60">0</span>,k<span style="color:#555">-</span><span style="color:#f60">1</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1115-æœ€å¤§å­æ®µå’Œ">P1115 æœ€å¤§å­æ®µå’Œ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1115">https://www.luogu.com.cn/problem/P1115</a></p>
</blockquote>
<blockquote>
<p>æ–¹æ³•ä¸€ï¼šåˆ†æ²»</p>
<p>å»è¯¥æ•°åˆ—çš„ä¸­é—´å€¼mid</p>
<p>å¯çŸ¥æœ€å¤§çš„åºåˆ—åªæœ‰ä¸‰ç§æƒ…å†µï¼š
1.å·¦ä¾§æœ€å¤§
2.å³ä¾§æœ€å¤§
3.å·¦ä¾§å’Œå³ä¾§éƒ½æœ‰ä¸€éƒ¨åˆ†åŠ èµ·æ¥æ‰æœ€å¤§</p>
<p>ğŸ‘†åˆ†åˆ«æ±‚å–ï¼Œæœ€åanså°±æ˜¯è¿™ä¸‰ç§æƒ…å†µçš„æœ€å¤§å€¼</p>
</blockquote>
<blockquote>
<p>æ–¹æ³•äºŒï¼šDPåŠ¨æ€è§„åˆ’</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#078;font-weight:bold">int</span> n , arr[<span style="color:#f60">200200</span>];
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> minn <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">inline</span> <span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">Max</span>( <span style="color:#078;font-weight:bold">int</span> a , <span style="color:#078;font-weight:bold">int</span> b) { <span style="color:#069;font-weight:bold">return</span> a <span style="color:#555">&gt;</span> b <span style="color:#555">?</span> <span style="color:#99f">a</span> : b ;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åˆ†æ²»ç®—æ³•ç±»ä¼¼äºå½’å¹¶æ’åºï¼Œæ—¶é—´å¤æ‚åº¦O(nlogn)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">rec</span>( <span style="color:#078;font-weight:bold">int</span> l , <span style="color:#078;font-weight:bold">int</span> r ) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span> ( l <span style="color:#555">==</span> r )  <span style="color:#09f;font-style:italic">//åˆ†æ²»åˆ°æœ€ååªå‰©ä¸‹ä¸€ä¸ªæ•°ï¼Œé‚£å°±è¿”å›è¿™ä¸ªæ•°å°±è¡Œäº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> arr[l];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> mid <span style="color:#555">=</span> ( l <span style="color:#555">+</span> r ) <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>;  
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> sum <span style="color:#555">=</span> <span style="color:#f60">0</span> , ret1 <span style="color:#555">=</span> minn , ret2 <span style="color:#555">=</span> minn; 
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ret1è¡¨ç¤ºå·¦è¾¹çš„æœ€å¤§
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//ret2è¡¨ç¤ºå³è¾¹çš„æœ€å¤§
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>( <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> mid ; i <span style="color:#555">&gt;=</span> l ; i<span style="color:#555">--</span> )
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sum <span style="color:#555">+=</span> arr[i];
</span></span><span style="display:flex;"><span>        ret1 <span style="color:#555">=</span> Max( ret1 , sum );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//æ‰¾åˆ°å·¦è¾¹çš„æœ€å¤§å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    sum <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>( <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> mid<span style="color:#555">+</span><span style="color:#f60">1</span> ; i <span style="color:#555">&lt;=</span> r ; i<span style="color:#555">++</span> ) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sum <span style="color:#555">+=</span> arr[i];
</span></span><span style="display:flex;"><span>        ret2 <span style="color:#555">=</span> Max( ret2 , sum );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//æ‰¾åˆ°å³è¾¹çš„æœ€å¤§å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">return</span> Max( Max( rec( l , mid ) , rec( mid <span style="color:#555">+</span> <span style="color:#f60">1</span> , r ) ) , ret1 <span style="color:#555">+</span> ret2 );
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//æœ€å¤§å€¼æœ‰ä¸‰ç§å¯èƒ½ï¼Œå¯èƒ½éƒ½åœ¨å·¦è¾¹ï¼Œå¯èƒ½éƒ½åœ¨å³è¾¹ï¼Œå¯èƒ½ä¸€éƒ¨åˆ†åœ¨å·¦è¾¹ä¸€éƒ¨åˆ†åœ¨å³è¾¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//åæ­£å°±æ˜¯è¿™ä¸‰ç§å¯èƒ½ä¸­çš„æœ€å¤§å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//LL ans = Maxx(Maxx(dac(l, mid),dac(mid+1,r)),left+right);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>}
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">inline</span> <span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">read</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x<span style="color:#555">=</span><span style="color:#f60">0</span>,f<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">char</span> ch<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(ch<span style="color:#555">&lt;</span><span style="color:#c30">&#39;0&#39;</span><span style="color:#555">||</span>ch<span style="color:#555">&gt;</span><span style="color:#c30">&#39;9&#39;</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(ch<span style="color:#555">==</span><span style="color:#c30">&#39;-&#39;</span>)
</span></span><span style="display:flex;"><span>            f<span style="color:#555">=-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        ch<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(ch<span style="color:#555">&gt;=</span><span style="color:#c30">&#39;0&#39;</span><span style="color:#555">&amp;&amp;</span>ch<span style="color:#555">&lt;=</span><span style="color:#c30">&#39;9&#39;</span>){
</span></span><span style="display:flex;"><span>        x<span style="color:#555">=</span>(x<span style="color:#555">&lt;&lt;</span><span style="color:#f60">1</span>)<span style="color:#555">+</span>(x<span style="color:#555">&lt;&lt;</span><span style="color:#f60">3</span>)<span style="color:#555">+</span>(ch<span style="color:#555">^</span><span style="color:#f60">48</span>);
</span></span><span style="display:flex;"><span>        ch<span style="color:#555">=</span>getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> x<span style="color:#555">*</span>f;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">inline</span> <span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">write</span>(<span style="color:#078;font-weight:bold">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>x) putchar(<span style="color:#c30">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">char</span> F[<span style="color:#f60">200</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> tmp<span style="color:#555">=</span>x<span style="color:#555">&gt;</span><span style="color:#f60">0</span><span style="color:#555">?</span><span style="color:#99f">x</span>:<span style="color:#555">-</span>x ;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(x<span style="color:#555">&lt;</span><span style="color:#f60">0</span>)putchar(<span style="color:#c30">&#39;-&#39;</span>) ;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> cnt<span style="color:#555">=</span><span style="color:#f60">0</span> ;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">while</span>(tmp<span style="color:#555">&gt;</span><span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            F[cnt<span style="color:#555">++</span>]<span style="color:#555">=</span>tmp<span style="color:#555">%</span><span style="color:#f60">10</span><span style="color:#555">+</span><span style="color:#c30">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>            tmp<span style="color:#555">/=</span><span style="color:#f60">10</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">while</span>(cnt<span style="color:#555">&gt;</span><span style="color:#f60">0</span>)putchar(F[<span style="color:#555">--</span>cnt]) ;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    n <span style="color:#555">=</span> read();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>( <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span> ; i <span style="color:#555">&lt;=</span> n ; i<span style="color:#555">++</span> ) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        arr[i] <span style="color:#555">=</span> read();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    write(rec(<span style="color:#f60">1</span>,n));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>è¯¥é¢˜çš„åŠ¨æ€è§„åˆ’åšæ³•</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">200010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> num[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans[N] <span style="color:#555">=</span> {<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> sum <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1e9</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> m; 
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> num[i];
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//DP ans[N]æ•°ç»„å­˜æ”¾çš„æ˜¯æœ€å¤§çš„è¿ç»­å­æ®µå’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        ans[i] <span style="color:#555">=</span> max(ans[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">+</span> num[i], num[i]);
</span></span><span style="display:flex;"><span>        sum <span style="color:#555">=</span> max(sum,ans[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> sum;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1177-æ¨¡æ¿-å¿«é€Ÿæ’åº">P1177 ã€æ¨¡æ¿ã€‘å¿«é€Ÿæ’åº</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1177">https://www.luogu.com.cn/problem/P1177</a></p>
</blockquote>
<blockquote>
<p>å¿«é€Ÿæ’åºå®é™…ä¸Šä¹Ÿæ˜¯åˆ†æ²»ç®—æ³•çš„æ‹“å±•</p>
<p>é¦–å…ˆå¯¹æ•´ä¸ªåºåˆ—è¿›è¡Œä¸€è¶Ÿå¿«é€Ÿæ’åº
ç„¶ååˆ†æ²»ï¼Œå¯¹å·¦ä¾§å’Œå³ä¾§åˆ†åˆ«è¿›è¡Œä¸€æ¬¡ä¸€è¶Ÿå¿«é€Ÿæ’åº</p>
<p>ç»“æŸæ¡ä»¶æ˜¯ åˆ†æ²»åˆ°æœ€ååªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¸€å®šæ˜¯æœ‰åºçš„ï¼Œæ— éœ€è¿›è¡Œæ“ä½œ</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">quicksort</span>(<span style="color:#078;font-weight:bold">int</span> l, <span style="color:#078;font-weight:bold">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¦‚æœæœ€åï¼Œåˆ†æ²»åˆ°åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£è‚¯å®šæ˜¯æœ‰åºçš„ï¼Œæ— éœ€æ“ä½œç›´æ¥è¿”å›å³å¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">if</span>(l <span style="color:#555">&gt;=</span> r) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¦åˆ™ï¼Œè¯¥åºåˆ—ä»ç„¶æ— åºï¼Œåˆ™åº”è¯¥è¿›è¡Œå¦‚ä¸‹æ“ä½œæ‰è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//å°†é—®é¢˜åˆ†è§£æˆå°é—®é¢˜
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//å¤„ç†ä¸€è¶Ÿå¿«é€Ÿæ’åºçš„è¿‡ç¨‹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    LL x <span style="color:#555">=</span> a[l <span style="color:#555">+</span> r <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> l<span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> r<span style="color:#555">+</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(i<span style="color:#555">&lt;</span>j)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">do</span> i <span style="color:#555">++</span>; <span style="color:#069;font-weight:bold">while</span>(a[i] <span style="color:#555">&lt;</span> x);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">do</span> j <span style="color:#555">--</span>; <span style="color:#069;font-weight:bold">while</span>(a[j] <span style="color:#555">&gt;</span> x);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(i <span style="color:#555">&lt;</span> j ) swap(a[i],a[j]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//é€’å½’å¤„ç†å·¦å³ä¸¤è¾¹ï¼Œè¿›è¡Œå¤šè¶Ÿå¿«é€Ÿæ’åº
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    quicksort(l, j);
</span></span><span style="display:flex;"><span>    quicksort(j<span style="color:#555">+</span><span style="color:#f60">1</span>, r);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3810-æ¨¡æ¿-ä¸‰ç»´ååº-é™Œä¸ŠèŠ±å¼€">â”P3810 ã€æ¨¡æ¿ã€‘ä¸‰ç»´ååºï¼ˆé™Œä¸ŠèŠ±å¼€ï¼‰</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3810">https://www.luogu.com.cn/problem/P3810</a></p>
</blockquote>
<blockquote>
<p>CDQåˆ†æ²»ç”¨æ³•è¦æ±‚å‰é¢åŒºé—´çš„å˜åŠ¨ä¼šå½±å“åé¢åŒºé—´ï¼Œä½†æ˜¯å¦‚æœåé¢åŒºé—´ä¹Ÿä¼šå½±å“å‰é¢åŒºé—´é‚£æ ·cdqåˆ†æ²»å°±ä¸èƒ½ç”¨äº†ã€‚</p>
<blockquote>
<p>è¦æ³¨æ„å¦‚æœæ˜¯å®Œå…¨ç›¸åŒCDQåˆ†æ²»ä¼šå‡ºé—®é¢˜çš„ï¼Œå› æ­¤ä¹Ÿæ›´åŠ æ·±åˆ»çš„äº†è§£äº†CDQåˆ†æ²»ï¼ŒåŸå› æ˜¯å¦‚æœä¸¤ä¸ªä¸€æ¨¡ä¸€æ ·çš„ä¸‰ç»´æ•°ç»„å®¹æ˜“å‡ºç°åé¢åŒºé—´ä¼šå½±å“åˆ°å‰é¢åŒºé—´çš„æƒ…å†µ(ä¸¤ä¸ªä¸‰å…ƒç»„åœ¨å‰åä¸¤ä¸ªåŒºé—´ï¼‰</p>
</blockquote>
<blockquote>
<p>å› æ­¤è¦å…ˆå»é‡ï¼Œè€Œä¸”è¦æŒ‰ç…§ä¸‰ç»´åæ ‡ä»å°åˆ°å¤§æ’åºï¼Œä»è€Œä¿è¯åé¢ä¸ä¼šå½±å“åˆ°å‰é¢ã€‚</p>
</blockquote>
</blockquote>
<h4 id="åˆ†æ²»-p1257-å¹³é¢ä¸Šçš„æœ€æ¥è¿‘ç‚¹å¯¹">[åˆ†æ²»]P1257 å¹³é¢ä¸Šçš„æœ€æ¥è¿‘ç‚¹å¯¹</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1257">https://www.luogu.com.cn/problem/P1257</a></p>
</blockquote>
<blockquote>
<p>è™½ç„¶è¯¥é¢˜å¯ä»¥ç”¨æš´åŠ›è§£æ³•</p>
<p>å°è¯•åˆ†æ²»çš„è§£æ³•ï¼š$O(n(logn)^2)$</p>
<p>å‚è€ƒï¼š <a href="http://people.csail.mit.edu/indyk/6.838-old/handouts/lec17.pdf">http://people.csail.mit.edu/indyk/6.838-old/handouts/lec17.pdf</a></p>
<p>1.é¦–å…ˆåœ¨æ’åºåºåˆ—ä¸­æ‰¾åˆ°ä¸€ä¸ªä¸­é—´ç‚¹$P(\frac{n}{2})$
2.å°†è¿™ä¸ªåºåˆ—åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼ŒP[0]~P(n/2)  å’Œ P[n/2+1]~P[n-1]
3.é€’å½’åœ¨è¿™å·¦å³ä¸¤ä¸ªåºåˆ—ä¸­æŸ¥æ‰¾æœ€å°çš„è·ç¦» dl, drï¼Œç„¶åæ‰¾åˆ°å…¶æœ€å°çš„è·ç¦»d = min(dl,dr)
4.æ¥ä¸‹æ¥æˆ‘ä»¬è¦æ‰¾çš„æ˜¯ï¼Œä½äºä¸­é—´éƒ¨åˆ†çš„å¯èƒ½å­˜åœ¨çš„æœ€å°çš„è·ç¦»ï¼Œä»ä¸Šé¢ä¸‰ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä¸€ä¸ªæœ€å°çš„ä¸Šç•Œè·ç¦»d</p>
<blockquote>
<p><img src="https://pve.digikamc.cn:8343/i/2024/11/25/j1vy1q-0.png" alt="image-20210719200553342">æˆ‘ä»¬éœ€è¦ä»¥ä¸­é—´ä¸ºåŸºå‡†ï¼Œæ‰¾åŠå¾„ä¸ºdï¼Œxè½´çš„è·ç¦»ä¸ä¸­é—´midæœ€æ¥è¿‘çš„ç‚¹ï¼Œåˆ›å»ºä¸€ä¸ªæ•°ç»„ strip[]æ¥å­˜å‚¨æ‰€æœ‰åƒè¿™æ ·çš„ç‚¹</p>
</blockquote>
<p>5.æ¥ä¸‹æ¥ä»¥yä¸ºåŸºå‡†ï¼Œå°†strip[]æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿™ä¸€æ­¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(nlogn)$ ï¼Œä¹Ÿå¯ä»¥è¢«ä¼˜åŒ–åˆ°O(n)çš„æ—¶é—´å¤æ‚åº¦é€šè¿‡é€’å½’æ’åºå’Œåˆå¹¶
6.åœ¨æ•°ç»„strip[]ä¸­æ‰¾æœ€å°çš„è·ç¦»ï¼Œè¿™çœ‹ä¸Šå»éœ€è¦On^2çš„æ—¶é—´å¤æ‚åº¦ï¼Œå®é™…ä¸Šåªéœ€è¦O(n)ï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨å‡ ä½•è¯æ˜strip[]ä¸­çš„æ¯ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦æ£€æŸ¥æœ€å¤š7ä¸ªç‚¹ï¼ˆåœ¨å¯¹yè¿›è¡Œæ’åºä¹‹åï¼‰
7.æœ€åæˆ‘ä»¬åªéœ€è¿”å›æœ€å°çš„då’Œé€šè¿‡ä¸Šé¢6ä¸ªæ­¥éª¤è®¡ç®—å‡ºçš„è·ç¦»</p>
</blockquote>
<blockquote>
<p>ä»£ç ä¸­çš„tmpæ•°ç»„åŒé¢˜è§£çš„strip[]æ•°ç»„</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">200010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">double</span> x,y;
</span></span><span style="display:flex;"><span>}P[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> tmp[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">cmp</span>(<span style="color:#069;font-weight:bold">const</span> node <span style="color:#555">&amp;</span>a, <span style="color:#069;font-weight:bold">const</span> node <span style="color:#555">&amp;</span>b)<span style="color:#09f;font-style:italic">//æŒ‰xè¿›è¡Œæ’åºï¼Œå¦‚æœxç›¸ç­‰ï¼Œåˆ™è¾ƒå°çš„yæ’åœ¨å‰é¢
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(a.x <span style="color:#555">==</span> b.x)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> a.y <span style="color:#555">&lt;</span> b.y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">return</span> a.x <span style="color:#555">&lt;</span> b.x;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">cmp2</span>(<span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> <span style="color:#555">&amp;</span>a, <span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> <span style="color:#555">&amp;</span>b)<span style="color:#09f;font-style:italic">//æŒ‰yè¿›è¡Œæ’åº
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> P[a].y <span style="color:#555">&lt;</span> P[b].y;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> <span style="color:#c0f">distance</span>(<span style="color:#078;font-weight:bold">int</span> i, <span style="color:#078;font-weight:bold">int</span> j)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> sqrt((P[i].x<span style="color:#555">-</span>P[j].x)<span style="color:#555">*</span>(P[i].x<span style="color:#555">-</span>P[j].x)<span style="color:#555">+</span>(P[i].y<span style="color:#555">-</span>P[j].y)<span style="color:#555">*</span>(P[i].y<span style="color:#555">-</span>P[j].y));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> <span style="color:#c0f">dac</span>(<span style="color:#078;font-weight:bold">int</span> l, <span style="color:#078;font-weight:bold">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">double</span> dist <span style="color:#555">=</span> <span style="color:#f60">1.79769e+308</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(l <span style="color:#555">==</span> r) <span style="color:#069;font-weight:bold">return</span> dist;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(l<span style="color:#555">+</span><span style="color:#f60">1</span> <span style="color:#555">==</span> r) <span style="color:#069;font-weight:bold">return</span> distance(l,r);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> mid <span style="color:#555">=</span> l <span style="color:#555">+</span> r <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//åˆ†æ²»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">double</span> dl <span style="color:#555">=</span> dac(l, mid);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">double</span> dr <span style="color:#555">=</span> dac(mid<span style="color:#555">+</span><span style="color:#f60">1</span>, r);
</span></span><span style="display:flex;"><span>    dist <span style="color:#555">=</span> min(dl,dr);<span style="color:#09f;font-style:italic">//è·å–å·¦å³ä¸¤è¾¹æœ€çŸ­çš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å†æ¥è€ƒè™‘ [mid-d,mid+d]ä¹‹é—´éƒ¨åˆ†çš„è·ç¦»æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//åˆå¹¶
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> l; i <span style="color:#555">&lt;=</span> r; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(fabs(P[i].x<span style="color:#555">-</span>P[mid].x) <span style="color:#555">&lt;=</span> dist) tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span> i; <span style="color:#09f;font-style:italic">//å¦‚æœi.xåœ¨[mid-d,mid+d]çš„èŒƒå›´å†…çš„è¯ï¼Œåˆ™åŠ å…¥åˆ°å½’å¹¶æ•°ç»„å†…
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    sort(tmp,tmp<span style="color:#555">+</span>k,cmp2);<span style="color:#09f;font-style:italic">//ç„¶ååœ¨tmpæ•°ç»„ä¸­ä»¥yè¿›è¡Œæ’åº
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//è¿›è¡Œè¿™ä¸€æ­¥çš„ç›®çš„æ˜¯ä¸ºäº†ç¼©å°åœ¨tmpæ•°ç»„ä¸­æŸ¥æ‰¾æœ€å°çš„è·ç¦»çš„ç‚¹çš„æ—¶é—´å¤æ‚åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//åœ¨tmpæ•°ç»„ä¸­å¯¹yè¿›è¡Œæ’åºåï¼Œå†è¿›è¡Œæœ€å°çš„è·ç¦»æŸ¥æ‰¾å®é™…ä¸Šå¯ä»¥é€šè¿‡å‡ ä½•è¯æ˜æœ€å¤šä¹Ÿå°±åªéœ€è¦æ‰¾7ä¸ªç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>;i <span style="color:#555">&lt;</span> k; i <span style="color:#555">++</span>)<span style="color:#09f;font-style:italic">//å¯»æ‰¾tmp[]ä¸­ä¹Ÿå°±æ˜¯ç‚¹ä½äº[mid-d]~[mid+d]çš„èŒƒå›´å†…çš„ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;</span> k <span style="color:#555">&amp;&amp;</span> P[tmp[j]].y<span style="color:#555">-</span>P[tmp[i]].y<span style="color:#555">&lt;</span>dist; j <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//ä¹Ÿåˆ¤æ–­ä¸€ä¸‹i.yæ˜¯å¦åœ¨[mid-d,mid+d]çš„èŒƒå›´å†…
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            dist <span style="color:#555">=</span> min(dist,distance(tmp[i],tmp[j])); <span style="color:#09f;font-style:italic">//è¿™é‡Œè·å–çš„å°±æ˜¯å¦‚æœåœ¨[mid-d,mid+d]çš„æƒ…å†µä¸‹çš„æœ€å°è·ç¦»çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> dist;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lf%lf&#34;</span>,<span style="color:#555">&amp;</span>P[i].x,<span style="color:#555">&amp;</span>P[i].y);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    sort(P,P<span style="color:#555">+</span>n,cmp);<span style="color:#09f;font-style:italic">//æŒ‰xè¿›è¡Œæ’åºï¼Œå¦‚æœxç›¸ç­‰ï¼Œåˆ™è¾ƒå°çš„yæ’åœ¨å‰é¢
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    printf(<span style="color:#c30">&#34;%.4lf</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,dac(<span style="color:#f60">1</span>,n));
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1911-l-å›½çš„æˆ˜æ–—ä¹‹æ’å…µå¸ƒé˜µ">P1911 L å›½çš„æˆ˜æ–—ä¹‹æ’å…µå¸ƒé˜µ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1911">https://www.luogu.com.cn/problem/P1911</a></p>
</blockquote>
<blockquote>
<blockquote>
<p>ç±»ä¼¼é¢˜ï¼šP1228 åœ°æ¯¯å¡«è¡¥é—®é¢˜
<a href="https://www.luogu.com.cn/problem/P1228">https://www.luogu.com.cn/problem/P1228</a></p>
</blockquote>
<p>åœ°æ¯¯å¡«è¡¥é—®é¢˜é‡‡ç”¨åˆ†æ²»ç®—æ³•ï¼š
è¡Œæ•°ä¸Šå¯¹åŠtï¼Œåˆ—æ•°ä¸Šä¹Ÿå¯¹åŠtï¼Œ
åŸé—®é¢˜ä¸­æœ‰1ä¸ªç‰¹æ®Šæ–¹æ ¼ï¼Œåˆ™åˆ†å‡ºæ¥åçš„æ–°é—®é¢˜ä¹Ÿè¦æœ‰1ä¸ªç‰¹æ®Šæ–¹æ ¼
<code>ç‰¹æ®Šæ–¹æ ¼çš„é€€å‡ºæ–¹å¼ï¼šå½“k=0æ—¶</code></p>
<blockquote>
<p>åœ°æ¯¯å¡«è¡¥çš„æ•°æ®ç»“æ„çš„è®¾è®¡ï¼š
1.æ£‹ç›˜ï¼šäºŒç»´æ•°ç»„<code>board[size][size]</code>
2.å­æ£‹ç›˜ï¼Œå…¶ä¸­çš„å­æ£‹ç›˜ç”±æ£‹ç›˜å·¦ä¸Šè§’çš„ä¸‹æ ‡å’Œæ£‹ç›˜å¤§å°sè¡¨ç¤º
3.ç‰¹æ®Šæ–¹æ ¼ï¼Œ<code>board[dr][dc]</code>è¡¨ç¤ºç‰¹æ®Šæ–¹æ ¼ï¼Œdrå’Œdcæ—¶è¯¥ç‰¹æ®Šæ–¹æ ¼åœ¨äºŒç»´æ•°ç»„boardä¸­çš„ä¸‹æ ‡
4.Lå‹åœ°æ¯¯ï¼Œä¸€ä¸ª$2^k*2^k$çš„æ£‹ç›˜ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šæ–¹æ ¼ï¼Œæ‰€ä»¥ï¼Œç”¨åˆ°Lå‹åœ°æ¯¯çš„ä¸ªæ•°ä¸º$(4^k-1)/3$ï¼Œå°†æ‰€æœ‰åœ°æ¯¯ä»1å¼€å§‹è¿ç»­ç¼–å·ï¼Œç”¨ä¸€ä¸ªå…¨å±€å˜é‡tè¡¨ç¤º</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dac</span>(<span style="color:#078;font-weight:bold">int</span> tr,<span style="color:#078;font-weight:bold">int</span> tc,<span style="color:#078;font-weight:bold">int</span> dr,<span style="color:#078;font-weight:bold">int</span> dc,<span style="color:#078;font-weight:bold">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="color:#09f;font-style:italic">//tr,tcæ˜¯æ£‹ç›˜å·¦ä¸Šè§’çš„ä¸‹æ ‡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#09f;font-style:italic">//dr,dcæ˜¯ç‰¹æ®Šæ–¹æ ¼çš„ä¸‹æ ‡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#09f;font-style:italic">//sizeæ˜¯æ£‹ç›˜çš„å¤§å°ï¼Œtåˆå§‹åŒ–ä¸º0
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#069;font-weight:bold">if</span>(size <span style="color:#555">==</span> <span style="color:#f60">1</span>) <span style="color:#069;font-weight:bold">return</span>; <span style="color:#09f;font-style:italic">//æ˜¯1x1çš„æ£‹ç›˜ï¼Œé‚£å°±ä¸è¦å¡«äº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> t<span style="color:#555">++</span>;<span style="color:#09f;font-style:italic">//åœ°æ¯¯++;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> s <span style="color:#555">=</span> size<span style="color:#555">/</span><span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span> <span style="color:#09f;font-style:italic">//è¦†ç›–å·¦ä¸Šè§’å­æ£‹ç›˜
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#069;font-weight:bold">if</span>(dr <span style="color:#555">&lt;</span> tr <span style="color:#555">+</span> s<span style="color:#555">&amp;&amp;</span>dc <span style="color:#555">&lt;</span> tc <span style="color:#555">+</span> s) <span style="color:#09f;font-style:italic">//ç‰¹æ®Šæ–¹å—åœ¨å·¦ä¸Šè§’å­æ£‹ç›˜ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>		dac(tr,tc,dr,dc,s); <span style="color:#09f;font-style:italic">//é€’å½’å¤„ç†å·¦ä¸Šè§’å­æ£‹ç›˜ (å› ä¸ºå·¦ä¸Šè§’å’ŒåŸé—®é¢˜ä¸€æ ·)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#069;font-weight:bold">else</span><span style="color:#09f;font-style:italic">//ç”¨tå·Lå‹éª¨ç‰Œè¦†ç›–å³ä¸‹è§’ï¼Œå†é€’å½’å¤„ç†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>     board[tr<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][tc<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t; <span style="color:#09f;font-style:italic">//è¿™æ˜¯ä¸ºäº†è®©å…¶å˜å¾—å’ŒåŸé—®é¢˜ä¸€æ ·,é‚£å°±åœ¨å­å—çš„å³ä¸‹è§’åŠ ä¸€ä¸ªç‰¹æ®Šæ–¹å—ï¼Œä½¿å…¶å˜å¾—å’ŒåŸé—®é¢˜ä¸€æ ·ï¼Œå†å¼€å§‹è¿›è¡Œé€’å½’æ±‚è§£
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> 	dac(tr,tc,tr<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,tc<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">if</span>(dr <span style="color:#555">&lt;</span> tr<span style="color:#555">+</span>s <span style="color:#555">&amp;&amp;</span> dc <span style="color:#555">&gt;=</span> tc<span style="color:#555">+</span>s) <span style="color:#09f;font-style:italic">//ç‰¹æ®Šæ–¹å—åœ¨å³ä¸Šè§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>     dac(tr,tc<span style="color:#555">+</span>s,dr,dc,s); <span style="color:#09f;font-style:italic">//é‚£å°±é€’å½’å¤„ç†å³ä¸Šè§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>     board[tr<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][tc<span style="color:#555">+</span>s]<span style="color:#555">=</span>t; <span style="color:#09f;font-style:italic">//åœ¨å³ä¸Šè§’å­å—çš„å·¦ä¸‹è§’åŠ ä¸ªç‰¹æ®Šæ–¹å—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> 	dac(tr,tc<span style="color:#555">+</span>s,tr<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,tc<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">if</span>(dr <span style="color:#555">&gt;=</span> tr<span style="color:#555">+</span>s <span style="color:#555">&amp;&amp;</span> dc <span style="color:#555">&lt;</span> tc<span style="color:#555">+</span>s) <span style="color:#09f;font-style:italic">//å·¦ä¸‹è§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>     dac(tr<span style="color:#555">+</span>s,tc,dr,dc,s);
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>     board[tr<span style="color:#555">+</span>s][tc<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t; <span style="color:#09f;font-style:italic">//å·¦ä¸‹è§’çš„å³ä¸Šè§’åŠ ä¸ªç‰¹æ®Šæ–¹å—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> 	dac(tr<span style="color:#555">+</span>s,tc,tr<span style="color:#555">+</span>s,tc<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">if</span>(dr <span style="color:#555">&gt;=</span> tr<span style="color:#555">+</span>s <span style="color:#555">&amp;&amp;</span> dc <span style="color:#555">&gt;=</span> tc<span style="color:#555">+</span>s)
</span></span><span style="display:flex;"><span>     dac(tr<span style="color:#555">+</span>s,tc<span style="color:#555">+</span>s,dr,dc,s);
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>     board[tr<span style="color:#555">+</span>s][tc<span style="color:#555">+</span>s] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span> 	dac(tr<span style="color:#555">+</span>s,tc<span style="color:#555">+</span>s,tr<span style="color:#555">+</span>s,tc<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>è®¾$T(k)$æ˜¯è¦†ç›–ä¸€ä¸ª$2^k*2^k$æ£‹ç›˜æ‰€éœ€æ—¶é—´
$$ T(k)=\left{
\begin{aligned}
O(1)     k = 1 \
4T(k-1) + O(1)  k &gt; 1
\end{aligned}
\right.$$ ç”±æ­¤å¯çŸ¥$T(k) = O(4^k)$ ï¼Œç”±äºè¦†ç›–ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ­£æ–¹å½¢ï¼Œæ‰€éœ€è¦çš„Lå‹å—ä»¶çš„ä¸ªæ•°ä¸º$(4^k-1)/3$ æ•…æ­¤è¯¥ç®—æ³•å¯ä»¥è¯´æ˜¯åœ¨ä¸€ä¸ªæ¸è¿›æ„ä¹‰ä¸‹çš„æœ€ä¼˜ç®—æ³•</p>
<blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1050</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dac</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> y, <span style="color:#078;font-weight:bold">int</span> xt, <span style="color:#078;font-weight:bold">int</span> yt, <span style="color:#078;font-weight:bold">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">if</span>(size <span style="color:#555">==</span> <span style="color:#f60">1</span>) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span> <span style="color:#078;font-weight:bold">int</span> s <span style="color:#555">=</span> size<span style="color:#555">/</span><span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span> <span style="color:#09f;font-style:italic">//é‡‡ç”¨åˆ†æ²»çš„æ–¹æ³•ï¼Œåªéœ€è¦è®©æœ€ä¸­é—´æ­£æ–¹å½¢æ‘†æ”¾ä¸€ä¸ªLå‹åœ°æ¯¯ï¼Œå°±èƒ½æ»¡è¶³å››ä¸ªåŒºåŸŸéƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šæ–¹å—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> <span style="color:#069;font-weight:bold">if</span>(xt <span style="color:#555">&lt;=</span> x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> yt <span style="color:#555">&lt;=</span> y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>) <span style="color:#09f;font-style:italic">//å¦‚æœåˆå§‹ç‰¹æ®Šæ–¹å—åœ¨å·¦ä¸Šè§’çš„è¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> {
</span></span><span style="display:flex;"><span>     printf(<span style="color:#c30">&#34;%d %d 1</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s);
</span></span><span style="display:flex;"><span>     dac(x,y,xt,yt,s);
</span></span><span style="display:flex;"><span>     dac(x,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(xt <span style="color:#555">&lt;=</span> x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> yt <span style="color:#555">&gt;</span> y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>)<span style="color:#09f;font-style:italic">//å³ä¸Šè§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> {
</span></span><span style="display:flex;"><span>     printf(<span style="color:#c30">&#34;%d %d 2</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>     dac(x,y,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>     dac(x,y<span style="color:#555">+</span>s,xt,yt,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(xt <span style="color:#555">&gt;</span> x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> yt <span style="color:#555">&lt;=</span> y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>) <span style="color:#09f;font-style:italic">//å·¦ä¸‹è§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> {
</span></span><span style="display:flex;"><span>     printf(<span style="color:#c30">&#34;%d %d 3</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s);
</span></span><span style="display:flex;"><span>     dac(x,y,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>     dac(x,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y,xt,yt,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">else</span> <span style="color:#09f;font-style:italic">//å³ä¸‹è§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span> {
</span></span><span style="display:flex;"><span>     printf(<span style="color:#c30">&#34;%d %d 4</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>     dac(x,y,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>     dac(x,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>     dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,xt,yt,s);
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="color:#078;font-weight:bold">int</span> x, y;
</span></span><span style="display:flex;"><span> scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span> <span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> pow(<span style="color:#f60">2</span>,n);
</span></span><span style="display:flex;"><span> scanf(<span style="color:#c30">&#34;%d%d&#34;</span>,<span style="color:#555">&amp;</span>x,<span style="color:#555">&amp;</span>y);
</span></span><span style="display:flex;"><span> dac(<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,x,y,len);
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<p>è”æƒ³åˆ°åˆ†æ²»ï¼š
$2^k*2^k$çš„æ­£æ–¹å½¢å†…ï¼Œåªè¦æœ‰ä¸€ä¸ªç‚¹ä¸è¦†ç›–ï¼Œå°±æœ‰åŠæ³•æŠŠå…¶ä»–åº—è¦†ç›–ã€‚
å¯ä»¥å°†è¿™ä¸ªå¤§çš„æ­£æ–¹å½¢åˆ†å‰²æˆå››ä¸ª$2^{\frac{k}{2}}*2^{\frac{k}{2}}$çš„å°æ­£æ–¹å½¢æ¥è¿›è¡Œæ±‚è§£</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1050</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> g[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dac</span>(<span style="color:#078;font-weight:bold">int</span> x,<span style="color:#078;font-weight:bold">int</span> y, <span style="color:#078;font-weight:bold">int</span> xt, <span style="color:#078;font-weight:bold">int</span> yt, <span style="color:#078;font-weight:bold">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(size <span style="color:#555">==</span> <span style="color:#f60">1</span>) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> s <span style="color:#555">=</span> size<span style="color:#555">/</span><span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>    t<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(xt <span style="color:#555">&lt;=</span> x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> yt <span style="color:#555">&lt;=</span> y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>) <span style="color:#09f;font-style:italic">//å·¦ä¸Šè§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s][y<span style="color:#555">+</span>s] <span style="color:#555">=</span> t;  <span style="color:#09f;font-style:italic">//ç¬¬ä¸€ä¸ªæ–¹å‘
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        g[x<span style="color:#555">+</span>s][y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][y<span style="color:#555">+</span>s] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        dac(x,y,xt,yt,s);
</span></span><span style="display:flex;"><span>        dac(x,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(xt <span style="color:#555">&lt;=</span> x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> yt <span style="color:#555">&gt;</span> y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>) <span style="color:#09f;font-style:italic">//å³ä¸Šè§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s][y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t; <span style="color:#09f;font-style:italic">//ç¬¬äºŒä¸ªæ–¹å‘
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        g[x<span style="color:#555">+</span>s][y<span style="color:#555">+</span>s] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        dac(x,y,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>        dac(x,y<span style="color:#555">+</span>s,xt,yt,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(xt <span style="color:#555">&gt;</span> x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span> <span style="color:#555">&amp;&amp;</span> yt <span style="color:#555">&lt;=</span> y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>) <span style="color:#09f;font-style:italic">//å·¦ä¸‹è§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][y<span style="color:#555">+</span>s] <span style="color:#555">=</span> t; <span style="color:#09f;font-style:italic">//ç¬¬ä¸‰ä¸ªæ–¹å‘
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        g[x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s][y<span style="color:#555">+</span>s] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        dac(x,y,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>        dac(x,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y,xt,yt,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> <span style="color:#09f;font-style:italic">//å³ä¸‹è§’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t; <span style="color:#09f;font-style:italic">//ç¬¬å››ä¸ªæ–¹å‘
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        g[x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>][y<span style="color:#555">+</span>s] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        g[x<span style="color:#555">+</span>s][y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> t;
</span></span><span style="display:flex;"><span>        dac(x,y,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>        dac(x,y<span style="color:#555">+</span>s,x<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,y<span style="color:#555">+</span>s,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y,x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s<span style="color:#555">-</span><span style="color:#f60">1</span>,s);
</span></span><span style="display:flex;"><span>        dac(x<span style="color:#555">+</span>s,y<span style="color:#555">+</span>s,xt,yt,s);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x,y;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d%d&#34;</span>, <span style="color:#555">&amp;</span>n, <span style="color:#555">&amp;</span>x, <span style="color:#555">&amp;</span>y);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> pow(<span style="color:#f60">2</span>,n);
</span></span><span style="display:flex;"><span>    dac(<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,x,y,len);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> len; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> len; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#555">&lt;&lt;</span> g[i][j] <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å½“ç„¶ä¸Šé¢çš„ä»£ç åœ¨luoguä¸Šæ˜¯æ— æ³•é€šè¿‡çš„ï¼Œéœ€è¦æ”¹ä¸€ä¸‹å·¦ä¸Šå³ä¸Šå·¦ä¸‹å³ä¸‹çš„ç¼–å·æ‰è¡Œçš„ï¼Œä½†æ–¹æ³•æ‰æ˜¯æœ€é‡è¦çš„æ’’~~</p>
<p>//æš´åŠ›é‡æ–°ç¼–å·ï¼š</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> vis[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">8</span>]<span style="color:#555">=</span>{<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">8</span>]<span style="color:#555">=</span>{<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span>memset(vis,<span style="color:#366">false</span>,<span style="color:#069;font-weight:bold">sizeof</span> vis);
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> cnt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>;i <span style="color:#555">&lt;=</span> len; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> len; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>     <span style="color:#069;font-weight:bold">if</span>(vis[i][j] <span style="color:#555">||</span> g[i][j] <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>     vis[i][j] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>     <span style="color:#078;font-weight:bold">int</span> w <span style="color:#555">=</span> g[i][j];
</span></span><span style="display:flex;"><span>     g[i][j] <span style="color:#555">=</span> <span style="color:#555">++</span> cnt;
</span></span><span style="display:flex;"><span>     <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> p <span style="color:#555">=</span> <span style="color:#f60">0</span>; p <span style="color:#555">&lt;</span> <span style="color:#f60">8</span>;p<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>         <span style="color:#078;font-weight:bold">int</span> xx <span style="color:#555">=</span> i <span style="color:#555">+</span> dx[p];
</span></span><span style="display:flex;"><span>         <span style="color:#078;font-weight:bold">int</span> yy <span style="color:#555">=</span> j <span style="color:#555">+</span> dy[p];
</span></span><span style="display:flex;"><span>         <span style="color:#069;font-weight:bold">if</span>(g[xx][yy] <span style="color:#555">==</span> w <span style="color:#555">&amp;&amp;</span> vis[xx][yy] <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>         {
</span></span><span style="display:flex;"><span>             g[xx][yy] <span style="color:#555">=</span> cnt;
</span></span><span style="display:flex;"><span>             vis[xx][yy] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>         }
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<h4 id="p5094-usaco04open-moofest">â”P5094 [USACO04OPEN]MooFest</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P5094">https://www.luogu.com.cn/problem/P5094</a>
CDQåˆ†æ²»å…¸é¢˜ğŸ‘Œ</p>
</blockquote>
<blockquote>
<p>æ ‘çŠ¶æ•°ç»„å¯ä»¥æ›´è½»æ¾åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<p>æœ‰å…³æ ‘çŠ¶æ•°ç»„çš„è§£å†³æ–¹æ³•ï¼šhttps://blog.csdn.net/weixin_30572613/article/details/99887389</p>
</blockquote>
<h4 id="p2717-å¯’å‡ä½œä¸š-cdqåˆ†æ²»">P2717 å¯’å‡ä½œä¸š[CDQåˆ†æ²»]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2717">https://www.luogu.com.cn/problem/P2717</a></p>
</blockquote>
<blockquote>
<p><em>//çœ‹åˆ°å¹³å‡å€¼æ— è„‘æ‰€æœ‰ $a_iâ†a_iâˆ’k$</em>
ä¾‹å¦‚ï¼šæ¡ˆä¾‹ï¼šï¼ˆå¹³å‡å€¼ï¼š2ï¼‰ æ ·ä¾‹ï¼š1,2,3</p>
<p>å‡å»å¹³å‡å€¼åï¼š -1, 0, 1; ã€ä¹Ÿå°±æ˜¯CDQåˆ†æ²»ä¸­ï¼Œæ¯ä¸ªæ•°å¯¹ç­”æ¡ˆçš„è´¡çŒ®ã€‘</p>
<p>æ•…æ­¤è¯¥é¢˜å¯ä»¥è½¬åŒ–ä¸ºï¼Œæ±‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ $1&lt;=i&lt;=j&lt;=n$ æ»¡è¶³$\sum_{i=i}^{j=j}a_i &gt;= 0$çš„åºåˆ—çš„ä¸ªæ•°
è½¬åŒ–ä¸ºå‰ç¼€å’Œæ•°ç»„ -1ï¼Œ-1ï¼Œ0ï¼›
ä»è€Œè½¬åŒ–æˆäº†åªéœ€è¦$xâ‰¤y ~~~ä¸” a_xâ‰¤a_y$ å³å¯ ï¼ˆä¹Ÿå°±æ˜¯$a_y-a_xâ‰¥0$ $xâ‰¤y$ çš„æ»¡è¶³è¦æ±‚çš„$(x,y)$åºåˆ—çš„ä¸ªæ•°ã€‚</p>
<p>å› ä¸ºæ±‚éƒ¨åˆ†åŒºé—´å’Œä¹Ÿå°±æ˜¯å‰åä¸¤ä¸ªç«¯ç‚¹çš„å‰ç¼€å’Œç›¸å‡
//!å¯å‘ï¼šå¦‚æœç¡®å®šè‡ªå·±çš„æ€è·¯æ²¡æœ‰é”™è¯¯åï¼Œè°ƒè¯•ç¨‹åºå¯ä»¥ä»è¿™äº›å‚æ•°å¼€å§‹è¿›è¡Œè°ƒè¯•ï¼Œæ ¹æ®è·å–çš„ç»“æœå¯¹å‚æ•°è¿›è¡Œå¾®è°ƒã€‚CDQå®¹æ˜“å‡ºç»†èŠ‚ä¸Šçš„é”™è¯¯</p>
<p><strong>è¿˜æ˜¯å¥½å¥½æŒæ¡å¥½æ ‘çŠ¶æ•°ç»„ï¼Œåˆ©ç”¨å¥½æ ‘çŠ¶æ•°ç»„æ²¡é‚£ä¹ˆå®¹æ˜“å‡ºç°é‚£ç§ç»†èŠ‚é”™è¯¯</strong></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,k;
</span></span><span style="display:flex;"><span>LL a[N];
</span></span><span style="display:flex;"><span>LL tmp[N];
</span></span><span style="display:flex;"><span>LL ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//çœ‹åˆ°å¹³å‡å€¼æ— è„‘æ‰€æœ‰ $a_iâ†a_iâˆ’k$
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å®é™…ä¸Šå°±æ˜¯é€šè¿‡cdqæ±‚é¡ºåºå¯¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">cdq</span>(<span style="color:#078;font-weight:bold">int</span> l, <span style="color:#078;font-weight:bold">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(l <span style="color:#555">&gt;=</span> r) <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> mid <span style="color:#555">=</span> l <span style="color:#555">+</span> r <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//åˆ†æ²»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    cdq(l,mid);
</span></span><span style="display:flex;"><span>    cdq(mid<span style="color:#555">+</span><span style="color:#f60">1</span>,r);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//æ±‚è·¨åŒºé—´çš„é¡ºåºå¯¹ä¸ªæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> l;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> mid<span style="color:#555">+</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> l;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(j <span style="color:#555">&lt;=</span> r)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">while</span>(i <span style="color:#555">&lt;=</span> mid <span style="color:#555">&amp;&amp;</span> a[i] <span style="color:#555">&lt;=</span> a[j])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span> a[i<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span> a[j<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">+=</span> i <span style="color:#555">-</span> l;  <span style="color:#09f;font-style:italic">//å®é™…ä¸Šè¿™é‡Œè®°å½•çš„å°±æ˜¯é¡ºåºå’Œçš„æ•°ç›® (i-1) - (l-1) = i - l
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(i <span style="color:#555">&lt;=</span> mid) tmp[k<span style="color:#555">++</span>] <span style="color:#555">=</span> a[i<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//åˆå¹¶
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> l; i <span style="color:#555">&lt;=</span> r; i <span style="color:#555">++</span>) a[i] <span style="color:#555">=</span> tmp[i];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d&#34;</span>,<span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>k);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>;i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lld&#34;</span>,<span style="color:#555">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>        a[i] <span style="color:#555">-=</span> k; <span style="color:#09f;font-style:italic">//å…ˆéƒ½å‡å»å¹³å‡å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        a[i] <span style="color:#555">=</span> a[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">+</span> a[i]; <span style="color:#09f;font-style:italic">//å†è½¬åŒ–ä¸ºå‰ç¼€å’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//æ³¨æ„ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    cdq(<span style="color:#f60">0</span>,n); <span style="color:#09f;font-style:italic">// æ³¨æ„è¿™é‡Œçš„l~ræ˜¯åœ¨0~nä¹‹é—´ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//è¿™é‡Œåº”è¯¥è¦åŒ…å«0
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//!å¯å‘ï¼šå¦‚æœç¡®å®šè‡ªå·±çš„æ€è·¯æ²¡æœ‰é”™è¯¯åï¼Œè°ƒè¯•ç¨‹åºå¯ä»¥ä»è¿™äº›å‚æ•°å¼€å§‹è¿›è¡Œè°ƒè¯•ï¼Œæ ¹æ®è·å–çš„ç»“æœå¯¹å‚æ•°è¿›è¡Œå¾®è°ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//é‚£ä¹ˆæ±‚å¾—å°±æ˜¯åœ¨ [0,n]èŒƒå›´å†… x&lt;yx&lt;y ä¸”ax â‰¤ayçš„æ•°å¯¹ä¸ªæ•°ï¼Œå³äºŒç»´ååºã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>,ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ20æ—¥">2021å¹´7æœˆ20æ—¥</h3>
<blockquote>
<p>æ•°è®ºåŸºç¡€</p>
</blockquote>
<h4 id="çº¦æ•°">çº¦æ•°</h4>
<blockquote>
<p>è¯¦è§æˆ‘çš„ç®—æ³•ç¬”è®°/æ•°è®º/çº¦æ•° ç« èŠ‚</p>
</blockquote>
<h4 id="p2424-çº¦æ•°å’Œ">P2424 çº¦æ•°å’Œ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2424">https://www.luogu.com.cn/problem/P2424</a></p>
</blockquote>
<blockquote>
<p>è¿ç”¨åˆ°æ•´é™¤åˆ†å—çš„æ–¹æ³•ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>LL <span style="color:#c0f">sum</span>(LL n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    LL s <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">&lt;=</span> <span style="color:#f60">1</span>) <span style="color:#069;font-weight:bold">return</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(LL l <span style="color:#555">=</span> <span style="color:#f60">1</span>,r; l <span style="color:#555">&lt;=</span> n; l <span style="color:#555">=</span> r <span style="color:#555">+</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        r <span style="color:#555">=</span> n<span style="color:#555">/</span>(n<span style="color:#555">/</span>l);
</span></span><span style="display:flex;"><span>        s  <span style="color:#555">+=</span> (r <span style="color:#555">-</span> l <span style="color:#555">+</span> <span style="color:#f60">1</span>) <span style="color:#555">*</span> (n<span style="color:#555">/</span>l) <span style="color:#555">*</span> (l<span style="color:#555">+</span>r) <span style="color:#555">/</span><span style="color:#f60">2</span>; <span style="color:#09f;font-style:italic">// n(a1+an)/2
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ğŸ‘†åˆ©ç”¨æ•´é™¤åˆ†å—æ±‚å‡ºçš„æ˜¯[1,n]çš„æ‰€æœ‰çº¦æ•°ä¹‹å’Œã€‚
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3811-æ¨¡æ¿-ä¹˜æ³•é€†å…ƒ">P3811 ã€æ¨¡æ¿ã€‘ä¹˜æ³•é€†å…ƒ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3811">https://www.luogu.com.cn/problem/P3811</a></p>
</blockquote>
<blockquote>
<p>æ±‚ä¹˜æ³•é€†å…ƒæœ‰è®¸å¤šç§æ–¹å¼ï¼›
1.ä¾æ®æ‹“å±•çš„æ¬§å‡ é‡Œå¾—ç®—æ³•è¿›è¡Œæ±‚è§£
2.è´¹é©¬å°å®šç†+å¿«é€Ÿå¹‚æ±‚å–ã€‚</p>
<p>ä½†ä¸Šé¢ä¸¤ç§æ–¹å¼åªé€‚åˆå¿«é€Ÿæ±‚å–æŸä¸ªæ•°çš„é€†å…ƒ</p>
<p>å¦‚æœè¦æ±‚ä¸€æ®µåºåˆ—çš„é€†å…ƒçš„è¯ï¼Œé€Ÿåº¦è¾ƒæ…¢
æ•…æ­¤ï¼Œå¯é‡‡ç”¨é€†å…ƒçš„é€’æ¨å…¬å¼è¿›è¡Œæ±‚å–</p>
<p><code>inv[i] = (p - p / i) * inv[p % i] % p;</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>inv[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>printf(<span style="color:#c30">&#34;%d</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,inv[<span style="color:#f60">1</span>]);
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> n; <span style="color:#555">++</span> i)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> 	inv[i] <span style="color:#555">=</span> (LL)(p <span style="color:#555">-</span> p <span style="color:#555">/</span> i) <span style="color:#555">*</span> inv[p <span style="color:#555">%</span> i] <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%d</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,inv[i]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åˆ©ç”¨é€†å…ƒçš„é€’æ¨å…¬å¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åªéœ€è¦è·å¾—ç¬¬ä¸€ä¸ªé€†å…ƒï¼Œå³å¯å‡­æ­¤æ¨å‡ºä¹‹åçš„é€†å…ƒ
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1082-noip2012-æé«˜ç»„-åŒä½™æ–¹ç¨‹">P1082 [NOIP2012 æé«˜ç»„] åŒä½™æ–¹ç¨‹</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1082">https://www.luogu.com.cn/problem/P1082</a></p>
</blockquote>
<blockquote>
<p>åŒä½™æ–¹ç¨‹</p>
<p>$ax\equiv1(mod\ p)$
æ±‚xï¼Œè¿™ä¸ªxä¾¿å°±æ˜¯açš„ä¹˜æ³•é€†å…ƒ</p>
<p>å¯ä»¥é‡‡ç”¨æ‰©å±•çš„æ¬§å‡ é‡Œå¾—ç®—æ³•
æˆ–å¿«é€Ÿå¹‚+æ¬§æ‹‰å‡½æ•°+è´¹é©¬å°å®šç†</p>
<p>ä¸¤ç§æ–¹æ³•æ±‚è§£</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">Exgcd</span>(LL a, LL b, LL <span style="color:#555">&amp;</span>x, LL <span style="color:#555">&amp;</span>y) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span> (<span style="color:#555">!</span>b) x <span style="color:#555">=</span> <span style="color:#f60">1</span>, y <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> Exgcd(b, a <span style="color:#555">%</span> b, y, x), y <span style="color:#555">-=</span> a <span style="color:#555">/</span> b <span style="color:#555">*</span> x;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#555">=</span> (x<span style="color:#555">%</span>p<span style="color:#555">+</span>p)<span style="color:#555">%</span>p;<span style="color:#09f;font-style:italic">// å¾—å‡ºçš„xå°±æ˜¯å…¶é€†å…ƒ
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2261-cqoi2007-ä½™æ•°æ±‚å’Œ">P2261 [CQOI2007]ä½™æ•°æ±‚å’Œ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2261">https://www.luogu.com.cn/problem/P2261</a></p>
</blockquote>
<blockquote>
<p>åæ€ï¼š
é‡åˆ°è¿™ç§é¢˜ï¼Œä¸€å®šè¦åŠ¨ç¬”å»æ¨å¯¼è®¡ç®—ä¸€ä¸‹ï¼ï¼å¾—åˆ°ä¸€ä¸ªæ˜¾è‘—çš„å…¬å¼ï¼Œå¹¶ä¾æ®å…¬å¼å»è¿›è¡Œè®¡ç®—</p>
<p>å¯¹äºä½™æ•°æœ‰</p>
<p>$t = \lfloor\frac{b}{a}\rfloor$
$t<em>a + r = b$
$âˆ´r = b - t</em>a \rarr r=b-\lfloor\frac{b}{a}\rfloor*a$</p>
<p>$\sum_{i=1}^nk<del>mod</del>i = \sum_{i=1}^nk-\sum_{i=1}^n\lfloor\frac{k}{i}\rfloor<em>i\rarr n</em>k-\sum_{i=1}^ni*\lfloor\frac{k}{i}\rfloor$</p>
<p>å‘ç°ï¼š$\lfloor\frac{k}{i}\rfloor$ é‡‡ç”¨æ•´é™¤åˆ†å—çš„æ–¹æ³•ï¼Œå¤§çº¦æœ‰$\sqrt k$â€‹ç§å–å€¼ã€‚</p>
<p>é‡åˆ°ç›¸åŒçš„å–å€¼åªéœ€è¦ä½¿ç”¨ç­‰å·®æ•°åˆ—çš„æ±‚å’Œå…¬å¼è¿›è¡Œæ±‚è§£å³å¯ï¼</p>
</blockquote>
<p>|æ•´é™¤åˆ†å—å°†æ—¶é—´å¤æ‚åº¦é™ä½åˆ°$\sqrt n$|</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>LL ans <span style="color:#555">=</span> n<span style="color:#555">*</span>k;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(LL l <span style="color:#555">=</span> <span style="color:#f60">1</span>, r; l <span style="color:#555">&lt;=</span> n; l <span style="color:#555">=</span> r<span style="color:#555">+</span><span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//é€šè¿‡æ‰“è¡¨æšä¸¾å–„äºå‘ç°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">//å¦‚æœl &lt; k çš„è¯ï¼Œä¹Ÿæœ‰å¯èƒ½å­˜åœ¨ä¸€æ®µè¿ç»­çš„ç­‰å·®æ•°åˆ—æ±‚å’Œçš„åŒºé—´
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">//è¯¥è¿ç»­åŒºé—´çš„å³è¾¹ç•Œrä¾¿æ˜¯min(k/(k/l),n)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">if</span>(k <span style="color:#555">/</span> l <span style="color:#555">!=</span> <span style="color:#f60">0</span>) r <span style="color:#555">=</span> min(k<span style="color:#555">/</span>(k<span style="color:#555">/</span>l),n);
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//å¦‚æœl &gt;= kçš„è¯ï¼Œåé¢çš„å–å€¼éƒ½æ˜¯k,åªéœ€è¦å°†å…¶ç›´æ¥åŠ è¿›å»å³å¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">else</span> r <span style="color:#555">=</span> n; 
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">-=</span> (r <span style="color:#555">-</span> l <span style="color:#555">+</span> <span style="color:#f60">1</span>) <span style="color:#555">*</span> (k<span style="color:#555">/</span>l) <span style="color:#555">*</span> (l<span style="color:#555">+</span>r) <span style="color:#555">/</span><span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2312-noip2014-æé«˜ç»„-è§£æ–¹ç¨‹">P2312 [NOIP2014 æé«˜ç»„] è§£æ–¹ç¨‹</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2312">https://www.luogu.com.cn/problem/P2312</a></p>
</blockquote>
<blockquote>
<p>è¿™é¢˜æ²¡å•¥å¥½è¯´çš„ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šç»†èŠ‚éœ€è¦å»æ³¨æ„ä¸€ä¸‹ï¼</p>
<p>//ç„¶åä¸ºäº†é¿å…æœ€åæ±‚å‡ºä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„å€¼ï¼Œå¯ä»¥modä¸Šä¸€ä¸ªå¾ˆå¤§çš„è´¨æ•°1e9+7
è¿™æ ·å¯ä»¥é¿å…æœ€åç»“æœå‡ºç°å¥‡æ€ªçš„æ•°ã€‚</p>
<p>æš´åŠ›èƒ½è¿‡ã€‚ä½†è¦æ³¨æ„æ•°æ®é‡å¾ˆå¤§ï¼Œè®°å¾—å¿«è¯»</p>
<p>ä¸»è¦æ˜¯ç§¦ä¹éŸ¶ç®—æ³•çš„åº”ç”¨</p>
<p>åœ¨[1, m]çš„èŒƒå›´å†…ï¼Œæšä¸¾æ¯ä¸ªå€¼ï¼Œå¸¦å…¥bool checkå‡½æ•°ä¸­åˆ©ç”¨ç§¦ä¹éŸ¶ç®—æ³•è®¡ç®—è¯¥å€¼æ˜¯å¦ æ»¡è¶³æ¡ä»¶å³å¯</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ç§¦ä¹éŸ¶ç®—æ³•è®¡ç®—è¿™ä¸ªå¤šé¡¹å¼çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> p <span style="color:#555">=</span> <span style="color:#f60">1e9</span><span style="color:#555">+</span><span style="color:#f60">7</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">calc</span>(ll x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    sum<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(ll i<span style="color:#555">=</span>n;i<span style="color:#555">&gt;=</span><span style="color:#f60">1</span>;i<span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sum<span style="color:#555">=</span>((A[i]<span style="color:#555">+</span>sum)<span style="color:#555">*</span>x)<span style="color:#555">%</span>p;<span style="color:#09f;font-style:italic">//è¿™é‡Œä»æœ€é«˜ä½å¼€å§‹è¿›è¡Œç§¦ä¹éŸ¶è®¡ç®—
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">//è¿™é‡Œå¥—ç”¨ç§¦ä¹éŸ¶ç®—æ³•æ±‚å¤šé¡¹å¼çš„å€¼ æ³¨æ„A[0]å¹¶ä¸éœ€è¦ä¹˜xï¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    sum<span style="color:#555">=</span>(sum<span style="color:#555">+</span>A[<span style="color:#f60">0</span>])<span style="color:#555">%</span>p;<span style="color:#09f;font-style:italic">//è¿™é‡Œå†ç®—ä¸ŠA[0]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#555">!</span>sum;<span style="color:#09f;font-style:italic">//å¦‚æœç­”æ¡ˆæ˜¯0è¯´æ˜xå€¼ä¸ºè¯¥å¤šé¡¹å¼çš„è§£ï¼Œè¿”å›1(true) 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2054-ahoi2005-æ´—ç‰Œ">P2054 [AHOI2005]æ´—ç‰Œ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2054">https://www.luogu.com.cn/problem/P2054</a></p>
</blockquote>
<blockquote>
<p>åˆ†æé¢˜ç›®ï¼š</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>æ´—ç‰Œå¦‚ä¸‹ï¼š
</span></span><span style="display:flex;"><span>1  2  3  4
</span></span><span style="display:flex;"><span>3  1  4  2
</span></span><span style="display:flex;"><span>4  3  2  1
</span></span><span style="display:flex;"><span>2  4  1  3
</span></span><span style="display:flex;"><span>1  2  3  4
</span></span><span style="display:flex;"><span>//å¯ä»¥å‘ç°ï¼Œå¯¹åº”ä½ç½®çš„æ•°å­—ï¼Œæ¯æ¬¡æ´—ç‰Œéƒ½ä½ç½®çš„å˜åŒ–
</span></span><span style="display:flex;"><span>// 2*x%(n+1)
</span></span><span style="display:flex;"><span>//å¦‚ 1ï¼š1 ---&gt; 1ï¼š2 ---&gt; 1ï¼š4 ---&gt; 1ï¼š3
</span></span><span style="display:flex;"><span>//æ•…æ­¤ä¸‹mæ¬¡xçš„ä½ç½®æ˜¯ 2^m*x%(n+1)
</span></span><span style="display:flex;"><span>---&gt; æ•…æ­¤ æˆ‘ä»¬è¦æ±‚çš„å°±æ˜¯æ»¡è¶³ [çº¿æ€§åŒä½™æ–¹ç¨‹]
</span></span><span style="display:flex;"><span>2^m*x%(n+1)â‰¡ L (mod n+1) ä¸­çš„xçš„å€¼
</span></span></code></pre></td></tr></table>
</div>
</div><p>$ä¹Ÿå°±æ˜¯æ±‚è§£çº¿æ€§åŒä½™æ–¹ç¨‹2^m*x â‰¡ L ~(mod ~n+1) ä¸­çš„xçš„å€¼$</p>
<p>$x\equiv L*t^m\ (mod \ n+1)$â€‹</p>
<p>å…¶ä¸­tæ˜¯2åœ¨(mod n+1)æ„ä¹‰ä¸‹çš„é€†å…ƒï¼Œæ˜¾ç„¶$t = \frac{n}{2}+1$â€‹ [2*(n/2+1) = n+2,  n+2%n+1 = 1]</p>
<p>!! è¯¥é¢˜çš„æ•°æ®èŒƒå›´æå¤§&hellip;
ä¸€å®šè¦é‡‡ç”¨å¿«é€Ÿå¹‚ã€å¿«é€Ÿä¹˜ã€‚ã€‚å¦åˆ™ä¼šçˆ†long long</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ll;
</span></span><span style="display:flex;"><span>ll n, m, l;
</span></span><span style="display:flex;"><span>ll x, y;
</span></span><span style="display:flex;"><span>ll <span style="color:#c0f">mul</span>(ll a, ll b, ll mod) <span style="color:#09f;font-style:italic">//å¿«é€Ÿä¹˜ï¼Œæ•°æ®é‡å¤ªå¤§äº†10^10ï¼Œllç›´æ¥ç›¸ä¹˜ä¼šçˆ†ã€‚ä¸€å®šè¦å¿«é€Ÿä¹˜
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    ll r <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(b)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(b <span style="color:#555">&amp;</span> <span style="color:#f60">1</span>) r <span style="color:#555">=</span> (r<span style="color:#555">+</span>a) <span style="color:#555">%</span> mod;
</span></span><span style="display:flex;"><span>        a <span style="color:#555">=</span> (a <span style="color:#555">+</span> a) <span style="color:#555">%</span> mod;
</span></span><span style="display:flex;"><span>        b <span style="color:#555">&gt;&gt;=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> r <span style="color:#555">%</span> mod;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m <span style="color:#555">&gt;&gt;</span> l;
</span></span><span style="display:flex;"><span>    ll t <span style="color:#555">=</span> n<span style="color:#555">/</span><span style="color:#f60">2</span> <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    ll s <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¿«é€Ÿå¹‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">while</span>(m)<span style="color:#09f;font-style:italic">//æ±‚è§£ t^mæ¬¡æ–¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(m<span style="color:#555">&amp;</span><span style="color:#f60">1</span>) s <span style="color:#555">=</span> mul(s, t, n<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>        t <span style="color:#555">=</span> mul(t, t, n<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>        m <span style="color:#555">&gt;&gt;=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> mul(s, l, n<span style="color:#555">+</span><span style="color:#f60">1</span>); <span style="color:#09f;font-style:italic">//x = L*t^m (mod n+1)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ21æ—¥">2021å¹´7æœˆ21æ—¥</h3>
<h4 id="cf757b-bash-s-big-day">CF757B Bash&rsquo;s Big Day</h4>
<blockquote>
<p>è¿™é¢˜æ²¡å•¥å¥½è®²çš„ï¼Œå°±æ˜¯ä¸èƒ½ç²—å¿ƒå‘</p>
<p>è¦ææ¸…æ¥šé¢˜ç›®çš„è¦æ±‚ï¼Œä¸è¦æƒ³å½“ç„¶åšé¢˜ï¼ï¼ï¼</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a,ans,mx<span style="color:#555">=</span><span style="color:#f60">1</span>,n,vis[<span style="color:#f60">100100</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> v[<span style="color:#f60">100100</span>];
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ç”¨ä¸ªæ¡¶vis[N]å­˜çš„æ˜¯æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> r <span style="color:#555">=</span> <span style="color:#f60">100000</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>a);
</span></span><span style="display:flex;"><span>        vis[a]<span style="color:#555">++</span>;  <span style="color:#09f;font-style:italic">//æ•°æ®å¯èƒ½å‡ºç°å¤šæ¬¡ï¼Œæ•…++
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ç±»ä¼¼åŸƒç­›ï¼Œå°†å…¶å€æ•°ç­›èµ°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> r; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(v[i]) <span style="color:#069;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> vis[i];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">2</span>; j <span style="color:#555">&lt;=</span> r<span style="color:#555">/</span>i; j<span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">// j &lt;= r/i å› ä¸ºåªè¦æšä¸¾âˆšrä¸ªå°±å¥½äº†ï¼Œæ²¡å¿…è¦å…¨éƒ¨æšä¸¾
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            v[i<span style="color:#555">*</span>j]<span style="color:#555">=</span><span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">+=</span> vis[i<span style="color:#555">*</span>j]; <span style="color:#09f;font-style:italic">//å¦‚æœæ˜¯å…¶å€æ•°ï¼Œé‚£ä¹ˆçº¦æ•°å°±ä¸ä¼šæ˜¯1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        mx<span style="color:#555">=</span>max(mx,ans); <span style="color:#09f;font-style:italic">//ç»“æœåˆ¤æ–­çš„æ˜¯å“ªä¸ªçš„çº¦æ•°æœ€å¤š
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%d&#34;</span>,mx);<span style="color:#09f;font-style:italic">//å¦‚æœå…¨éƒ¨éƒ½æ˜¯è´¨æ•°çš„è¯ï¼Œé‚£ä¹ˆæœ€èµ·ç è¦å–å‡º1ä¸ªï¼Œæ‰€ä»¥mxé»˜è®¤ä¸º1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1835-ç´ æ•°å¯†åº¦">P1835 ç´ æ•°å¯†åº¦</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1835">https://www.luogu.com.cn/problem/P1835</a></p>
</blockquote>
<blockquote>
<p>ç”±äº $R^{31} â‰ˆ 2147483648$ &lt;&mdash;ä¸¤äº¿ä¸ªæ•°
æ˜¾ç„¶ï¼Œå¦‚æœç”¨çº¿æ€§ç­›ï¼Œæ—¶é—´å¤æ‚åº¦ä¸Šå¯èƒ½æ²¡å•¥é—®é¢˜ï¼Œä½†ç©ºé—´è‚¯å®šä¼šçˆ†</p>
<p>ä½†æ˜¯é¢˜ç›®åªè¦æ±‚  L~Rä¹‹é—´çš„ç´ æ•°ä¸ªæ•°ï¼ŒL~R &lt;= 10^6
æ˜¾ç„¶æ•°æ®èŒƒå›´å°å¾—å¤šã€‚</p>
<blockquote>
<p>å¯¹äº1<del>Rä¹‹é—´çš„æ‰€æœ‰æ•°
æˆ‘ä»¬éƒ½ä¸€å®šå¯ä»¥åœ¨$1-\sqrt R$â€‹ä¹‹é—´æ‰¾åˆ°å®ƒçš„ä¸€ä¸ªè´¨å› æ•°
æ•…æ­¤æˆ‘ä»¬åªéœ€è¦å…ˆæ‰“è¡¨å°†$1-\sqrt R$â€‹ä¹‹é—´çš„æ‰€æœ‰è´¨å› æ•°æ‰¾å‡ºæ¥
å¯çŸ¥å°±æ˜¯æ‰¾1</del>50000ä¹‹é—´çš„æ‰€æœ‰è´¨å› æ•°
ç„¶åä¾æ®è¿™äº›è´¨å› æ•°å»åˆ¤æ–­L~Rä¹‹é—´æ˜¯å¦ä¸ºè´¨æ•°</p>
</blockquote>
<blockquote>
<p>æ³¨æ„ä¸€äº›ç‰¹åˆ¤æƒ…å†µ</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#f60">1.</span><span style="color:#a00;background-color:#faa">ç­›å‡ºæ ¹å·</span>Rä¹‹é—´çš„æ‰€æœ‰è´¨æ•°
</span></span><span style="display:flex;"><span><span style="color:#f60">2.</span><span style="color:#a00;background-color:#faa">åœ¨</span>L<span style="color:#555">-</span>Rçš„èŒƒå›´å†…ç”¨å·²æ±‚å‡ºçš„è´¨æ•°ç­›å‡ºå…¶ä¸­çš„åˆæ•°(<span style="color:#a00;background-color:#faa">è‹¥</span>pä¸ºè´¨æ•°<span style="color:#a00;background-color:#faa">ï¼Œé‚£ä¹ˆ</span>p<span style="color:#555">*</span>iä¸€å®šä¸ä¸ºè´¨æ•°)<span style="color:#a00;background-color:#faa">ï¼Œå¹¶æ ‡è®°</span>
</span></span><span style="display:flex;"><span><span style="color:#555">!</span><span style="color:#f60">3.</span><span style="color:#a00;background-color:#faa">éå†</span>L<span style="color:#555">-</span>R<span style="color:#a00;background-color:#faa">ï¼Œæ²¡æœ‰è¢«æ ‡è®°çš„å…ƒç´ å°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„ç´ æ•°</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a00;background-color:#faa">ğŸ‘†æ³¨æ„ï¼šæˆ‘ä»¬åªéœ€è¦å­˜ä¸‹</span>L<span style="color:#555">~</span>Rä¹‹é—´çš„æ•°<span style="color:#a00;background-color:#faa">ï¼Œåªéœ€è¦çŸ¥é“å…¶æ˜¯å¦ä¸ºè´¨æ•°ï¼Œè€Œå…¶å…·ä½“æ˜¯å¤šå°‘æ— éœ€è€ƒè™‘</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a00;background-color:#faa">ä¸€å®šè¦ä»</span>L<span style="color:#555">~</span>Rå¼€å§‹<span style="color:#a00;background-color:#faa">ï¼Œä¸èƒ½æ˜¯</span><span style="color:#f60">1</span><span style="color:#555">~</span>R<span style="color:#a00;background-color:#faa">ï¼Œå› ä¸º</span><span style="color:#f60">2</span><span style="color:#a00;background-color:#faa">äº¿çš„æ•°æ®é‡å¯èƒ½ä¼šçˆ†</span>st[N]<span style="color:#a00;background-color:#faa">æ•°ç»„ï¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa">ğŸ”°ï¼šå¯å‘ï¼šä¸€å®šè¦å…ˆè®¡ç®—ä¸€ä¸‹ç©ºé—´ï¼Œå¹¶è€ƒè™‘å­˜å‚¨èŒƒå›´ï¼Œå¦‚æœå¯èƒ½å‡ºç°çˆ†å­˜å‚¨èŒƒå›´çš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œç¼©å°åŒºé—´å¤„ç†ã€‚ç„¶åè¦çµæ´»ä½¿ç”¨æ¨¡æ¿ï¼Œè¦æ­£ç¡®ç†è§£æ•°å­¦æ¨å¯¼è¿‡ç¨‹å’Œå«ä¹‰ä»¥åŠæ—¶é—´</span><span style="color:#555">|</span><span style="color:#a00;background-color:#faa">ç©ºé—´å¤æ‚åº¦ï¼Œå°±åƒçº¿æ€§ç­›å¯¹ç©ºé—´å¤æ‚åº¦è¦æ±‚é«˜ä¸€æ ·ã€‚</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1000007</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span>LL prime[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> st[N];
</span></span><span style="display:flex;"><span>LL cnt <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>LL l,r;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//çº¿æ€§ç­›ç´ æ•°ï¼Œé¢„å¤„ç†æ ¹å·Rå†…çš„ç´ æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">get_primes</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(LL i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">50000</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[i]) prime[<span style="color:#555">++</span>cnt] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(LL j <span style="color:#555">=</span> <span style="color:#f60">1</span>; prime[j] <span style="color:#555">&lt;=</span> <span style="color:#f60">50000</span><span style="color:#555">/</span>i; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            st[prime[j] <span style="color:#555">*</span> i] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(i <span style="color:#555">%</span> prime[j] <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%lld%lld&#34;</span>, <span style="color:#555">&amp;</span>l,<span style="color:#555">&amp;</span>r);
</span></span><span style="display:flex;"><span>    get_primes(); 
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å…ˆç­›ä¸€ä¸‹æ ¹å·Rå†…çš„æ‰€æœ‰è´¨æ•°ä»¥åŠå‰©ä¸‹çš„åˆæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//è·å–1~âˆšRä¹‹é—´çš„æ‰€æœ‰ç´ æ•°ï¼ŒRè¡¨ç¤º200000000;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    LL ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    l <span style="color:#555">=</span> l<span style="color:#555">==</span><span style="color:#f60">1</span><span style="color:#555">?</span><span style="color:#f60">2</span><span style="color:#555">:</span>l; <span style="color:#09f;font-style:italic">//ç‰¹åˆ¤ä¸€ä¸‹ï¼Œlä¸€å®šè¦ä»2å¼€å§‹ï¼Œå¦‚æœæ˜¯1çš„è¯å°±å˜æˆ2
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    memset(st,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span> st); <span style="color:#09f;font-style:italic">//å°‘å¼€è¾Ÿç‚¹ç©ºé—´ï¼Œç›´æ¥ç”¨åŸæ¥çš„ï¼Œæ¸…ç©ºä¸€ä¸‹å°±å¥½äº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//ä»å¤§äºLçš„æœ€å°çš„èƒ½è¢«pæ•´é™¤çš„æ•°å¼€å§‹ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(LL i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> cnt; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        LL p <span style="color:#555">=</span> prime[i];
</span></span><span style="display:flex;"><span>        LL start<span style="color:#555">=</span>(l<span style="color:#555">+</span>p<span style="color:#555">-</span><span style="color:#f60">1</span>)<span style="color:#555">/</span>p<span style="color:#555">*</span>p<span style="color:#555">&gt;</span><span style="color:#f60">2</span><span style="color:#555">*</span>p <span style="color:#555">?</span> (l<span style="color:#555">+</span>p<span style="color:#555">-</span><span style="color:#f60">1</span>)<span style="color:#555">/</span>p<span style="color:#555">*</span><span style="color:#99f">p</span>:<span style="color:#f60">2</span><span style="color:#555">*</span>p; <span style="color:#09f;font-style:italic">//ä»å¤§äºLçš„æœ€å°èƒ½è¢«pæ•´é™¤çš„æ•°å¼€å§‹ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°æŠŠè‡ªå·±ç­›äº†çš„æƒ…å†µï¼Œæ•…æ­¤è¿›è¡Œä¸€æ¬¡ç‰¹åˆ¤
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">for</span>(LL j <span style="color:#555">=</span> start; j <span style="color:#555">&lt;=</span> r; j <span style="color:#555">+=</span> p) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            st[j<span style="color:#555">-</span>l<span style="color:#555">+</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>; <span style="color:#09f;font-style:italic">//å¦‚æœå†™æˆst[j]ä¼šçˆ†st[]--&gt;RE
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                          <span style="color:#09f;font-style:italic">//è°ƒæ•´æ–¹æ³•æ˜¯å°†å…¶st[j] æ¢æˆst[j-l+1]ï¼Œè¿™æ ·ä¹‹ååªéœ€è¦ä»1 ~ r-l+1ä¹‹é—´å¼€å§‹æšä¸¾å°±è¡Œäº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                        <span style="color:#09f;font-style:italic">//å› ä¸ºè¿™é‡Œåªéœ€è¦è®°å½•åˆæ•°/è´¨æ•°çš„ä¸ªæ•°ï¼Œæ— éœ€è®°å½•å…·ä½“çš„å€¼ä¸ºå¤šå°‘ï¼Œæ•…å¯é‡‡ç”¨æ­¤æ–¹æ³•ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//L ~ R
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//---&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//1 ~ R-(L-1)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(LL i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> r<span style="color:#555">-</span>l<span style="color:#555">+</span><span style="color:#f60">1</span>; i <span style="color:#555">++</span>)<span style="color:#09f;font-style:italic">//r-l+1åŒºé—´é•¿åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[i]) ans<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>,ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1463-poi2002-haoi2007-åç´ æ•°">P1463 [POI2002][HAOI2007]åç´ æ•°</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1463">https://www.luogu.com.cn/problem/P1463</a></p>
</blockquote>
<blockquote>
<p>ç†è§£é¢˜æ„ï¼š</p>
<p>å…ˆæ•´ç†ä¸€ä¸‹æ•°æ®N = 2e9
è¯¥é¢˜çš„ç›®çš„æ˜¯æ±‚å–1~Nä¹‹é—´ï¼Œæœ€å°çš„çº¦æ•°æœ€å¤šçš„æ•°ã€‚</p>
<blockquote>
<p>é¢„å¤‡çŸ¥è¯†ï¼š
1~Nä¸­ä»»ä½•ä¸åŒçš„è´¨å› å­éƒ½ä¸ä¼šè¶…è¿‡10ä¸ªï¼Œä¸”æ‰€æœ‰è´¨å› å­çš„æŒ‡æ•°æ€»å’Œä¸è¶…è¿‡30</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>è¯æ˜ï¼š
</span></span><span style="display:flex;"><span>2 * 3 * 5 * 7 * 11 * 13 * 17 * 19 * 23 * 29 * 31 ï¼ 2 * 10^9
</span></span><span style="display:flex;"><span>å³ä½¿åªåŒ…å«æœ€å°çš„è´¨æ•°2ï¼Œä»ç„¶æœ‰ 2 ^ 31 ï¼ 2 * 10^9 æ‰€ä»¥ N â‰¤ 2 * 10^9 çš„è´¨å› å­ä¸ä¼šè¶…è¿‡30ä¸ªã€‚
</span></span></code></pre></td></tr></table>
</div>
</div><p>1~Nä»»ä½•ä¸€ä¸ªæ•°
<em><em>éƒ½èƒ½å†™æˆ $N = p_1^{c_1}<em>p_2^{c_2}</em>&hellip;p_k</em>^{c_k}$â€‹</em>*â€‹
<code>xä¸ºåè´¨æ•°çš„å¿…è¦æ¡ä»¶æ˜¯ï¼šxåˆ†è§£è´¨å› æ•°åå¯å†™ä½œ2^c1 * 3^c2 * ...... *29 ^ c10ï¼Œå¹¶ä¸”c1â‰¥c2â‰¥c3â‰¥......â‰¥c10â‰¥0 ã€‚</code></p>
<p><strong>1~Nå†…ä»»ä½•ä¸€ä¸ªæ•°çš„çº¦æ•°çš„ä¸ªæ•°</strong>
$m = (c_1+1)<em>(c_2+1)</em>&hellip;<em>(c_k+1)$
<strong>1~Nå†…æ‰€æœ‰çº¦æ•°çš„å’Œä¸º</strong>
$sum = (p_1^0+p_1^1+&hellip;+p_k^{c_1})</em>&hellip;*(p_k^0+p_k^1+&hellip;+p_k^{ck})$â€‹â€‹</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;algorithm&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;iostream&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cstdio&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#define ll long long
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std ;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> pri[<span style="color:#f60">15</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">2</span>,<span style="color:#f60">3</span>,<span style="color:#f60">5</span>,<span style="color:#f60">7</span>,<span style="color:#f60">11</span>,<span style="color:#f60">13</span>,<span style="color:#f60">17</span>,<span style="color:#f60">19</span>,<span style="color:#f60">23</span>,<span style="color:#f60">29</span>,<span style="color:#f60">31</span>};
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ‰“è¡¨æœ€å°çš„11ä¸ªè´¨æ•° 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>ll best <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span> , num <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span> ;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åˆå§‹å€¼è®¾ç½®ä¸º-1ï¼Œæ˜¯è§£å†³ç­”æ¡ˆæ˜¯0çš„æƒ…å†µ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> n ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//é€šè¿‡ä¸€ä¸ªDFSæœç´¢ï¼Œæ‰€æœ‰æƒ…å†µï¼Œæ³¨æ„å‰ªææ¥é™ä½æ—¶é—´å¤æ‚åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dfs</span>(ll x  , <span style="color:#078;font-weight:bold">int</span> rest , <span style="color:#078;font-weight:bold">int</span> m, <span style="color:#078;font-weight:bold">int</span> up)
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//xä¸ºå½“å‰æ•°å­—çš„å¤§å°ï¼Œmä¸ºå½“å‰æ•°å­—çº¦æ•°çš„ä¸ªæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//restä¸ºå½“å‰è´¨æ•°çš„ç¼–å·ï¼Œupä¸ºå°äºä¸‰åçš„å½“å‰æŒ‡æ•°å’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(m <span style="color:#555">&gt;</span> best <span style="color:#555">||</span> (m <span style="color:#555">==</span> best <span style="color:#555">&amp;&amp;</span> x <span style="color:#555">&lt;</span> num))
</span></span><span style="display:flex;"><span>        num <span style="color:#555">=</span> x , best <span style="color:#555">=</span> m ;
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//æ ¹æ®è¦æ±‚æ›´æ–°ç­”æ¡ˆè¿‡ç¨‹ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    ll ans <span style="color:#555">=</span> x ;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span> ;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(i <span style="color:#555">&lt;</span> up)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#555">++</span> i ;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">/</span> ans <span style="color:#555">&lt;</span> pri[rest]) 
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//ä¿è¯æ€»ä¹˜ç§¯ä¸è¶…è¿‡N 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">return</span> ;
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> kkk <span style="color:#555">=</span> m <span style="color:#555">*</span> (i <span style="color:#555">+</span> <span style="color:#f60">1</span> ) ;
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">*=</span> pri[rest] ;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(ans <span style="color:#555">&lt;=</span> n)
</span></span><span style="display:flex;"><span>            dfs(ans , rest <span style="color:#555">+</span> <span style="color:#f60">1</span> , kkk , i) ;
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//ä¿è¯äº†è´¨æ•°çš„å•è°ƒé€’å‡ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ä» 2^1*--&gt;*p^c
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ä» 2^2*--&gt;*p^c
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ä» 2^3*--&gt;*p^c
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//....
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ç›´åˆ° 2^x*--&gt;*p^c &gt; n ï¼Œé‚£å°±åœæ­¢
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//è®°å½•è¿‡ç¨‹ä¸­ m &gt; best(çº¦æ•°ä¸ªæ•°æœ€å¤š) ä¸” è‹¥çº¦æ•°ç›¸ç­‰m == best &amp;&amp; x &lt; numåˆ™æ‰¾xæœ€å°çš„
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span> , <span style="color:#555">&amp;</span>n) ;
</span></span><span style="display:flex;"><span>    dfs(<span style="color:#f60">1</span> , <span style="color:#f60">1</span> , <span style="color:#f60">1</span> , <span style="color:#f60">30</span>);
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span> , num);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="sp3591-patheads-patting-heads">SP3591 PATHEADS - Patting Heads</h4>
<blockquote>
<p>è¿™é¢˜ä¹Ÿæ²¡å•¥å¥½è®²çš„</p>
<p>ç”¨ä¸€ä¸ªæ¡¶å­˜ä¸‹æ¯ä¸ªå€¼å‡ºç°çš„æ¬¡æ•°</p>
<p>ç„¶åæ¯æ¬¡ä»1~a[i]è¿›è¡Œæšä¸¾ï¼Œçœ‹æ¡¶ä¸­æœ‰å¤šå°‘ä¸ªæ»¡è¶³è¦æ±‚çš„æ•°
æ³¨æ„N è¦å¼€<code>const int N = 1001000;</code> å› ä¸ºæ•°ç»„å¼€å°äº†REå¥½å‡ æ¬¡ï¼Œå¤ªä¸å€¼å¾—äº†</p>
<p>å¦‚æœæ˜¯æš´åŠ›è¿›è¡Œæšä¸¾çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜
æƒ³ä¸ªåŠæ³•ä¼˜åŒ–ä¸€ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦æšä¸¾ä»1~âˆša[i] å°±å¥½äº†
<code>è¦æ³¨æ„å½“æšä¸¾åˆ°âˆša[i]æ—¶ï¼Œåªéœ€è¦åŠ ä¸€æ¬¡</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1001000</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> temp[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> res[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    memset(temp,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span> temp);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>        temp[a[i]]<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ç”¨ä¸€ä¸ªæ¡¶temp[]è®°å½•ä¸€ä¸‹å‡ºç°çš„æ¬¡æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//ä» 1~iè¿›è¡Œæšä¸¾ ä¹Ÿå°±æ˜¯åœ¨æ¯”iå°çš„æ•°ä¸­æ‰¾çº¦æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> a[i]<span style="color:#555">/</span>j; j <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//ä¼˜åŒ–ä¸€ä¸‹ï¼Œåªæšä¸¾åˆ°sqrt(a[i])
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(a[i] <span style="color:#555">%</span> j <span style="color:#555">==</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> j <span style="color:#555">==</span> a[i]<span style="color:#555">/</span>j)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ans <span style="color:#555">+=</span> temp[j];
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(a[i] <span style="color:#555">%</span> j <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ans <span style="color:#555">+=</span> temp[j] <span style="color:#555">+</span> temp[a[i]<span style="color:#555">/</span>j];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        res[i] <span style="color:#555">=</span> ans<span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%d</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,res[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ¬§æ‹‰ç­›-çº¿æ€§ç­›çš„ä¸€äº›åº”ç”¨">æ¬§æ‹‰ç­›ï¼ˆçº¿æ€§ç­›çš„ä¸€äº›åº”ç”¨ï¼‰</h4>
<blockquote>
<p>æ•°è®ºä¸­è¿˜æ˜¯æŒºé‡è¦çš„æ¬§æ‹‰ç­›çš„ä¸€äº›åº”ç”¨ï¼š</p>
<p>å¦‚ï¼šæ¬§æ‹‰ç­›æ±‚çº¦æ•°ä¸ªæ•°ä¸æ¬§æ‹‰ç­›æ±‚çº¦æ•°å’Œã€‚è¯¦ç»†å†…å®¹æŸ¥çœ‹æˆ‘çš„ç®—æ³•ç¬”è®°-æ•°è®ºç« èŠ‚</p>
</blockquote>
<h4 id="p2158-sdoi2008-ä»ªä»—é˜Ÿ">P2158 [SDOI2008]ä»ªä»—é˜Ÿ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2158">https://www.luogu.com.cn/problem/P2158</a></p>
</blockquote>
<blockquote>
<p>æœ‰é¢˜æ„å¯çŸ¥ï¼š
æ‰€æœ‰çš„ç‚¹éƒ½å…³äº<code>y=x</code>å¯¹ç§°ï¼Œä»åŸç‚¹(0ï¼Œ0)è¿çº¿ï¼Œå¯ä»¥å‘ç°ï¼Œä»åŸç‚¹ï¼ˆ0ï¼Œ0ï¼‰å¾€åçš„è¿çº¿ä¸Šçš„ç‚¹ä¸€å®šéƒ½æ˜¯çœ‹ä¸åˆ°çš„ï¼Œå¯¹ä»»æ„æ•´ç‚¹ï¼ˆxï¼Œyï¼‰æœ‰ç‚¹ï¼ˆÎ»xï¼ŒÎ»yï¼‰(Î»&gt;1)æ˜¯çœ‹ä¸åˆ°çš„ï¼Œæˆ‘ä»¬æ˜¾ç„¶å¯ä»¥å‘ç°:gcd(Î»x,Î»y) = Î»gcd(x,y) &gt;Î»Â·1 =Î» &gt;1
ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªç‚¹(x,y)ï¼Œå½“gcd(x,y)â‰ 1æ—¶è¿™ä¸ªç‚¹çœ‹ä¸åˆ°ã€‚</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æˆ‘çš„ä»£ç ....è™½ç„¶æœ‰ç‚¹éš¾çœ‹ï¼Œä½†éƒ½æ˜¯æ¨¡æ¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æœç„¶æ•°è®ºæœ€éš¾çš„æ˜¯æ•°å­¦æ€ç»´ï¼Œç¼–ç èƒ½åŠ›ä½“ç°ä¸é«˜
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">phi</span>(<span style="color:#078;font-weight:bold">int</span> x) <span style="color:#09f;font-style:italic">//æ¬§æ‹‰å‡½æ•°//æ±‚1~nï¼Œä¸näº’è´¨çš„æ­£æ•´æ•°(åŒ…æ‹¬1)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> res <span style="color:#555">=</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> x <span style="color:#555">/</span> i; i <span style="color:#555">++</span> )
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (x <span style="color:#555">%</span> i <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            res <span style="color:#555">=</span> res <span style="color:#555">/</span> i <span style="color:#555">*</span> (i <span style="color:#555">-</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">while</span> (x <span style="color:#555">%</span> i <span style="color:#555">==</span> <span style="color:#f60">0</span>) x <span style="color:#555">/=</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span> (x <span style="color:#555">&gt;</span> <span style="color:#f60">1</span>) res <span style="color:#555">=</span> res <span style="color:#555">/</span> x <span style="color:#555">*</span> (x <span style="color:#555">-</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">==</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">+=</span> phi(i)<span style="color:#555">*</span><span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">+=</span> <span style="color:#f60">3</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ22æ—¥">2021å¹´7æœˆ22æ—¥</h3>
<blockquote>
<p>ä»Šå¤©å¥½å¤š<del>æ°´é¢˜</del> ï¼ˆå¯æ˜¯æˆ‘è¿æ°´é¢˜éƒ½ä¸ä¼š&hellip;.ï¼‰
ä½†æ˜¯å¾—è‡ªå·±å»ä¸»åŠ¨å»å­¦æ–°çš„ä¸œè¥¿ï¼Œä¸èƒ½å›ºæ­¥è‡ªå°ï¼ï¼</p>
</blockquote>
<h4 id="p1149-noip2008-æé«˜ç»„-ç«æŸ´æ£’ç­‰å¼">P1149 [NOIP2008 æé«˜ç»„] ç«æŸ´æ£’ç­‰å¼</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1149">https://www.luogu.com.cn/problem/P1149</a></p>
</blockquote>
<blockquote>
<p>è§‚å¯Ÿæ•°æ®é‡n &lt;= 25 æ•°æ®é‡å¾ˆå°&mdash;&gt;å…¶å®å¯ä»¥ç›´æ¥æ‰“è¡¨æŠŠæ‰€æœ‰æƒ…å†µæ±‚å‡ºæ¥ã€‚ã€‚//é€ƒ</p>
<p>ä½†ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œè‚¯å®šå¾—æ²‰ä¸‹å¿ƒæ¥ï¼Œå­¦æ–°çš„ä¸œè¥¿æ‰è¡Œ</p>
<p>è¿™é“é¢˜å¯ä»¥è¯´æ˜¯å¾ˆç»å…¸çš„æœç´¢å›æº¯é¢˜ï¼Œåªéœ€è¦è¿›è¡Œä¸€æ¬¡å›æº¯DFSå³å¯</p>
<p><code>ä»ç¬¬ä¸€å±‚å¼€å§‹--&gt;å¤„ç†å½“å‰(æ³¨æ„é€’å½’é€€å‡ºæ¡ä»¶)--&gt;å›æº¯--&gt;æ¢å¤ç°åœº</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> cost[<span style="color:#f60">1010</span>] <span style="color:#555">=</span> {<span style="color:#f60">6</span>,<span style="color:#f60">2</span>,<span style="color:#f60">5</span>,<span style="color:#f60">5</span>,<span style="color:#f60">4</span>,<span style="color:#f60">5</span>,<span style="color:#f60">6</span>,<span style="color:#f60">3</span>,<span style="color:#f60">7</span>,<span style="color:#f60">6</span>}; <span style="color:#09f;font-style:italic">//èŠ±è´¹ç«æŸ´
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> b[<span style="color:#f60">10</span>]; <span style="color:#09f;font-style:italic">// å­˜ä¸‹è¿‡ç¨‹ä¸­ A,B,Cçš„æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ç»å…¸çš„æœç´¢å›æº¯ç®—æ³•(ä¸DFSç±»ä¼¼)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">search</span>(<span style="color:#078;font-weight:bold">int</span> l)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;</span> <span style="color:#f60">1000</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">-</span> cost[i] <span style="color:#555">&gt;=</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            b[l] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>            n <span style="color:#555">-=</span> cost[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(l <span style="color:#555">==</span> <span style="color:#f60">3</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(b[<span style="color:#f60">1</span>]<span style="color:#555">+</span>b[<span style="color:#f60">2</span>] <span style="color:#555">==</span> b[<span style="color:#f60">3</span>] <span style="color:#555">&amp;&amp;</span> n <span style="color:#555">==</span> <span style="color:#f60">0</span>) ans <span style="color:#555">++</span>; <span style="color:#09f;font-style:italic">//å¦‚æœA + B = Cåˆ™æ»¡è¶³çš„æ¡ä»¶+1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                search(l<span style="color:#555">+</span><span style="color:#f60">1</span>); <span style="color:#09f;font-style:italic">//å›æº¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>            n <span style="color:#555">+=</span> cost[i]; <span style="color:#09f;font-style:italic">// æ¢å¤ç°åœº
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    n <span style="color:#555">-=</span> <span style="color:#f60">4</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">10</span>; i <span style="color:#555">&lt;</span> <span style="color:#f60">1000</span>; i <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//è®°å½•ä¸€ä¸‹2ä½æ•°å’Œä¸‰ä½æ•°çš„æ•°å­—éœ€è¦èŠ±è´¹çš„ç«æŸ´
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        cost[i] <span style="color:#555">=</span> cost[i<span style="color:#555">/</span><span style="color:#f60">10</span>] <span style="color:#555">+</span> cost[i<span style="color:#555">%</span><span style="color:#f60">10</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    search(<span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1147-è¿ç»­è‡ªç„¶æ•°å’Œ">P1147 è¿ç»­è‡ªç„¶æ•°å’Œ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1147">https://www.luogu.com.cn/problem/P1147</a></p>
</blockquote>
<blockquote>
<p>å˜¤å˜¤å˜¤ï¼Œä¸æƒ³è¯´è¯ï¼Œè¿™ä»…ä»…æ˜¯é“æ™®åŠ-éš¾åº¦çš„é»„é¢˜</p>
<p>è¿˜æ— ä»ä¸‹æ‰‹ï¼Œè¿™å°±å¾ˆå±é™©äº†&hellip;.å‘Šè¯‰è‡ªå·±ï¼Œç»å¯¹ä¸èƒ½è¢«æ°´é¢˜æ‰“å€’ï¼ï¼ï¼ï¼</p>
<p>åˆ†æä¸€ä¸‹ï¼Œè¿ç»­åŒºé—´å’Œä¸º$sum(L,R)=\frac{(L+R)*(R-L+1)}{2}=M //ç­‰å·®æ•°åˆ—æ±‚å’Œ$</p>
<p>å¯ä»¥è½¬åŒ–ä¸º$(L+R)(R-L+1)=2*M$
å¯ä»¥å°†å…¶è½¬åŒ–ä¸ºä¸¤ä¸ªæ•°ä¹‹ç§¯ï¼Œæšä¸¾å‡è®¾åˆ†æˆäº†ä¸¤ä¸ªæ•°k1,k2 ä»¤ k1 &lt; k2</p>
<p>æœ‰ $$\left{<br>
\begin{array}{}
R-L+1=k_1   \
L+R=k_2
\end{array}
\right. $$â€‹â€‹ â€‹â€‹â€‹â€‹<br>
è§£å¾—ï¼š</p>
<p>$$\left{<br>
\begin{array}{}
L = \frac{k_2-k_1+1}{2}   \
R=\frac{k_1+k_2-1}{2}
\end{array}
\right. $$â€‹â€‹â€‹â€‹</p>
<p>æ˜¾ç„¶åªæœ‰å½“ k1ï¼Œk2ä¸­ä¸€ä¸ªä¸ºå¥‡æ•°ä¸€ä¸ªä¸ºå¶æ•°æ—¶ï¼ŒL,Ræ‰æ˜¯æ•´æ•°
æ³¨ï¼šå¹¶ä¸” L != R ä¹Ÿå°±æ˜¯ k1 != 1</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>(){
</span></span><span style="display:flex;"><span>    cin<span style="color:#555">&gt;&gt;</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k1<span style="color:#555">=</span>sqrt(<span style="color:#f60">2</span><span style="color:#555">*</span>m);k1<span style="color:#555">&gt;</span><span style="color:#f60">1</span>;k1<span style="color:#555">--</span>)<span style="color:#09f;font-style:italic">//æšä¸¾k1(æ³¨æ„æ˜¯k1&gt;1è€Œä¸æ˜¯k1&gt;=1)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#f60">2</span><span style="color:#555">*</span>m<span style="color:#555">%</span>k1<span style="color:#555">==</span><span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> (k1<span style="color:#555">+</span><span style="color:#f60">2</span><span style="color:#555">*</span>m<span style="color:#555">/</span>k1)<span style="color:#555">%</span><span style="color:#f60">2</span>){<span style="color:#09f;font-style:italic">//å¦‚æœK2æ˜¯æ•´æ•°è€Œä¸”ä¸K1ä¸€å¥‡ä¸€å¶
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#078;font-weight:bold">int</span> k2<span style="color:#555">=</span><span style="color:#f60">2</span><span style="color:#555">*</span>m<span style="color:#555">/</span>k1;
</span></span><span style="display:flex;"><span>            cout<span style="color:#555">&lt;&lt;</span>(k2<span style="color:#555">-</span>k1<span style="color:#555">+</span><span style="color:#f60">1</span>)<span style="color:#555">/</span><span style="color:#f60">2</span><span style="color:#555">&lt;&lt;</span><span style="color:#c30">&#34; &#34;</span><span style="color:#555">&lt;&lt;</span>(k1<span style="color:#555">+</span>k2<span style="color:#555">-</span><span style="color:#f60">1</span>)<span style="color:#555">/</span><span style="color:#f60">2</span><span style="color:#555">&lt;&lt;</span>endl;<span style="color:#09f;font-style:italic">//è¾“å‡ºç­”æ¡ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3807-æ¨¡æ¿-å¢å¡æ–¯å®šç†-lucas-å®šç†">P3807 ã€æ¨¡æ¿ã€‘å¢å¡æ–¯å®šç†/Lucas å®šç†</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3807">https://www.luogu.com.cn/problem/P3807</a></p>
</blockquote>
<blockquote>
<p>å¢å¡æ–¯å®šç†çš„æ¨¡æ¿é¢˜</p>
<p>å½“må’Œnæ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ±‚å–ç»„åˆæ•°%pçš„å€¼åº”è¯¥é‡‡ç”¨å¢å¡æ–¯å®šç†</p>
<blockquote>
<p>ä½†å½“p&lt;mæ—¶ï¼Œåˆ†æ¯çš„ä¹˜æ³•é€†å…ƒå¯èƒ½ä¸å­˜åœ¨(må¯èƒ½æ˜¯pçš„å€æ•°)ï¼Œæ‰€ä»¥å°±è½®åˆ°å¢å¡æ–¯å®šç†å‡ºåœºäº†ã€‚</p>
</blockquote>
<!-- > <img src="./Luogu.assets/image-20210723100600736.png" style="zoom:67%;" /> -->
<p><img src="https://pve.digikamc.cn:8343/i/2024/11/25/j1vxfa-0.png" alt="image-20210723100600736"></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100100</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> Inf[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">qmi</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> k, <span style="color:#078;font-weight:bold">int</span> p)  <span style="color:#09f;font-style:italic">// å¿«é€Ÿå¹‚æ¨¡æ¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> res <span style="color:#555">=</span> <span style="color:#f60">1</span> <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span> (k)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (k <span style="color:#555">&amp;</span> <span style="color:#f60">1</span>) res <span style="color:#555">=</span> (LL)res <span style="color:#555">*</span> a <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>        a <span style="color:#555">=</span> (LL)a <span style="color:#555">*</span> a <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>        k <span style="color:#555">&gt;&gt;=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ±‚C_a^bçš„æ–¹æ³•ä¸€
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">LL C(LL a, LL b, LL p)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">{
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    for(int i = 1; i &lt; N; i ++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        f[i]=f[i-1]%p;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        Inf[i] = Inf[i-1]*qmi(i,p-2,p)%p;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    return f[a]*Inf[a-b]%p*Inf[b]%p;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">}
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ±‚C_a^bçš„æ–¹æ³•äºŒ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">C</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b, <span style="color:#078;font-weight:bold">int</span> p)  <span style="color:#09f;font-style:italic">// é€šè¿‡å®šç†æ±‚ç»„åˆæ•°C(a, b)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span> (a <span style="color:#555">&lt;</span> b) <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    LL x <span style="color:#555">=</span> <span style="color:#f60">1</span>, y <span style="color:#555">=</span> <span style="color:#f60">1</span>;  <span style="color:#09f;font-style:italic">// xæ˜¯åˆ†å­ï¼Œyæ˜¯åˆ†æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> a, j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> b; i <span style="color:#555">--</span>, j <span style="color:#555">++</span> )
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        x <span style="color:#555">=</span> (LL)x <span style="color:#555">*</span> i <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>        y <span style="color:#555">=</span> (LL) y <span style="color:#555">*</span> j <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> x <span style="color:#555">*</span> (LL)qmi(y, p <span style="color:#555">-</span> <span style="color:#f60">2</span>, p) <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>LL <span style="color:#c0f">lucas</span>(LL a, LL b, <span style="color:#078;font-weight:bold">int</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span> (a <span style="color:#555">&lt;</span> p <span style="color:#555">&amp;&amp;</span> b <span style="color:#555">&lt;</span> p) <span style="color:#069;font-weight:bold">return</span> C(a, b, p);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> (LL)C(a <span style="color:#555">%</span> p, b <span style="color:#555">%</span> p, p) <span style="color:#555">*</span> lucas(a <span style="color:#555">/</span> p, b <span style="color:#555">/</span> p, p) <span style="color:#555">%</span> p;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è¦ä¿è¯a,bè¶³å¤Ÿå°ï¼Œæ•…æ­¤å¿…é¡»ä¸æ–­é€’å½’å¢å¡æ–¯(a,b);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> T;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> T;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> a,b,p;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(T<span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[<span style="color:#f60">0</span>] <span style="color:#555">=</span> Inf[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> a <span style="color:#555">&gt;&gt;</span> b <span style="color:#555">&gt;&gt;</span> p;
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> lucas(a<span style="color:#555">+</span>b,b,p) <span style="color:#555">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2532-å¡ç‰¹å…°-é«˜ç²¾åº¦-ahoi2012-æ ‘å±‹é˜¶æ¢¯">P2532 (å¡ç‰¹å…°+é«˜ç²¾åº¦)[AHOI2012]æ ‘å±‹é˜¶æ¢¯</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2532">https://www.luogu.com.cn/problem/P2532</a></p>
</blockquote>
<blockquote>
<p>æ€è·¯ï¼šè¯¥é¢˜æ•°æ®é‡å¾ˆå¤§ï¼Œå¯¹äºå››åˆ™è¿ç®—åº”è¯¥é‡‡ç”¨é«˜ç²¾åº¦è¿›è¡Œè®¡ç®—æ‰å¯ä»¥ï¼</p>
<blockquote>
<p>å…³äºå¡ç‰¹å…°æ•°çš„æ±‚è§£ï¼Œå¯é‡‡ç”¨DP</p>
<!-- > > <img src="./Luogu.assets/image-20210724114334069.png" style="zoom:80%;" /> -->
<p><img src="https://pve.digikamc.cn:8343/i/2024/11/25/j1vxkn-0.png" alt="image-20210724114334069"></p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å¡ç‰¹å…°æ•°+é«˜ç²¾åº¦ç®—æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ll;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">catlan</span>(ll u)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> len; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[u][i] <span style="color:#555">=</span> f[u<span style="color:#555">-</span><span style="color:#f60">1</span>][i] <span style="color:#555">+</span> f[u][i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> len; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[u][i<span style="color:#555">+</span><span style="color:#f60">1</span>] <span style="color:#555">+=</span> f[u][i]<span style="color:#555">/</span><span style="color:#f60">10</span>;
</span></span><span style="display:flex;"><span>        f[u][i] <span style="color:#555">%=</span> <span style="color:#f60">10</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(f[u][len<span style="color:#555">+</span><span style="color:#f60">1</span>]) len<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    f[<span style="color:#f60">1</span>][<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span> ;i <span style="color:#555">&lt;=</span> n <span style="color:#555">+</span> <span style="color:#f60">1</span>; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> i; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            catlan(j);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> len; i <span style="color:#555">&gt;=</span> <span style="color:#f60">1</span>; i <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> f[n][i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ23æ—¥">2021å¹´7æœˆ23æ—¥</h3>
<h4 id="p1137-æ—…è¡Œè®¡åˆ’">P1137 æ—…è¡Œè®¡åˆ’</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1137">https://www.luogu.com.cn/problem/P1137</a></p>
</blockquote>
<blockquote>
<p>é¢&hellip;è™½ç„¶çœ‹é¢˜è§£éƒ½æ˜¯ç”¨çš„DPåŠ¨æ€è§„åˆ’æ±‚è§£çš„&hellip;</p>
<p>ä½†æˆ‘ç›®å‰è¿˜æ²¡å’‹å­¦åŠ¨æ€è§„åˆ’&hellip;.</p>
<p>ä»”ç»†åˆ†æé¢˜ç›®å‘ç°ç­”æ¡ˆå°±æ˜¯æ‹“æ‰‘æ’åºåºåˆ—ï¼Œå…¶ä¸­çš„å€¼å°±æ˜¯æ‹“æ‰‘æ’åºæ—¶ç‚¹æ‰€åœ¨çš„æ·±åº¦ï¼Œ</p>
<p>åªéœ€è¦åœ¨è¿›è¡Œæ‹“æ‰‘æ’åºçš„æ—¶å€™ï¼Œå¯¹ç»“ç‚¹çš„æ·±åº¦ä¹Ÿè¿›è¡Œä¸€ä¸‹è®°å½•å°±å¥½äº†ã€‚</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">200010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h[N],ne[M],e[M],idx;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> d[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> q[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> res[N]; <span style="color:#09f;font-style:italic">//è®°å½•æ·±åº¦æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    ne[idx] <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">topsort</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>,tt <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span> ; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>d[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            q[<span style="color:#555">++</span>tt] <span style="color:#555">=</span> i; <span style="color:#09f;font-style:italic">//å¦‚æœä¸€å¼€å§‹å…¥åº¦å°±æ˜¯0
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            res[i] <span style="color:#555">=</span> <span style="color:#f60">1</span>;<span style="color:#09f;font-style:italic">//é‚£ä¹ˆæ·±åº¦å°±è®¾ç½®ä¸º1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(hh <span style="color:#555">&lt;=</span> tt)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> q[hh<span style="color:#555">++</span>]; <span style="color:#09f;font-style:italic">//å–é˜Ÿå¤´å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[t]; i <span style="color:#555">!=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>; i <span style="color:#555">=</span> ne[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>            res[j] <span style="color:#555">=</span> res[t] <span style="color:#555">+</span> <span style="color:#f60">1</span>; <span style="color:#09f;font-style:italic">//ä¸‹ä¸€ä¸ªç»“ç‚¹çš„æ·±åº¦+1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">--</span> d[j] <span style="color:#555">==</span> <span style="color:#f60">0</span>){
</span></span><span style="display:flex;"><span>                q[<span style="color:#555">++</span> tt] <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    memset(h,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#069;font-weight:bold">sizeof</span> h);
</span></span><span style="display:flex;"><span>    memset(d,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span> d);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> in,to;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> in <span style="color:#555">&gt;&gt;</span> to;
</span></span><span style="display:flex;"><span>        add(in,to);
</span></span><span style="display:flex;"><span>        d[to] <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    topsort();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n ; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> res[i] <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p4316-ç»¿è±†è›™çš„å½’å®¿">P4316 ?ç»¿è±†è›™çš„å½’å®¿</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P4316">https://www.luogu.com.cn/problem/P4316</a></p>
</blockquote>
<blockquote>
<p>åå‘å»ºå›¾ï¼Œè¿›è¡Œdpæœç´¢æ±‚æœŸæœ›</p>
<blockquote>
<p>ä½•æ—¶ç”¨dpåŠ¨æ€è§„åˆ’æ€æƒ³ï¼Ÿ</p>
<p>å‘ç°å› ä¸ºè¿™é‡Œç¬¬ä¸€ä¸ªä½ç½®çš„æœŸæœ›ä¸€å®šä¸º0ï¼Œç»ˆæ­¢çŠ¶æ€ä¸º0
æ•…å¯ä»¥é‡‡ç”¨é€†æ¨çš„æ–¹å¼è¿›è¡Œé€†å‘é€’æ¨å¤„ç†ï¼Œæœ€åè·å¾—ç»ˆæ­¢çŠ¶æ€0</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ne[N],h[N],e[N],w[N],idx;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ind[N],tod[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> q[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> dp[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b, <span style="color:#078;font-weight:bold">int</span> wi)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[<span style="color:#555">++</span>idx] <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    ne[idx] <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx;
</span></span><span style="display:flex;"><span>    w[idx] <span style="color:#555">=</span> wi;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">topsort</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>, tt <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    dp[n] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>ind[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            q[<span style="color:#555">++</span>tt] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(hh <span style="color:#555">&lt;=</span> tt)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> q[hh <span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[t]; i; i <span style="color:#555">=</span> ne[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>            dp[j] <span style="color:#555">+=</span> (dp[t]<span style="color:#555">+</span>(<span style="color:#078;font-weight:bold">double</span>)w[i])<span style="color:#555">/</span>(<span style="color:#078;font-weight:bold">double</span>)tod[j];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">--</span> ind[j] <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                q[<span style="color:#555">++</span>tt] <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> in,to,wi;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//md,é‡‡ç”¨é€†æ¨çš„æ–¹æ³•è¿›è¡ŒDP
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//ä¸ºäº†é€†æ¨æ–¹ä¾¿ï¼Œé‡‡ç”¨åå‘å»ºå›¾ï¼Œä½†æ³¨æ„ï¼Œåå‘å»ºå›¾çš„å‡ºåº¦è¿˜æ˜¯ä»¥åŸå›¾ä¸ºå‡†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//é€†å‘å»ºå›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“dp[n] = 0ä¸€å®šä¸º0ï¼Œå› ä¸ºé€†å‘åˆ°è¾¾åˆå§‹ç‚¹äº†ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">//!dpåå‘å»ºå›¾æ±‚æœŸæœ›ï¼Œæ€ç»´å¾ˆé‡è¦ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        cin <span style="color:#555">&gt;&gt;</span> in <span style="color:#555">&gt;&gt;</span> to <span style="color:#555">&gt;&gt;</span> wi;
</span></span><span style="display:flex;"><span>        add(to, in, wi); <span style="color:#09f;font-style:italic">//åå‘å»ºå›¾ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        tod[in]<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        ind[in]<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    topsort();
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%0.2lf&#34;</span>,dp[<span style="color:#f60">1</span>]);<span style="color:#09f;font-style:italic">//å› ä¸ºæ˜¯åå‘å»ºå›¾ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªä½ç½®å°±æ˜¯æœ€åä¸€ä¸ªä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1983-noip2013-æ™®åŠç»„-è½¦ç«™åˆ†çº§">â•P1983 [NOIP2013 æ™®åŠç»„] è½¦ç«™åˆ†çº§</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1983">https://www.luogu.com.cn/problem/P1983</a></p>
</blockquote>
<blockquote>
<p>emmm&hellip;..</p>
<p>æˆ‘çœŸçš„å¥½å¼±å•Š&hellip;.è¿™ä»…ä»…æ˜¯ä¸€é“ç»¿é¢˜&hellip;</p>
<p>æƒ³åˆ°è¿›è¡Œæ‹“æ‰‘æ’åºï¼Œç„¶åæ±‚æ‹“æ‰‘æ’åºä¸­æœ€å¤§çš„æ·±åº¦..
å¯æ˜¯å¦‚æœè¿è¾¹ï¼Œé²è½å»ºå›¾è¿è¾¹çš„ç©ºé—´å¤æ‚åº¦æ˜¯(O(n*m^2))</p>
<p>ç»“æœåªæœ‰70&rsquo;ï¼ŒåŸå› å°±æ˜¯è¶…å†…å­˜äº†ï¼Œæˆ‘ä¸¢&hellip;æˆ‘çœŸæ˜¯ä¸ªè’Ÿè’».</p>
<blockquote>
<p>é™ä½ç©ºé—´å¤æ‚åº¦çš„æ–¹æ³•ï¼ŒåŸæ¥è¦è¿n^2æ¡è¾¹
æˆ‘ä»¬åªéœ€è¦<strong>å¢åŠ ä¸€ä¸ªè™šç‚¹</strong>ï¼Œè¿™æ ·æˆ‘ä»¬å°±åªéœ€è¦è¿2næ¡è¾¹äº†..</p>
</blockquote>
<blockquote>
<p>å½“ç„¶å¦‚æœè¿˜æœ‰æ›´é«˜çš„ç©ºé—´å¤æ‚åº¦è¦æ±‚çš„è¯&hellip;
å‚è€ƒæŸé«˜ä¸­OIerå¤§ä½¬çš„ <strong>çº¿æ®µæ ‘ä¼˜åŒ–å»ºè¾¹</strong></p>
<blockquote>
<p>ä¼˜åŒ–å»ºè¾¹ä¾‹é¢˜ï¼šhttps://www.luogu.com.cn/problem/CF786B</p>
</blockquote>
<p><code>https://blog.csdn.net/xumingyang0/article/details/81021793</code></p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//[è¿™æ˜¯æˆ‘çš„è¶…å†…å­˜çš„MLEä»£ç ]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#099">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N<span style="color:#555">=</span><span style="color:#f60">11000000</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">1010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m,h[M],e[N],ne[N],idx;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> st[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> deep[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> d[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> q[M];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//70.....è¶…å†…å­˜äº†....
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    ne[idx] <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">print</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>;i <span style="color:#555">&lt;=</span> n; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> h[i]; j <span style="color:#555">!=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>; j <span style="color:#555">=</span> ne[j])
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>            cout <span style="color:#555">&lt;&lt;</span> i <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34;-&gt;&#34;</span> <span style="color:#555">&lt;&lt;</span> e[j] <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">topsort</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> hh <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> tt <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>d[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            q[<span style="color:#555">++</span>tt] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>            deep[i] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(hh <span style="color:#555">&lt;=</span> tt)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> q[hh<span style="color:#555">++</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[t]; i <span style="color:#555">!=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>; i <span style="color:#555">=</span> ne[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>            deep[j] <span style="color:#555">=</span> deep[t]<span style="color:#555">+</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">--</span>d[j] <span style="color:#555">==</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                q[<span style="color:#555">++</span>tt] <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> t;
</span></span><span style="display:flex;"><span>    memset(h,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#069;font-weight:bold">sizeof</span> h);
</span></span><span style="display:flex;"><span>    memset(d,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span> d);
</span></span><span style="display:flex;"><span>    idx <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>        memset(st,<span style="color:#366">false</span>,<span style="color:#069;font-weight:bold">sizeof</span> st);
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> l,r;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> t; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#555">&gt;&gt;</span> a[j];
</span></span><span style="display:flex;"><span>            st[a[j]] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        l <span style="color:#555">=</span> a[<span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>        r <span style="color:#555">=</span> a[t];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> l; k <span style="color:#555">&lt;=</span> r; k <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(st[k])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> p <span style="color:#555">=</span> l; p <span style="color:#555">&lt;=</span> r; p <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[p])
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        add(k,p);
</span></span><span style="display:flex;"><span>                        d[p]<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    topsort();
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> max(ans,deep[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ24æ—¥">2021å¹´7æœˆ24æ—¥</h3>
<blockquote>
<p>å‘¨èµ›|è®°å¾—è¡¥é¢˜</p>
</blockquote>
<h3 id="2021å¹´7æœˆ25æ—¥">2021å¹´7æœˆ25æ—¥</h3>
<blockquote>
<p>æ”¾å‡~
ä½†æ˜¯ä»Šå¤©å¤ªé¢“åºŸäº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
ä¸€å®šä¸è¦è½»æ˜“æ»¡è¶³ï¼Œè¦å……æ»¡å±æœºæ„è¯†</p>
</blockquote>
<h3 id="2021å¹´7æœˆ26æ—¥">2021å¹´7æœˆ26æ—¥</h3>
<blockquote>
<p>æœ€çŸ­è·¯é—®é¢˜</p>
</blockquote>
<blockquote>
<p><strong>ä¸€å®šè¦ç†Ÿç»ƒå¹¶æŒæ¡æ±‚è§£æœ€çŸ­è·¯é—®é¢˜çš„æ¨¡æ¿ï¼</strong></p>
</blockquote>
<h4 id="p1629-é‚®é€’å‘˜é€ä¿¡">P1629 é‚®é€’å‘˜é€ä¿¡</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1629">https://www.luogu.com.cn/problem/P1629</a></p>
</blockquote>
<blockquote>
<p>æ­£ç¡®ç†è§£é¢˜æ„ï¼š
ç¬¬ä¸€æ­¥æ˜¯è®¡ç®—1<del>xçš„æœ€çŸ­è·ç¦» ä¹‹å’Œ
ç¬¬äºŒæ­¥åˆ™æ˜¯è®¡ç®—x</del>1çš„æœ€çŸ­è·ç¦»ä¹‹å’Œ</p>
<blockquote>
<p>å·§å¦™ä¹‹å¤„1ï¼šå› ä¸ºè¯¥å›¾å¯èƒ½å­˜åœ¨é‡è¾¹æˆ–è‡ªç¯ï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œæƒå€¼å­˜å‚¨çš„æ—¶å€™ï¼Œåº”è¯¥åªå­˜å‚¨æƒå€¼æœ€å°çš„é‚£ä¸€ä¸ªè¾¹</p>
<p>å·§å¦™ä¹‹å¤„2ï¼šæ±‚x~1çš„æœ€çŸ­è·ç¦»ä¹‹å’Œï¼Œå› ä¸ºé¢˜ç›®ä¸­è§„å®šäº†ä»»ä½•ä¸¤ç‚¹ä¹‹é—´éƒ½èƒ½ç›¸äº’åˆ°è¾¾ï¼Œæ•…æ­¤æˆ‘ä»¬åªéœ€å°†é‚»æ¥çŸ©é˜µè¿›è¡Œåå‘ï¼Œå†æ¬¡è¿›è¡Œä¸€æ¬¡dijkstraå°±èƒ½è·å¾—x~1çš„æœ€çŸ­è·ç¦»äº†ã€‚</p>
<p>éš¾ç†è§£çš„åœ°æ–¹1ï¼šdijkstraç®—æ³•ç”¨é‚»æ¥çŸ©é˜µç®—æ³•è¯¥å¦‚ä½•è¿›è¡Œï¼Œä¸æ¨¡æ¿é‚»æ¥è¡¨ç±»ä¼¼ï¼Œä¹Ÿæ˜¯é¦–å…ˆæ‰¾æœ€çŸ­è·ç¦»çš„ç‚¹jï¼Œç„¶åå»æ›´æ–°dist[j]ä¸º1~jæœ€å°è¿˜æ˜¯1~t~jæœ€å°ã€‚
2ï¼šå…³äºdist[N]æ•°ç»„çš„åˆå§‹åŒ–ï¼Œä½¿ç”¨1èƒ½ç›´æ¥åˆ°è¾¾çš„ç‚¹çš„æƒå€¼è¿›è¡Œåˆå§‹åŒ–å¤„ç†</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">93
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> pair<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span>,<span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> PII;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1100</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> g1[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> g2[N][N]; <span style="color:#09f;font-style:italic">//åå‘å»ºçš„å›¾
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> in,to,wi;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dist[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//é‚»æ¥çŸ©é˜µå®ç°çš„dijkstraç®—æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dijkstra</span>(<span style="color:#078;font-weight:bold">int</span> x,<span style="color:#078;font-weight:bold">int</span> g[][N])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> st[N] <span style="color:#555">=</span> {<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span>    st[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> v;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> min <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[j] <span style="color:#555">&amp;&amp;</span> min <span style="color:#555">&gt;</span> dist[j])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                min <span style="color:#555">=</span> dist[j];
</span></span><span style="display:flex;"><span>                v <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        st[v] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[j] <span style="color:#555">&amp;&amp;</span> g[v][j] <span style="color:#555">+</span> dist[v] <span style="color:#555">&lt;</span> dist[j])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dist[j] <span style="color:#555">=</span> g[v][j] <span style="color:#555">+</span> dist[v];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">initial</span>(<span style="color:#078;font-weight:bold">int</span> n,<span style="color:#078;font-weight:bold">int</span> g[][N])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(i<span style="color:#555">!=</span>j)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                g[i][j] <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    initial(n,g1);
</span></span><span style="display:flex;"><span>    initial(n,g2);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> in <span style="color:#555">&gt;&gt;</span> to <span style="color:#555">&gt;&gt;</span> wi;
</span></span><span style="display:flex;"><span>        g1[in][to] <span style="color:#555">=</span> min(g1[in][to],wi);
</span></span><span style="display:flex;"><span>        g2[to][in] <span style="color:#555">=</span> min(g2[to][in],wi); <span style="color:#09f;font-style:italic">//åè½¬çš„é€†å‘å›¾
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//é¦–å…ˆæ­£å‘è¿›è¡Œä¸€æ¬¡dijkstraç®—æ³•æ±‚1~xçš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//?ç”¨1èƒ½ç›´æ¥åˆ°è¾¾çš„ç‚¹çš„æƒå€¼è¿›è¡Œåˆå§‹åŒ–
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        dist[i] <span style="color:#555">=</span> g1[<span style="color:#f60">1</span>][i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dijkstra(n,g1);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">+=</span> dist[i]; <span style="color:#09f;font-style:italic">//1~xçš„è·ç¦»éƒ½åŠ èµ·æ¥
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ç„¶åé€†å‘è¿›è¡Œä¸€æ¬¡dijkstraç®—æ³•æ±‚x~1çš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//!ä½•æ—¶å¯ä»¥é€†å‘å¤„ç†ï¼Ÿ éœ€è¦é¢˜ç›®å·²ç»è¯´æ˜ï¼šè¾“å…¥ä¿è¯ä»»æ„ä¸¤ç‚¹éƒ½èƒ½äº’ç›¸åˆ°è¾¾ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//?ä¹Ÿæ˜¯ç”¨1èƒ½ç›´æ¥åˆ°è¾¾çš„ç‚¹è¿›è¡Œåˆå§‹åŒ–
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        dist[i] <span style="color:#555">=</span> g2[<span style="color:#f60">1</span>][i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dijkstra(n,g2);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">+=</span> dist[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1144-æœ€çŸ­è·¯è®¡æ•°">P1144 æœ€çŸ­è·¯è®¡æ•°</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1144">https://www.luogu.com.cn/problem/P1144</a></p>
</blockquote>
<blockquote>
<p>è¿™é“é¢˜æœ‰ä¸¤ç§æ€è·¯&amp;è§£å†³æ–¹æ³•ï¼š-c-è¯»é¢˜è¦ç»†å¿ƒï¼Œè¿™æ˜¯æ— å‘å›¾</p>
<p>æ³•ä¸€ï¼šBFSå®½åº¦ä¼˜å…ˆæœç´¢ï¼Œ
å› ä¸ºæƒé‡å€¼éƒ½ç›¸ç­‰ä¸º1ï¼Œæ•…æ­¤å¯ä»¥åˆ©ç”¨å®½åº¦ä¼˜å…ˆæœç´¢BFSæ¥æ±‚æœ€å°å€¼
å› ä¸ºæƒå€¼éƒ½ä¸º1ï¼Œæ•…æ­¤ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯å°±ç›¸å½“äºæ˜¯å®ƒåœ¨bfsæœç´¢æ ‘ä¸­çš„æ·±åº¦
ä¸€ä¸ªç‚¹æœ€çŸ­è·¯ä¸€å®šç»è¿‡äº†ä¸€ä¸ªå±‚æ•°æ¯”å®ƒå°‘1çš„èŠ‚ç‚¹ï¼ˆå¦åˆ™å°±ä¸æ˜¯æœ€çŸ­è·¯ï¼‰
æ•…æ­¤ç”¨æ¯ä¸ªç›¸é‚»ä¸”å±‚æ•°æ¯”å½“å‰èŠ‚ç‚¹å±‚æ•°å°‘1çš„ç‚¹æ›´æ–°å½“å‰ç‚¹çš„è·¯å¾„è·³æ•°å³å¯</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>queue<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span>Q;dep[<span style="color:#f60">1</span>]<span style="color:#555">=</span><span style="color:#f60">0</span>;vis[<span style="color:#f60">1</span>]<span style="color:#555">=</span><span style="color:#f60">1</span>;Q.push(<span style="color:#f60">1</span>);cnt[<span style="color:#f60">1</span>]<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>Q.empty()){
</span></span><span style="display:flex;"><span>     <span style="color:#078;font-weight:bold">int</span> x<span style="color:#555">=</span>Q.front();Q.pop();
</span></span><span style="display:flex;"><span>     <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">0</span>;i<span style="color:#555">&lt;</span>G[x].size();i<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>         <span style="color:#078;font-weight:bold">int</span> t<span style="color:#555">=</span>G[x][i];
</span></span><span style="display:flex;"><span>         <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>vis[t]){vis[t]<span style="color:#555">=</span><span style="color:#f60">1</span>;dep[t]<span style="color:#555">=</span>dep[x]<span style="color:#555">+</span><span style="color:#f60">1</span>;Q.push(t);}
</span></span><span style="display:flex;"><span>         <span style="color:#069;font-weight:bold">if</span>(dep[t]<span style="color:#555">==</span>dep[x]<span style="color:#555">+</span><span style="color:#f60">1</span>){cnt[t]<span style="color:#555">=</span>(cnt[t]<span style="color:#555">+</span>cnt[x])<span style="color:#555">%</span>MOD;}
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span> <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>N;i<span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>     printf(<span style="color:#c30">&#34;%d</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,cnt[i]);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³•äºŒï¼šSPFAç®—æ³•ï¼š</p>
<blockquote>
<p>æ›´æ–°è¾¹é•¿çš„æ—¶å€™å¦‚æœå¤§äºå·å°±è¦†ç›–ï¼Œç›¸ç­‰çš„è¯ï¼ˆå³æœ‰ç›¸åŒæœ€çŸ­è·¯å¾„ï¼‰å°±ç›¸åŠ </p>
<p>æ³¨ï¼šè‡ªç¯å’Œé‡è¾¹ä¸ä¼šå¯¹æœ¬é¢˜é€ æˆå½±å“</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> INF <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> mod <span style="color:#555">=</span> <span style="color:#f60">100003</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1000010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">2000010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h[N],e[M],ne[N],idx;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ans[N] <span style="color:#555">=</span> {<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> st[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dist[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> x,y;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    ne[idx] <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">spfa</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) dist[i] <span style="color:#555">=</span> INF;
</span></span><span style="display:flex;"><span>    dist[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span>    q.push(<span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    st[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(q.size())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q.front();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        st[t] <span style="color:#555">=</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[t]; i <span style="color:#555">!=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>; i <span style="color:#555">=</span> ne[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(dist[j] <span style="color:#555">&gt;</span> dist[t] <span style="color:#555">+</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dist[j] <span style="color:#555">=</span> dist[t] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                ans[j] <span style="color:#555">=</span> ans[t];
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[j])
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    q.push(j);
</span></span><span style="display:flex;"><span>                    st[j] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">else</span> <span style="color:#069;font-weight:bold">if</span>(dist[j] <span style="color:#555">==</span> dist[t] <span style="color:#555">+</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ans[j] <span style="color:#555">+=</span> ans[t];
</span></span><span style="display:flex;"><span>                ans[j] <span style="color:#555">%=</span> mod;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    memset(h, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#069;font-weight:bold">sizeof</span> h);
</span></span><span style="display:flex;"><span>    idx <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> x <span style="color:#555">&gt;&gt;</span> y;
</span></span><span style="display:flex;"><span>        add(x,y);
</span></span><span style="display:flex;"><span>        add(y,x);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ans[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    spfa();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> ans[i] <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p5905-æ¨¡æ¿-johnson-å…¨æºæœ€çŸ­è·¯">P5905 ã€æ¨¡æ¿ã€‘Johnson å…¨æºæœ€çŸ­è·¯</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P5905">https://www.luogu.com.cn/problem/P5905</a></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ll;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> pair<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span>,<span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> PII;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> maxn <span style="color:#555">=</span> <span style="color:#f60">9010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> inf <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h[maxn],ne[maxn],e[maxn],w[maxn],idx,n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dis[maxn],d[maxn],cnt[maxn];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> vis[maxn];
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//!ã€Johnsonç®—æ³•æ¨¡æ¿ã€‘
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b, <span style="color:#078;font-weight:bold">int</span> wi)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    w[idx] <span style="color:#555">=</span> wi;
</span></span><span style="display:flex;"><span>    ne[idx] <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//SPFAåˆ¤æ˜¯å¦æœ‰è´Ÿç¯ï¼Œå¹¶æ±‚å‡ºdis[N]æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">spfa</span> (<span style="color:#078;font-weight:bold">int</span> x) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    queue<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span>    dis[x] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    q.push(x);
</span></span><span style="display:flex;"><span>    vis[x] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    cnt[x]<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span> (<span style="color:#555">!</span>q.empty()) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> q.front();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        vis[t] <span style="color:#555">=</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[t]; i <span style="color:#555">!=</span> <span style="color:#f60">0</span>; i <span style="color:#555">=</span> ne[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span> (dis[j] <span style="color:#555">&gt;</span> dis[t] <span style="color:#555">+</span> w[i]) 
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dis[j] <span style="color:#555">=</span> dis[t] <span style="color:#555">+</span> w[i];
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span> (<span style="color:#555">!</span>vis[j]) 
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    q.push(j);
</span></span><span style="display:flex;"><span>                    vis[j] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>                    cnt[j]<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#069;font-weight:bold">if</span> (cnt[j] <span style="color:#555">&gt;</span> n)  <span style="color:#09f;font-style:italic">//åŸæ¥æ˜¯cnt[j] &gt;= n å› ä¸ºå¢åŠ äº†ä¸€ä¸ªé›¶è™šç‚¹ï¼Œè¿™é‡Œæ”¹ä¸º &gt; n
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                        <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//å †ä¼˜åŒ–ç‰ˆçš„dijkstraç®—æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dijkstra</span> (<span style="color:#078;font-weight:bold">int</span> x) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    priority_queue<span style="color:#555">&lt;</span>PII, vector<span style="color:#555">&lt;</span>PII<span style="color:#555">&gt;</span>, greater<span style="color:#555">&lt;</span>PII<span style="color:#555">&gt;&gt;</span> heap;
</span></span><span style="display:flex;"><span>    d[x] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    heap.push({<span style="color:#f60">0</span>,x});
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span> (heap.size()) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> heap.top();
</span></span><span style="display:flex;"><span>        heap.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> ver <span style="color:#555">=</span> t.second;
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> distance <span style="color:#555">=</span> t.first;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span> (vis[ver]) <span style="color:#069;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>        vis[ver] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[ver]; i <span style="color:#555">!=</span> <span style="color:#f60">0</span>; i <span style="color:#555">=</span> ne[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span> (d[j] <span style="color:#555">&gt;</span> distance <span style="color:#555">+</span> w[i]) 
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                d[j] <span style="color:#555">=</span> distance <span style="color:#555">+</span> w[i];
</span></span><span style="display:flex;"><span>                heap.push({d[j],j});
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span> () 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    memset(dis, inf, <span style="color:#069;font-weight:bold">sizeof</span>(dis));
</span></span><span style="display:flex;"><span>    memset(vis, <span style="color:#366">false</span>, <span style="color:#069;font-weight:bold">sizeof</span>(vis));
</span></span><span style="display:flex;"><span>    idx <span style="color:#555">=</span> <span style="color:#f60">1</span>;  <span style="color:#09f;font-style:italic">//æ³¨æ„æ­¤å¤„idxåº”ä»1å¼€å§‹ç¼–å·
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    scanf(<span style="color:#c30">&#34;%d %d&#34;</span>, <span style="color:#555">&amp;</span>n, <span style="color:#555">&amp;</span>m);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i<span style="color:#555">++</span>) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> u, v, wi;
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d %d %d&#34;</span>, <span style="color:#555">&amp;</span>u, <span style="color:#555">&amp;</span>v, <span style="color:#555">&amp;</span>wi);
</span></span><span style="display:flex;"><span>        add(u, v, wi);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i<span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//å»ºç«‹ä¸€ä¸ªè™šç‚¹ï¼Œæ¯ä¸ªç‚¹éƒ½è¿çº¿åˆ°è¯¥è™šç‚¹ï¼Œä¸”æƒå€¼ä¸º0
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        add(n <span style="color:#555">+</span> <span style="color:#f60">1</span>, i, <span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> flag <span style="color:#555">=</span> spfa(n <span style="color:#555">+</span> <span style="color:#f60">1</span>);<span style="color:#09f;font-style:italic">//ä»è™šç‚¹å¼€å§‹åˆ°æ¯ä¸ªç‚¹è¿›è¡Œçš„spfa
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">if</span> (<span style="color:#555">!</span>flag) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        puts(<span style="color:#c30">&#34;-1&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ä¸ºäº†è¿›è¡Œdijkstraç®—æ³•ï¼Œå¯¹åŸè¾¹æƒå€¼è¿›è¡Œçš„æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> h[i]; j <span style="color:#555">!=</span> <span style="color:#f60">0</span>; j <span style="color:#555">=</span> ne[j])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            w[j] <span style="color:#555">+=</span> dis[i] <span style="color:#555">-</span> dis[e[j]]; <span style="color:#09f;font-style:italic">// w = w + dis_i - dis_e[j]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//æ ¹æ®ä¸‰è§’å½¢ä¸ç­‰å¼ï¼Œæ–°å›¾ä¸Šä»»æ„ä¸€è¾¹(i,j)ä¸Šä¸¤ç‚¹æ»¡è¶³ dis_e[j] &lt;= dis_i + w[i,j]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//è¿™æ¡è¾¹é‡æ–°æ ‡è®°åçš„è¾¹æƒä¸ºw&#39;[i,j] = w[i,j] + dis_i - dis_e[j] &gt;= 0
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i<span style="color:#555">++</span>)  <span style="color:#09f;font-style:italic">// å¯¹1~nå·ç‚¹è¿›è¡Œdijkstraå¹¶ç»Ÿè®¡ç­”æ¡ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        memset(d, inf, <span style="color:#069;font-weight:bold">sizeof</span>(d));
</span></span><span style="display:flex;"><span>        memset(vis, <span style="color:#366">false</span>, <span style="color:#069;font-weight:bold">sizeof</span>(vis));
</span></span><span style="display:flex;"><span>        dijkstra(i);
</span></span><span style="display:flex;"><span>        ll ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span> (<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j<span style="color:#555">++</span>) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span> (d[j] <span style="color:#555">==</span> inf)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ans <span style="color:#555">+=</span> <span style="color:#f60">1ll</span> <span style="color:#555">*</span> <span style="color:#f60">1e9</span> <span style="color:#555">*</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ans <span style="color:#555">+=</span> <span style="color:#f60">1ll</span> <span style="color:#555">*</span> (d[j] <span style="color:#555">-</span> dis[i] <span style="color:#555">+</span> dis[j]) <span style="color:#555">*</span> j;  <span style="color:#09f;font-style:italic">//w = d[j] - dis[i] + dist[j]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%lld</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>, ans);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ27æ—¥">2021å¹´7æœˆ27æ—¥</h3>
<h4 id="p2758-ç¼–è¾‘è·ç¦»">P2758 ç¼–è¾‘è·ç¦»</h4>
<blockquote>
<p>åŠ¨æ€è§„åˆ’æ€æƒ³æ±‚æœ€ä¼˜åŒ–è§£</p>
<blockquote>
<p>ç¡®å®šå­é—®é¢˜ï¼šå°±æ˜¯é€šè¿‡4ç§æ“ä½œå°†str1å˜ä¸ºstr2éœ€è¦å¤šå°‘æ­¥</p>
</blockquote>
<ul>
<li>çŠ¶æ€è¡¨ç¤ºï¼š
æˆ‘ä»¬å¯ä»¥é‡‡ç”¨f[i][j]è¡¨ç¤ºï¼šä»é•¿åº¦ä¸ºiçš„str1å˜åŒ–åˆ°é•¿åº¦ä¸ºjçš„str2éœ€è¦å¤šå°‘æ­¥</li>
<li>çŠ¶æ€è®¡ç®—ï¼š
4ç§æ“ä½œï¼š
1.åˆ é™¤æ“ä½œï¼šé—®é¢˜è½¬åŒ–ä¹Ÿå°±æ˜¯ï¼Œstr1çš„å‰i-1ä¸ªå­—ç¬¦å˜ä¸ºstr2çš„å‰jä¸ªéœ€è¦å¤šå°‘æ­¥ï¼ˆæŠŠå­—ç¬¦ä¸²çš„ç¬¬iä¸ªå­—ç¬¦ï¼ˆæœ€åä¸€ä¸ªï¼‰åˆ é™¤äº†ï¼‰ï¼Œè¿™ä¸€æ­¥çš„æ“ä½œéœ€è¦ä¸€æ­¥+1ï¼›dp[i-1][j]+1
2.æ·»åŠ æ“ä½œï¼šå°†str2å­—ç¬¦åœ¨str1å­—ç¬¦ä¸²çš„æœ€åé¢æ·»åŠ ï¼Œå¯ä»¥ç†è§£ä¸ºå°†str2[j]åˆ é™¤ï¼ˆå› ä¸ºstr2[j]ä¸å¿…å†è€ƒè™‘äº†ï¼‰ dp[i][j-1]+1
3.æ›¿æ¢æ“ä½œï¼šstr1å‰i-1ä¸ªå­—ç¬¦å˜æˆstr2çš„å‰j-1ä¸ªéœ€è¦å¤šå°‘æ­¥ dp[i-1][j-1] + 1;
4.ä¸å˜çš„æƒ…å†µï¼šå¦‚æœstr1çš„i-1å’Œstr2çš„j-1ç›¸åŒçš„è¯ï¼Œé‚£ä¹ˆæ— éœ€è¿›è¡Œæ“ä½œ</li>
</ul>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">3010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f2[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">char</span> str1[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">char</span> str2[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> str1_len;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> str2_len;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//é€’æ¨
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">dp</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> str1_len; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[i][<span style="color:#f60">0</span>] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> str2_len; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[<span style="color:#f60">0</span>][i] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ğŸ‘†å¦‚æœæŸä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸º0çš„è¯ï¼Œé‚£ä¹ˆæ›´æ–°çš„æ¬¡æ•°å°±æ˜¯å¢åŠ iæˆ–jä¸ª
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> str1_len; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> str2_len; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(str1[i <span style="color:#555">-</span> <span style="color:#f60">1</span>] <span style="color:#555">==</span> str2[j <span style="color:#555">-</span> <span style="color:#f60">1</span>])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                f[i][j] <span style="color:#555">=</span> f[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j<span style="color:#555">-</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            f[i][j] <span style="color:#555">=</span> min(min(f[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j],f[i][j<span style="color:#555">-</span><span style="color:#f60">1</span>]),f[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j<span style="color:#555">-</span><span style="color:#f60">1</span>])<span style="color:#555">+</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//è¿™é‡Œæ˜¯æŒ‡åœ¨ä¸‰ç§æƒ…å†µä¸‹å»æœ€å°çš„æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//1.åˆ é™¤: f[i-1][j]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//2.å¢åŠ : f[i][j-1]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//3.æ›¿æ¢: f[i-1][j-1]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//é€’å½’
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">int dp2(int i, int j) //ä»iå˜æˆjéœ€è¦å¤šå°‘æ­¥
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">{
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(f2[i][j] != -1) return f2[i][j];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(i == 0) return f2[i][j] = j;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(j == 0) return f2[i][j] = i;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    int bonus = 1; //æ˜¯ä¸ºäº†åˆ¤æ–­æ›¿æ¢æ“ä½œæ˜¯å¦éœ€è¦æ›´æ”¹ï¼Œä¸º1è¡¨ç¤ºéœ€è¦æ”¹1æ¬¡ï¼Œä¸º0è¡¨ç¤ºæ— éœ€æ›´æ”¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(str1[i] == str2[j]) bonus = 0;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    return f2[i][j] = min(min(dp2(i-1, j)+1 ,dp2(i, j-1)+1),dp2(i-1,j-1)+bonus);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">}
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    memset(f2,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#069;font-weight:bold">sizeof</span> f2);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> str1;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> str2;
</span></span><span style="display:flex;"><span>    str1_len <span style="color:#555">=</span> strlen(str1);
</span></span><span style="display:flex;"><span>    str2_len <span style="color:#555">=</span> strlen(str2);
</span></span><span style="display:flex;"><span>    dp();
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//dp2(str1_len,str2_len);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    cout <span style="color:#555">&lt;&lt;</span> f[str1_len][str2_len] <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//cout &lt;&lt; f2[str1_len][str2_len] &lt;&lt; endl;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1002-noip2002-æ™®åŠç»„-è¿‡æ²³å’">P1002 [NOIP2002 æ™®åŠç»„] è¿‡æ²³å’</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1002">https://www.luogu.com.cn/problem/P1002</a></p>
</blockquote>
<blockquote>
<p>åŠ¨æ€è§„åˆ’DPé€’æ¨å¼ï¼š</p>
<p>æ˜“äºå‘ç°ï¼šä»(0,0)åˆ°(n,m)çš„è·¯å¾„æ•°é‡ä¸º
n,mçš„å·¦ç‚¹çš„æ•°é‡+n,mçš„ä¸Šç‚¹æ•°é‡</p>
<p>æ•…æ­¤a[n,m] = a[n-1][m] + a[n][m-1]</p>
<p><code>æ³¨æ„å·§å¦™å»è¿›è¡Œæ ‡è®°é©¬çš„ä½ç½®ğŸ</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#define MAXN 110
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#078;font-weight:bold">bool</span> b[MAXN][MAXN]; <span style="color:#09f;font-style:italic">//æ›´ç®€æ´çš„æ ‡è®°æ–¹æ³•ï¼Œbæ•°ç»„æ ‡è®°æ­¤å¤„æ˜¯å¦è¢«æ ‡è®°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> a[MAXN][MAXN];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">8</span>]<span style="color:#555">=</span>{<span style="color:#f60">2</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">2</span>}; <span style="color:#09f;font-style:italic">//é©¬çš„æ—¥å­—ç§»åŠ¨æ–¹å‘æ ‡è®°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">8</span>]<span style="color:#555">=</span>{<span style="color:#f60">1</span>,<span style="color:#f60">2</span>,<span style="color:#f60">2</span>,<span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">2</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m,x,y;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>	cin<span style="color:#555">&gt;&gt;</span>n<span style="color:#555">&gt;&gt;</span>m<span style="color:#555">&gt;&gt;</span>x<span style="color:#555">&gt;&gt;</span>y;
</span></span><span style="display:flex;"><span>	memset(b,<span style="color:#f60">0</span>,<span style="color:#069;font-weight:bold">sizeof</span>(b));
</span></span><span style="display:flex;"><span>	b[x][y]<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">0</span>;i<span style="color:#555">&lt;=</span><span style="color:#f60">7</span>;i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(x<span style="color:#555">+</span>dx[i]<span style="color:#555">&gt;=</span><span style="color:#f60">0</span><span style="color:#555">&amp;&amp;</span>x<span style="color:#555">+</span>dx[i]<span style="color:#555">&lt;=</span>n<span style="color:#555">&amp;&amp;</span>y<span style="color:#555">+</span>dy[i]<span style="color:#555">&gt;=</span><span style="color:#f60">0</span><span style="color:#555">&amp;&amp;</span>y<span style="color:#555">+</span>dy[i]<span style="color:#555">&lt;=</span>m) <span style="color:#09f;font-style:italic">//æ ‡è®°é©¬
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            b[x<span style="color:#555">+</span>dx[i]][y<span style="color:#555">+</span>dy[i]]<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">int</span> k<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>b[k][<span style="color:#f60">0</span>]<span style="color:#555">&amp;&amp;</span>k<span style="color:#555">&lt;=</span>n) <span style="color:#09f;font-style:italic">//æ¨ªçº¿åªæœ‰ä¸€ç§æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>		a[k<span style="color:#555">++</span>][<span style="color:#f60">0</span>]<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">int</span> l<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">while</span>(<span style="color:#555">!</span>b[<span style="color:#f60">0</span>][l]<span style="color:#555">&amp;&amp;</span>l<span style="color:#555">&lt;=</span>m) <span style="color:#09f;font-style:italic">//çºµå‘ä¹Ÿæ˜¯åªæœ‰ä¸€ç§æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>		a[<span style="color:#f60">0</span>][l<span style="color:#555">++</span>]<span style="color:#555">=</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j<span style="color:#555">=</span><span style="color:#f60">1</span>;j<span style="color:#555">&lt;=</span>m;j<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(b[i][j])<span style="color:#09f;font-style:italic">// å¦‚æœæœ‰é©¬è¢«æ ‡è®°çš„è¯ï¼Œé‚£ä¹ˆç½®æ­¤å¤„çš„å€¼ä¸º0
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>				a[i][j]<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>				a[i][j]<span style="color:#555">=</span>a[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j]<span style="color:#555">+</span>a[i][j<span style="color:#555">-</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cout<span style="color:#555">&lt;&lt;</span>a[n][m];
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1434-shoi2002-æ»‘é›ª">P1434 [SHOI2002]æ»‘é›ª</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1434">https://www.luogu.com.cn/problem/P1434</a></p>
</blockquote>
<blockquote>
<p>æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢ï¼š</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">210</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dp[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">4</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>, <span style="color:#f60">0</span>, <span style="color:#f60">1</span>, <span style="color:#555">-</span><span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">4</span>] <span style="color:#555">=</span> {<span style="color:#f60">1</span>, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#f60">0</span>, <span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(dp[x][y]) <span style="color:#069;font-weight:bold">return</span> dp[x][y]; <span style="color:#09f;font-style:italic">//è®°å¿†åŒ–ï¼Œå·²ç»è®°å½•è¿‡äº†çš„è¯ï¼Œç›´æ¥è¿”å›
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    dp[x][y] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;</span> <span style="color:#f60">4</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> x <span style="color:#555">+</span> dx[i];
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> y <span style="color:#555">+</span> dy[i];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(nx <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> nx <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&lt;=</span> m <span style="color:#555">&amp;&amp;</span> a[x][y] <span style="color:#555">&gt;</span> a[nx][ny])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            dfs(nx,ny);
</span></span><span style="display:flex;"><span>            dp[x][y] <span style="color:#555">=</span> max(dp[x][y], dp[nx][ny] <span style="color:#555">+</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> dp[x][y];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#555">&gt;&gt;</span> a[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">=</span> max(ans, dfs(i,j));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ–¹æ³•äºŒï¼šçº¿æ€§DP</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">110000</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">4</span>]<span style="color:#555">=</span>{<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">0</span>,<span style="color:#f60">0</span>,<span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">4</span>]<span style="color:#555">=</span>{<span style="color:#f60">0</span>,<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">1</span>,<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x,y,h;
</span></span><span style="display:flex;"><span>}P[M]; <span style="color:#09f;font-style:italic">//å¤ªç²—å¿ƒäº†ï¼ŒPæ˜¯ç‚¹æ•°ï¼Œåº”è¯¥è¾¾åˆ°maxMä¸ªï¼Œå¯¼è‡´REå¥½å‡ æ¬¡ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">cmp</span>(node <span style="color:#555">&amp;</span>a, node <span style="color:#555">&amp;</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> a.h <span style="color:#555">&lt;</span> b.h;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> id <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> m; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#555">&gt;&gt;</span> a[i][j];
</span></span><span style="display:flex;"><span>            P[id].x <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>            P[id].y <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            P[id].h <span style="color:#555">=</span> a[i][j];
</span></span><span style="display:flex;"><span>            f[i][j] <span style="color:#555">=</span> <span style="color:#f60">1</span>; <span style="color:#09f;font-style:italic">//é¢˜ç›®æœ‰è¦æ±‚åŒ…æ‹¬è‡ªå·±è¿™ä¸ªç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            id<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    sort(P,P<span style="color:#555">+</span>id,cmp);
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è¿™é‡Œéœ€è¦å°†é«˜åº¦è¿›è¡Œæ’åºï¼Œä»æœ€ä½çš„é«˜åº¦å¼€å§‹è¿›è¡Œå¤„ç†ï¼Œè¿™æ ·æ˜¯ä¸ºäº†æ»¡è¶³DPçš„åæ•ˆæ€§ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//å¦‚æœä¸è¿›è¡Œå¤„ç†çš„è¯ï¼Œå‰é¢å‡ºç°è¿‡çš„ç»“æœå¯èƒ½ä¼šå½±å“åé¢çš„ç»“æœã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#09f;font-style:italic">//åæ•ˆæ€§ï¼šè®¡ç®—èƒ½å¤Ÿ*æŒ‰é¡ºåºã€ä¸é‡å¤åœ°è¿›è¡Œ*ï¼ŒåŠ¨æ€è§„åˆ’è¦æ±‚å·²ç»æ±‚è§£çš„å­é—®é¢˜ä¸å—åç»­é˜¶æ®µçš„å½±å“ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;</span> id; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> x <span style="color:#555">=</span> P[i].x, y <span style="color:#555">=</span> P[i].y;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">0</span>; j <span style="color:#555">&lt;</span> <span style="color:#f60">4</span>; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> nx <span style="color:#555">=</span> x <span style="color:#555">+</span> dx[j];
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> ny <span style="color:#555">=</span> y <span style="color:#555">+</span> dy[j];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(nx <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> nx <span style="color:#555">&lt;=</span> n <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&gt;</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> ny <span style="color:#555">&lt;=</span> m <span style="color:#555">&amp;&amp;</span> a[nx][ny] <span style="color:#555">&lt;</span> a[x][y]) <span style="color:#09f;font-style:italic">//å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ï¼Œå¦‚æœå‘ç°æ›´ä½çš„è¯ï¼Œé‚£ä¹ˆf[x][y]è¿›è¡Œæ›´æ–°ï¼Œæ‰¾æ›´å¤§çš„ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>                f[x][y] <span style="color:#555">=</span> max(f[x][y], f[nx][ny] <span style="color:#555">+</span> <span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> max(ans, f[x][y]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1439-æ¨¡æ¿-æœ€é•¿å…¬å…±å­åºåˆ—">P1439 ã€æ¨¡æ¿ã€‘æœ€é•¿å…¬å…±å­åºåˆ—</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1439">https://www.luogu.com.cn/problem/P1439</a></p>
</blockquote>
<blockquote>
<ol>
<li>å¦‚æœA[i]å’ŒB[j]ç›¸åŒï¼Œä¹Ÿå°±æ˜¯æœ‰äº†æ–°çš„å…¬å…±å…ƒç´ ã€‚
é‚£ä¹ˆï¼š dp[i][j] = max(dp[i][j], dp[i-1][j-1] + 1)</li>
<li>å¦‚æœä¸ç›¸åŒçš„è¯ï¼Œæ— æ³•æ›´æ–°å…¬å…±å…ƒç´ ï¼Œé‚£ä¹ˆåªèƒ½è€ƒè™‘å»ç»§æ‰¿
é‚£ä¹ˆé€‰æ‹©ç»§æ‰¿å…¶ä¸­æœ€å¤§çš„é‚£ä¸ªdp[i][j] = max(dp[i-1][j], dp[i][j-1])</li>
</ol>
<p>ä½†æ˜¯è¯¥é¢˜å¡äº†æ•°æ®ï¼Œæ•°æ®é‡å·¨å¤§ï¼Œå¦‚æœé‡‡ç”¨åŸå§‹æ–¹æ³•$O(n^2)$çš„æ—¶é—´å¤æ‚åº¦ 10^5çš„æ•°æ®ç»å¯¹ä¼šçˆ†</p>
</blockquote>
<blockquote>
<p>ä»”ç»†è§‚å¯Ÿè¯¥é¢˜
P1å’ŒP2å…¶å®å°±æ˜¯ä¸¤ä¸ªå…¨æ’åˆ—çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯æ„å‘³ç€P1,P2ä¸¤ä¸ªæ•°ç»„å…ƒç´ éƒ½ç›¸åŒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯æ’åˆ—é¡ºåº</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ä¸å¦¨æˆ‘ä»¬ä»¥P1æ•°ç»„ä¸ºåŸºå‡†
</span></span><span style="display:flex;"><span>3 2 1 4 5
</span></span><span style="display:flex;"><span>é‡æ–°ç¼–å·ä¸º
</span></span><span style="display:flex;"><span>a b c d e
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>è€ŒP2æ•°ç»„
</span></span><span style="display:flex;"><span>1 2 3 4 5
</span></span><span style="display:flex;"><span>å°±å˜æˆäº†
</span></span><span style="display:flex;"><span>c b a d e
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>å¼€ä¸€ä¸ªmapé‡æ–°æ˜ å°„P1æ•°ç»„çš„å…ƒç´ 
</span></span><span style="display:flex;"><span>å› ä¸ºP1æ•°ç»„æ˜ å°„åæ˜¯ä¸€ä¸ªä¸¥æ ¼é€’å¢çš„æ•°ç»„
</span></span><span style="display:flex;"><span>æ•…æ­¤æˆ‘ä»¬ä¹Ÿå°±æ˜¯ä»¥P1ä¸ºåŸºå‡†ï¼Œåœ¨P2ä¸­æ‰¾å…¶æœ€é•¿é€’å¢åºåˆ—
</span></span><span style="display:flex;"><span>ç”±æ­¤ä»LCSé—®é¢˜è½¬åŒ–æˆäº†LISé—®é¢˜
</span></span><span style="display:flex;"><span>//æ³¨æ„å¾—ç”¨nlognäºŒåˆ†ä¼˜åŒ–çš„æ–¹å¼å»æ±‚è§£è¯¥LISé—®é¢˜
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N],b[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> m[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N]; <span style="color:#09f;font-style:italic">//å°†æ­¤é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªLISé—®é¢˜ï¼ˆæ±‚æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//çŠ¶æ€è¡¨ç¤º f[i,j]è¡¨ç¤ºA[1~i] B[1~j]çš„åºåˆ—çš„æœ€é•¿å…¬å…±åºåˆ—é•¿åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin<span style="color:#555">&gt;&gt;</span>a[i];
</span></span><span style="display:flex;"><span>        m[a[i]] <span style="color:#555">=</span> i; <span style="color:#09f;font-style:italic">//mæ•°ç»„æ˜ å°„aæ•°ç»„ä¸­çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin<span style="color:#555">&gt;&gt;</span>b[j];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    f[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">// LISé—®é¢˜çš„äºŒåˆ†æ¨¡æ¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> l <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> r <span style="color:#555">=</span> len;
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> mid;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(m[b[i]] <span style="color:#555">&gt;</span> f[len]) f[<span style="color:#555">++</span>len] <span style="color:#555">=</span> m[b[i]];
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">while</span>(l <span style="color:#555">&lt;</span> r)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                mid <span style="color:#555">=</span> l <span style="color:#555">+</span> r <span style="color:#555">&gt;&gt;</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(f[mid] <span style="color:#555">&gt;</span> m[b[i]]) r <span style="color:#555">=</span> mid;
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">else</span> l <span style="color:#555">=</span> mid <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            f[l] <span style="color:#555">=</span> m[b[i]];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> len;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1091-noip2004-æé«˜ç»„-åˆå”±é˜Ÿå½¢">P1091 [NOIP2004 æé«˜ç»„] åˆå”±é˜Ÿå½¢</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1091">https://www.luogu.com.cn/problem/P1091</a></p>
</blockquote>
<blockquote>
<p>é¦–å…ˆæ­£å‘è¿›è¡Œä¸€æ¬¡æ±‚æœ€é•¿é€’å¢å­åºåˆ—ï¼Œ</p>
<p>ç„¶åé€†å‘å†æ±‚ä¸€æ¬¡æœ€é•¿é€’å¢å­åºåˆ—</p>
<p>æ±‚ä¸¤æ¬¡ï¼š 1<del>ti é€’å¢ | ti</del>né€’å‡</p>
<p>!TIP: æ³¨æ„èµ‹åˆå€¼
è§£é‡Šï¼š F[i] è¡¨ç¤ºä»¥æŸä¸ªäººä¸º$t_i$â€‹åˆå”±é˜Ÿçš„äººæ•°é•¿åº¦
è·å–ä¸€æ¬¡æœ€é•¿é€’å¢åºåˆ—å’Œä¸€æ¬¡æœ€é•¿é€’å‡åºåˆ—</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ä¾‹å¦‚ï¼š
</span></span><span style="display:flex;"><span>186 186 150 200 160 130 197 220
</span></span><span style="display:flex;"><span>1   1   1   2   2   1   3   4   &lt;---æœ€é•¿é€’å¢åºåˆ—F1[i]
</span></span><span style="display:flex;"><span>3   3   2   3   2   1   1   1   &lt;---æœ€é•¿é€’å‡åºåˆ—F2[i]
</span></span><span style="display:flex;"><span>3   3   2   4   3   1   3   4   &lt;---ä»¥ç¬¬iä¸ªå…ƒç´ ä¸ºTiï¼Œæ­¤æ—¶åˆå”±å›¢çš„äººæ•°é•¿åº¦F1[i]+F2[i]-1
</span></span><span style="display:flex;"><span>										æ³¨æ„è¦å‡å»1ï¼Œå› ä¸ºå…¶ä¸­ç¬¬iä¸ªå…ƒç´ è¢«åŠ äº†2æ¬¡
</span></span><span style="display:flex;"><span>ç›®æ ‡ï¼šmax{N - (F1[i] + F2[i] - 1)}
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> b[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f1[N],f2[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">LIS</span>(<span style="color:#078;font-weight:bold">int</span> x, <span style="color:#078;font-weight:bold">int</span> w[], <span style="color:#078;font-weight:bold">int</span> f[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> x; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[i] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> i; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(w[j] <span style="color:#555">&lt;</span> w[i] <span style="color:#555">&amp;&amp;</span> f[j] <span style="color:#555">+</span> <span style="color:#f60">1</span> <span style="color:#555">&gt;</span> f[i])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                f[i] <span style="color:#555">=</span> f[i] <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    a[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    b[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        b[i] <span style="color:#555">=</span> a[n<span style="color:#555">-</span>i<span style="color:#555">+</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    LIS(n,a,f1);
</span></span><span style="display:flex;"><span>    LIS(n,b,f2);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> max(f1[i]<span style="color:#555">+</span>f2[n<span style="color:#555">-</span>i<span style="color:#555">+</span><span style="color:#f60">1</span>]<span style="color:#555">-</span><span style="color:#f60">1</span>,ans);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> n <span style="color:#555">-</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ28æ—¥">2021å¹´7æœˆ28æ—¥</h3>
<h4 id="p1833-æ¨±èŠ±">P1833 æ¨±èŠ±</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1833">https://www.luogu.com.cn/problem/P1833</a></p>
</blockquote>
<blockquote>
<p>æ··åˆèƒŒåŒ…é—®é¢˜</p>
<p>å¦‚æœé‡åˆ°å¯ä»¥æ— é™æ¬¡ä½¿ç”¨çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥è½¬åŒ–ä¸ºå®Œå…¨èƒŒåŒ…</p>
<p>ä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥å°†é‡Œé¢çš„å…ƒç´ è¿›è¡Œæ‹†åˆ†ï¼Œnå…ƒç´ å¯ä»¥æ‹†åˆ†ä¸ºlog(n)ä¸ªäºŒè¿›åˆ¶æ‹†åˆ†å…ƒç´ </p>
<p>å¯¹äºå…¶ä¸­çš„å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼Œå¯ä»¥å°†å…¶æ‹†åˆ†æ¬¡æ•°æ ‡è®°ä¸º999999æ¬¡</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">1000010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> nx,ny,ex,ey,n,f[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[<span style="color:#f60">10005</span>],b[<span style="color:#f60">10005</span>],c[<span style="color:#f60">10005</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> tp,co[M],v[M];
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//co[M],v[M]å­˜æ”¾æ‹†åˆ†åçš„æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">pre</span>() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>;i <span style="color:#555">&lt;=</span> n;i <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//æ‹†åˆ†æ¯ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> <span style="color:#f60">1</span>; <span style="color:#09f;font-style:italic">//ç”¨tæ¥è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>		<span style="color:#069;font-weight:bold">while</span>(c[i]) <span style="color:#09f;font-style:italic">//ç›´åˆ°c[i]è¿˜èƒ½æ‹†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>			co[<span style="color:#555">++</span>tp] <span style="color:#555">=</span> t<span style="color:#555">*</span>a[i];
</span></span><span style="display:flex;"><span>			v[tp] <span style="color:#555">=</span> t<span style="color:#555">*</span>b[i];
</span></span><span style="display:flex;"><span>			c[i] <span style="color:#555">-=</span> t; t <span style="color:#555">*=</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#069;font-weight:bold">if</span>(c[i] <span style="color:#555">&lt;</span> t) <span style="color:#09f;font-style:italic">//å¦‚æœå‰©ä¸‹çš„ä¸èƒ½å†æ‹†äº†ï¼Œé‚£ä¹ˆå°±ç›´æ¥æ”¾è¿›å»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>				co[<span style="color:#555">++</span>tp] <span style="color:#555">=</span> a[i]<span style="color:#555">*</span>c[i];
</span></span><span style="display:flex;"><span>				v[tp] <span style="color:#555">=</span> b[i]<span style="color:#555">*</span>c[i];
</span></span><span style="display:flex;"><span>				<span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#c30">&#34;%d:%d%d:%d%d&#34;</span>,<span style="color:#555">&amp;</span>nx,<span style="color:#555">&amp;</span>ny,<span style="color:#555">&amp;</span>ex,<span style="color:#555">&amp;</span>ey,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>	<span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> (ex<span style="color:#555">*</span><span style="color:#f60">60</span><span style="color:#555">+</span>ey) <span style="color:#555">-</span> (nx<span style="color:#555">*</span><span style="color:#f60">60</span><span style="color:#555">+</span>ny);
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#c30">&#34;%d%d%d&#34;</span>,<span style="color:#555">&amp;</span>a[i],<span style="color:#555">&amp;</span>b[i],<span style="color:#555">&amp;</span>c[i]);
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>c[i]) c[i] <span style="color:#555">=</span> <span style="color:#f60">999999</span>; <span style="color:#09f;font-style:italic">//å¦‚æœçœ‹çš„æ¬¡æ•°ä¸º0çš„è¯ï¼Œè¡¨ç¤ºæ— é™æ¬¡ï¼Œå¯ä»¥å½“ä½œå®Œå…¨èƒŒåŒ…é—®é¢˜
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	}
</span></span><span style="display:flex;"><span>	pre();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è¿›è¡Œ0/1èƒŒåŒ…å¤„ç†ğŸ‘‡ä¸‹é¢æ˜¯0/1èƒŒåŒ…æ¨¡æ¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> tp; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> t; j <span style="color:#555">&gt;=</span> co[i]; j <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>			f[j] <span style="color:#555">=</span> max(f[j], f[j <span style="color:#555">-</span> co[i]] <span style="color:#555">+</span> v[i]);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	printf(<span style="color:#c30">&#34;%d&#34;</span>, f[t]);
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1776-å®ç‰©ç­›é€‰">P1776 å®ç‰©ç­›é€‰</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1776">https://www.luogu.com.cn/problem/P1776</a></p>
</blockquote>
<blockquote>
<p>è¿™æ˜¯ä¸€é“å¤šé‡èƒŒåŒ…çš„æ¨¡æ¿é¢˜
æ•°æ®é‡å¤ªå¤§äº†ï¼Œæ•…æ­¤éœ€è¦ç”¨åˆ°äºŒè¿›åˆ¶æ‹†åˆ†</p>
<blockquote>
<p>å½“ç„¶è¿˜å¯ä»¥å†è¿›ä¸€æ­¥ä¼˜åŒ–â€”â€”é‡‡ç”¨å•è°ƒé˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;vector&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">150</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">1e7</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,w;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N],b[N],c[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> tp,m[M],v[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[M];
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> v;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> w;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d&#34;</span>, <span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>w);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> a[i] <span style="color:#555">&gt;&gt;</span> b[i] <span style="color:#555">&gt;&gt;</span> c[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    vector<span style="color:#555">&lt;</span>node<span style="color:#555">&gt;</span> pv;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> <span style="color:#f60">1</span>; k <span style="color:#555">&lt;=</span> c[i]; k <span style="color:#555">*=</span> <span style="color:#f60">2</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            c[i] <span style="color:#555">-=</span> k;
</span></span><span style="display:flex;"><span>            pv.push_back({a[i]<span style="color:#555">*</span>k,b[i]<span style="color:#555">*</span>k});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(c[i] <span style="color:#555">&gt;</span> <span style="color:#f60">0</span>) pv.push_back({a[i]<span style="color:#555">*</span>c[i],b[i]<span style="color:#555">*</span>c[i]});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#069;font-weight:bold">auto</span> <span style="color:#99f">p</span>:pv)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> w; j <span style="color:#555">&gt;=</span> p.w; j <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            f[j] <span style="color:#555">=</span> max(f[j], f[j <span style="color:#555">-</span> p.w] <span style="color:#555">+</span> p.v);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%d&#34;</span>,f[w]);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ29æ—¥">2021å¹´7æœˆ29æ—¥</h3>
<h4 id="p1433-åƒå¥¶é…ª-çŠ¶æ€å‹ç¼©dp">P1433 åƒå¥¶é…ª[çŠ¶æ€å‹ç¼©DP]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1433">https://www.luogu.com.cn/problem/P1433</a></p>
</blockquote>
<blockquote>
<p>å®šä¹‰ä¸€ä¸‹F[i][j] è¡¨ç¤ºåœ¨iç‚¹ç»è¿‡jä¸­çš„ç‚¹çš„é›†åˆï¼Œèµ°è¿‡çš„æœ€çŸ­çš„è·ç¦»</p>
<p>s[i][j] è¡¨ç¤º ä»iåˆ°jçš„ç›´çº¿è·ç¦»
<code>memset(f, 127, sizeof f) --&gt; å¯ä»¥ç”¨æ¥ä¸ºæµ®ç‚¹æ•°èµ‹æå¤§å€¼</code></p>
<p>ç”±äºåˆ°è¾¾ç¬¬iå—å¥¶é…ªæ—¶ï¼Œä¸­é—´åªä¼šç»è¿‡iï¼Œå°±æ˜¯åŸç‚¹åˆ°ç¬¬iå—å¥¶é…ªçš„è·ç¦»ï¼Œæ•…æ­¤è¦è¿›è¡Œåˆå§‹åŒ–ä¸ºf[i][(1&laquo;(i-1))] = s[0][i]</p>
<p>ç„¶åå¼€å§‹ä¸‰é‡å¾ªç¯ï¼Œæšä¸¾æ‰€æœ‰çš„çŠ¶æ€ã€å½“å‰ç‚¹æ‰€åœ¨çš„ä½ç½®å’Œèƒ½åœ¨å½“å‰çŠ¶æ€ä¸‹åˆ°è¾¾å½“å‰ç‚¹çš„ä½ç½®</p>
<p>åœ¨ç¬¬äºŒå±‚å¾ªç¯ä¸­è¦åˆ¤æ–­ä¸€ä¸‹ iåœ¨å½“å‰äºŒè¿›åˆ¶çŠ¶æ€ä¸‹æ˜¯å¦å·²èµ°è¿‡ï¼Œå¦‚æœæ ¹æœ¬æ²¡èµ°è¿‡åˆ™ä¸éœ€è¦è¿›è¡Œæ¥ä¸‹æ¥çš„è®¡ç®—ï¼Œç›´æ¥continueå°±å¯ä»¥ã€‚</p>
<p>åœ¨ç¬¬ä¸‰å±‚è¿ç®—ä¸­åŒæ ·è¦åˆ¤æ–­å½“å‰ç‚¹æ˜¯å¦å·²èµ°è¿‡ï¼Œä¸”å½“å‰ç‚¹ä¸ä¸ iç‚¹ç›¸åŒã€‚</p>
<p>ç„¶åå¼€å§‹è¿›è¡ŒçŠ¶æ€è½¬ç§»:$F_{i,k}=min(F_{i,k},\ F_{j,k-2^{i-1}}+S_{i,j})$â€‹
<code>f[j][k - (1 &lt;&lt; (i - 1))] è¡¨ç¤ºåœ¨jç‚¹ä¸”æ²¡æœ‰èµ°è¿‡iç‚¹çš„æœ€çŸ­è·ç¦» s[i][j]æ˜¯iåˆ°jçš„è·ç¦»</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">20</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> x[M],y[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> s[<span style="color:#f60">20</span>][<span style="color:#f60">20</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> f[M][N]; <span style="color:#09f;font-style:italic">//è¿™æ˜¯çŠ¶æ€å‹ç¼©æ•°ç»„ï¼Œè¡¨ç¤ºåœ¨ç¬¬iä¸ªç‚¹ä¸Šï¼Œèµ°è¿‡çš„äºŒè¿›åˆ¶çŠ¶æ€çš„åè¿›åˆ¶è¡¨è¾¾ä¸ºjæ—¶ï¼Œæœ€çŸ­çš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> <span style="color:#c0f">cal</span>(<span style="color:#078;font-weight:bold">double</span> x1, <span style="color:#078;font-weight:bold">double</span> y1, <span style="color:#078;font-weight:bold">double</span> x2, <span style="color:#078;font-weight:bold">double</span> y2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> sqrt((x1<span style="color:#555">-</span>x2)<span style="color:#555">*</span>(x1<span style="color:#555">-</span>x2)<span style="color:#555">+</span>(y1<span style="color:#555">-</span>y2)<span style="color:#555">*</span>(y1<span style="color:#555">-</span>y2));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>,<span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lf%lf&#34;</span>,<span style="color:#555">&amp;</span>x[i],<span style="color:#555">&amp;</span>y[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è®¡ç®—ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    x[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    y[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            s[i][j] <span style="color:#555">=</span> cal(x[i], y[i], x[j], y[j]);
</span></span><span style="display:flex;"><span>            s[j][i] <span style="color:#555">=</span> s[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//!
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    memset(f, <span style="color:#f60">127</span>, <span style="color:#069;font-weight:bold">sizeof</span> f); <span style="color:#09f;font-style:italic">//æµ®ç‚¹æ•°æ— ç©·å¤§èµ‹å€¼æ–¹å¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#078;font-weight:bold">double</span> ans <span style="color:#555">=</span> f[<span style="color:#f60">0</span>][<span style="color:#f60">0</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f[i][(<span style="color:#f60">1</span> <span style="color:#555">&lt;&lt;</span> (i <span style="color:#555">-</span> <span style="color:#f60">1</span>))] <span style="color:#555">=</span> s[<span style="color:#f60">0</span>][i]; <span style="color:#09f;font-style:italic">// å¦‚æœåœ¨iç‚¹ä¸Šï¼Œä¸”åªç»è¿‡iç‚¹çš„æƒ…å†µä¸‹çš„è·ç¦»å°±æ˜¯åŸç‚¹åˆ°iç‚¹çš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> maxn <span style="color:#555">=</span> <span style="color:#f60">1</span> <span style="color:#555">&lt;&lt;</span> n; <span style="color:#09f;font-style:italic">//ä¸€å…±æœ‰2^nä¸ªé›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> <span style="color:#f60">1</span>; k <span style="color:#555">&lt;</span> maxn; k <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//å°†æ‰€æœ‰äºŒè¿›åˆ¶æƒ…å†µè¿›è¡Œæšä¸¾
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>((k <span style="color:#555">&amp;</span> (<span style="color:#f60">1</span> <span style="color:#555">&lt;&lt;</span> (i <span style="color:#555">-</span> <span style="color:#f60">1</span>))) <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">continue</span>; <span style="color:#09f;font-style:italic">//å¦‚æœiè¿˜æ²¡æœ‰èµ°è¿‡çš„è¯ï¼Œåˆ™è·³è¿‡ï¼ˆè¿™é‡Œçš„ä½è¿ç®—è¡¨ç¤º çš„æ˜¯iä¸åœ¨kè¿™ä¸ªé›†åˆä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(i <span style="color:#555">==</span> j) <span style="color:#069;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>((k <span style="color:#555">&amp;</span> (<span style="color:#f60">1</span> <span style="color:#555">&lt;&lt;</span> (j <span style="color:#555">-</span> <span style="color:#f60">1</span>))) <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">continue</span>; <span style="color:#09f;font-style:italic">//jä¸åœ¨kè¿™ä¸ªé›†åˆä¸­çš„è¯
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>
</span></span><span style="display:flex;"><span>                f[i][k] <span style="color:#555">=</span> min(f[i][k], f[j][k <span style="color:#555">-</span> (<span style="color:#f60">1</span> <span style="color:#555">&lt;&lt;</span> (i <span style="color:#555">-</span> <span style="color:#f60">1</span>))] <span style="color:#555">+</span> s[i][j]);
</span></span><span style="display:flex;"><span>                <span style="color:#09f;font-style:italic">//f[j][k - (1 &lt;&lt; (i - 1))] è¡¨ç¤ºåœ¨jç‚¹ä¸”æ²¡æœ‰èµ°è¿‡iç‚¹çš„æœ€çŸ­è·ç¦» s[i][j]æ˜¯iåˆ°jçš„è·ç¦»
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> min(ans, f[i][maxn <span style="color:#555">-</span> <span style="color:#f60">1</span>]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%.2lf&#34;</span>,ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1880-noi1995-çŸ³å­åˆå¹¶">P1880 [NOI1995] çŸ³å­åˆå¹¶</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1880">https://www.luogu.com.cn/problem/P1880</a></p>
</blockquote>
<blockquote>
<p>åŒºé—´DPçš„æ¨¡æ¿é¢˜ã€‚è¯¥é¢˜ç»¼åˆè¿ç”¨äº†ä¸€äº›æŠ€å·§
1.åŒºé—´DPçš„æœ€å¤§å’Œæœ€å°
2.ç¯å½¢åŒºé—´&ndash;&gt;æ‹†ä¸ºé“¾</p>
</blockquote>
<p><code>è®°å¿†åŒ–æœç´¢æ–¹å¼ or DPå¾ªç¯</code></p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1100</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[<span style="color:#f60">2</span><span style="color:#555">*</span>N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> s[<span style="color:#f60">2</span><span style="color:#555">*</span>N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f1[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f2[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//?è®°å¿†åŒ–æœç´¢çš„DPé€’å½’æ–¹å¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">int dfs1(int L,int R){                //æ±‚å‡ºæœ€å°å¾—åˆ† 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(f1[L][R])return f1[L][R];    //å·²ä¿å­˜çš„çŠ¶æ€ä¸å¿…æœç´¢ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(L==R)    return f1[L][R]=0;    //L==Ræ—¶è¿”å›0 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    int res=INF;                    //åˆå§‹å€¼èµ‹ä¸ºæœ€å¤§å€¼ä»¥æ±‚æœ€å°å€¼ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    for(int k=L;k&lt;R;k++)            //æšä¸¾Kæœç´¢ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        res=min(res,dfs1(L,k)+dfs1(k+1,R)+A[R]-A[L-1]);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    return f1[L][R]=res;            //è®°å½•çŠ¶æ€ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">}
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">int dfs2(int L,int R){                //æ±‚å‡ºæœ€å¤§å¾—åˆ† 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(f2[L][R])return f2[L][R];
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    if(L==R)    return f2[L][R]=0;    //è‹¥åˆå§‹å€¼ä¸º0å¯çœç•¥è¯¥å¥ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    int res=0;                        //åˆå§‹å€¼è®¾ä¸º0 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    for(int k=L;k&lt;R;k++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        res=max(res,dfs2(L,k)+dfs2(k+1,R)+A[R]-A[L-1]);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">    return f2[L][R]=res;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">}
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>        a[i <span style="color:#555">+</span> n] <span style="color:#555">=</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">2</span><span style="color:#555">*</span>n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        s[i] <span style="color:#555">=</span> s[i<span style="color:#555">-</span><span style="color:#f60">1</span>] <span style="color:#555">+</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//åˆå§‹åŒ–
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    memset(f1, <span style="color:#f60">0x3f</span>, <span style="color:#069;font-weight:bold">sizeof</span> f1);
</span></span><span style="display:flex;"><span>    memset(f2, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> f2);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> <span style="color:#f60">2</span><span style="color:#555">*</span>n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        f1[i][i] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        f2[i][i] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">2</span>; len <span style="color:#555">&lt;=</span> <span style="color:#f60">2</span><span style="color:#555">*</span>n; len <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> l <span style="color:#555">=</span> <span style="color:#f60">1</span>; l <span style="color:#555">&lt;=</span> <span style="color:#f60">2</span><span style="color:#555">*</span>n <span style="color:#555">-</span> len <span style="color:#555">+</span> <span style="color:#f60">1</span>; l <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> r <span style="color:#555">=</span> l <span style="color:#555">+</span> len <span style="color:#555">-</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> l; k <span style="color:#555">&lt;</span> r; k <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                f1[l][r] <span style="color:#555">=</span> min(f1[l][r], f1[l][k] <span style="color:#555">+</span> f1[k<span style="color:#555">+</span><span style="color:#f60">1</span>][r]);
</span></span><span style="display:flex;"><span>                f2[l][r] <span style="color:#555">=</span> max(f2[l][r], f2[l][k] <span style="color:#555">+</span> f2[k<span style="color:#555">+</span><span style="color:#f60">1</span>][r]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            f1[l][r] <span style="color:#555">+=</span> s[r] <span style="color:#555">-</span> s[l <span style="color:#555">-</span> <span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>            f2[l][r] <span style="color:#555">+=</span> s[r] <span style="color:#555">-</span> s[l <span style="color:#555">-</span> <span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> minf <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> maxf <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        minf <span style="color:#555">=</span> min(minf, f1[i][n <span style="color:#555">+</span> i <span style="color:#555">-</span> <span style="color:#f60">1</span>]);
</span></span><span style="display:flex;"><span>        maxf <span style="color:#555">=</span> max(maxf, f2[i][n <span style="color:#555">+</span> i <span style="color:#555">-</span> <span style="color:#f60">1</span>]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> minf <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> maxf;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p1063-noip2006-æé«˜ç»„-èƒ½é‡é¡¹é“¾">P1063 [NOIP2006 æé«˜ç»„] èƒ½é‡é¡¹é“¾</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1063">https://www.luogu.com.cn/problem/P1063</a></p>
</blockquote>
<blockquote>
<p>ä¸ä¸Šé¢é‚£é¢˜çš„ç±»å‹ç›¸åŒï¼Œä¹Ÿæ˜¯å¸¦ç¯çš„åŒºé—´DPé—®é¢˜</p>
<p>ç¯çŠ¶ç»“æ„æœ‰ä¸¤ç§å¥½çš„è§£å†³æ–¹æ³•ï¼š1. position % size    2.æ‰©å±•æ•°ç»„ä¸ºåŸæ¥çš„ä¸¤å€ï¼ˆæ³¨æ„è¿™æ ·çš„è¯ï¼Œæœ€åè¾“å‡ºçš„æ—¶å€™ä¹Ÿè¦æ³¨æ„l,råŒºé—´çš„å˜åŒ–ï¼‰</p>
<p>å‡¡æ˜¯æ±‚è§£è¿™ç±»é—®é¢˜çš„æ—¶å€™ï¼Œä¸€å®šè¦å¿ƒé‡Œç•™åº•ï¼Œä¸€å®šè¦æ¸…æ™°åœ°æ˜ç™½åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹é‚£äº›å˜é‡æ‰€æŒ‡çš„å…·ä½“å«ä¹‰</p>
<p>è¯¥é¢˜åˆå¹¶çš„æ—¶å€™åŒ…å«äº†k ,  [l,k]+[k,r]
<code>f[l][r]=max(f[l][r],f[l][k]+f[k][r]+a[l]*a[k]*a[r]);</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[<span style="color:#f60">2</span><span style="color:#555">*</span>N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[<span style="color:#f60">5</span><span style="color:#555">*</span>N][<span style="color:#f60">5</span><span style="color:#555">*</span>N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>        a[n <span style="color:#555">+</span> i] <span style="color:#555">=</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">2</span>; len <span style="color:#555">&lt;=</span> <span style="color:#f60">2</span><span style="color:#555">*</span>n ; len <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> l <span style="color:#555">=</span> <span style="color:#f60">1</span>; l <span style="color:#555">&lt;=</span> <span style="color:#f60">2</span><span style="color:#555">*</span>n <span style="color:#555">-</span> len <span style="color:#555">+</span> <span style="color:#f60">1</span>; l <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> r <span style="color:#555">=</span> l <span style="color:#555">+</span> len <span style="color:#555">-</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> l <span style="color:#555">+</span> <span style="color:#f60">1</span>; k <span style="color:#555">&lt;</span> r; k <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                f[l][r] <span style="color:#555">=</span> max(f[l][r], f[l][k] <span style="color:#555">+</span> f[k][r] <span style="color:#555">+</span> a[l]<span style="color:#555">*</span>a[k]<span style="color:#555">*</span>a[r]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">=</span> max(ans, f[i][n <span style="color:#555">+</span> i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3147-usaco16open-262144-p">P3147 [USACO16OPEN]262144 P</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3147">https://www.luogu.com.cn/problem/P3147</a></p>
</blockquote>
<blockquote>
<p>çŠ¶æ€è¡¨ç¤ºï¼š$f[i][j]$ è¡¨ç¤ºä»¥jä¸ºèµ·ç‚¹èƒ½å¤Ÿåˆæˆä¸ºiçš„åŒºé—´é•¿åº¦
é‚£ä¹ˆf[i][j] åˆæ˜¯å¦‚ä½•å¾—åˆ°çš„å‘¢ï¼Ÿ
æ˜“çŸ¥ï¼š$f[i-1][j] ä¸ f[i-1][j+f[i-1][j]]$</p>
<p>äºæ˜¯ä¹ï¼Œæˆ‘ä»¬å¾—åˆ°äº†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š$f[i][j] = f[i-1][j]+f[i-1][j+f[i-1][j]]$â€‹ &ndash;&gt;å°å‘ç‚¹ï¼šåŒºé—´é•¿åº¦ä¸€å®šè¦å¤§äº0æ‰è¡Œï¼Œå¦åˆ™æ— æ³•æ„æˆä¸€ä¸ªåŒºé—´ï¼ï¼ï¼éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹ï¼ <code>è€ƒæŸ¥æ€ç»´çš„ä¸¥å¯†æ€§</code>â€‹</p>
<p>æšä¸¾æ‰€æœ‰çŠ¶æ€ï¼Œç”±é¢˜æ„ç»™çš„æ•°æ®å¯ä»¥çŸ¥é“æœ€å¤šçš„çŠ¶æ€ä¸º58 &ndash;&gt; $40+log2(262144)=58$â€‹</p>
</blockquote>
<p><code>å¯å‘ï¼šä¸€å®šè¦åœ¨å¿ƒé‡Œå¯¹DPåŠ¨æ€è§„åˆ’çš„å®è´¨æœ‰ä¸ªæ›´æ·±åˆ»å’Œç¡®åˆ‡çš„ç†è§£ï¼Œåšé¢˜çš„æ—¶å€™è¦å¤´è„‘æ¸…é†’ï¼Œæ˜ç¡®DPçš„çŠ¶æ€ã€é˜¶æ®µå’Œå†³ç­–</code></p>
<p><code>åŒæ—¶ï¼Œä¹Ÿè¦å¯¹é¢˜ç›®ä¸­æ‰€ç»™çš„æ•°æ®è¦æœ‰æ¸…æ™°çš„è®¤è¯†å’Œåå°„</code></p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">300010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[<span style="color:#f60">60</span>][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        f[x][i] <span style="color:#555">=</span> <span style="color:#f60">1</span>;  <span style="color:#09f;font-style:italic">//ä»¥iä¸ºèµ·ç‚¹åˆæˆxçš„å³ç«¯ç‚¹çš„ä½ç½®æ˜¯i+1ï¼ŒæŠŠä»–
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//è¿™ä¸ª58æ˜¯åˆ†æé¢˜ç›®æ•°æ®æ‰€å¾—åˆ°çš„æœ€å¤§æšä¸¾æ•°ç›®40+log2(262144)=58
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">2</span>; len <span style="color:#555">&lt;=</span> <span style="color:#f60">58</span>; len <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>f[len][j])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(f[len<span style="color:#555">-</span><span style="color:#f60">1</span>][j<span style="color:#555">+</span>f[len<span style="color:#555">-</span><span style="color:#f60">1</span>][j]] <span style="color:#555">&amp;&amp;</span> f[len<span style="color:#555">-</span><span style="color:#f60">1</span>][j])<span style="color:#09f;font-style:italic">//åˆ¤æ–­æ˜¯å¦èƒ½æ„æˆåŒºé—´
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                {
</span></span><span style="display:flex;"><span>                    f[len][j] <span style="color:#555">=</span> f[len<span style="color:#555">-</span><span style="color:#f60">1</span>][j<span style="color:#555">+</span>f[len<span style="color:#555">-</span><span style="color:#f60">1</span>][j]] <span style="color:#555">+</span> f[len<span style="color:#555">-</span><span style="color:#f60">1</span>][j]; 
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(f[len][j]) ans <span style="color:#555">=</span> len; <span style="color:#09f;font-style:italic">//lenæ˜¯å•è°ƒé€’å¢çš„
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<h4 id="p3146-usaco16open-248-g">P3146 [USACO16OPEN]248 G</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3146">https://www.luogu.com.cn/problem/P3146</a></p>
</blockquote>
<p>è¿™ä¸€é¢˜è·ŸP3147å¦‚å‡ºä¸€è¾™ï¼Œå°±æ˜¯åŒºé—´DP(çŸ³å­åˆå¹¶çš„åŒç±»å‹é¢˜ç›®)</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>f[i][j] è¡¨ç¤ºå°†i~jä¹‹é—´çš„æ•°å­—å…¨éƒ¨åˆå¹¶æœ€ç»ˆèƒ½å¤Ÿå¾—åˆ°çš„æœ€å¤§æ•°
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">260</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        f[i][i] <span style="color:#555">=</span> x; <span style="color:#09f;font-style:italic">//i~jä¹‹é—´çš„æ•°å­—å…¨éƒ¨åˆå¹¶èƒ½å¤Ÿå¾—åˆ°çš„æœ€å¤§å€¼æ˜¯x
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//ğŸ‘‡åŒºé—´DP(çŸ³å­åˆå¹¶æ¨¡æ¿)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">2</span>; len <span style="color:#555">&lt;=</span> n; len <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n <span style="color:#555">-</span> len <span style="color:#555">+</span> <span style="color:#f60">1</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> i <span style="color:#555">+</span> len <span style="color:#555">-</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> i; k <span style="color:#555">&lt;</span> j; k <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">if</span>(f[i][k] <span style="color:#555">==</span> f[k<span style="color:#555">+</span><span style="color:#f60">1</span>][j] <span style="color:#555">&amp;&amp;</span> f[i][k] <span style="color:#555">!=</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> f[k<span style="color:#555">+</span><span style="color:#f60">1</span>][j] <span style="color:#555">!=</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    f[i][j] <span style="color:#555">=</span> max(f[i][j],f[i][k] <span style="color:#555">+</span> <span style="color:#f60">1</span>); <span style="color:#09f;font-style:italic">//ä¸çŸ³å­åˆå¹¶ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œåª+1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                    <span style="color:#09f;font-style:italic">//è¿™ä¸€æ­¥è¡¨ç¤ºå°†i~k || k+1~j è¿›è¡Œåˆå¹¶æˆä¸€ä¸ªåŒºé—´i,j; åˆ¤æ–­å¹¶å–å¾—åˆå¹¶åå’Œæœªåˆå¹¶çš„æœ€å¤§å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                    ans <span style="color:#555">=</span> max(ans,f[i][k]<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3205-hnoi2010-åˆå”±é˜Ÿ-åŒºé—´dpå¥½é¢˜">P3205 [HNOI2010]åˆå”±é˜Ÿ [åŒºé—´DPå¥½é¢˜ï¼]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3205">https://www.luogu.com.cn/problem/P3205</a></p>
</blockquote>
<blockquote>
<p>åŒºé—´DPçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼Œå¤§åŒºé—´è¦åŒ…å«å°çš„åŒºé—´</p>
<p>1 ~ nåŒºé—´ å¯ä»¥ è½¬åŒ–ä¸ºè¾ƒå°çš„åŒºé—´ i ~ j æšä¸¾ç›¸åº”çš„å°åŒºé—´ï¼ï¼åŒºé—´DPçš„ç²¾é«“æ‰€åœ¨</p>
<p>æ¯æ¬¡æœ‰æ–°çš„äººåŠ å…¥åˆ°é˜Ÿä¼é‡Œé¢çš„è¯ï¼ŒåŒºé—´å°±ä¼šè¶Šæ¥è¶Šå¤§&mdash;-&gt;ç”±æ­¤å¯çŸ¥ï¼Œå¤§åŒºé—´åŒ…å«å°çš„åŒºé—´</p>
<p>çŠ¶æ€è¡¨ç¤ºï¼šå¯ä»¥å‘ç°é˜Ÿä¼ä¸­åŠ å…¥æ–°çš„äººåªæœ‰ä¸¤ç§æƒ…å†µ [i][j] è¡¨ç¤ºi~jè¿™æ®µåŒºé—´</p>
<p>$f[i][j][0] \ \ \ è¡¨ç¤ºç¬¬iäººä»å·¦è¾¹è¿›æ¥çš„æ–¹æ¡ˆæ•°ç›® \ f[i][j][1] \ \ \ è¡¨ç¤ºç¬¬jäººä»å³è¾¹è¿›æ¥çš„æ–¹æ¡ˆæ•°ç›®$</p>
<p>å¦‚æœiå·ä»å·¦è¾¹è¿›æ¥ï¼Œé‚£ä¹ˆå‰é¢ä¸€ä¸ªäººè‚¯å®šæ¯”å®ƒé«˜ï¼Œåˆ™å®ƒçš„ä½ç½®å¯èƒ½æ˜¯i+1å·æˆ–j å·  ä¸¤ç§
å¦‚æœjå·ä»å³è¾¹è¿›æ¥ï¼Œé‚£ä¹ˆå‰é¢ä¸€ä¸ªäººè‚¯å®šæ¯”å®ƒçŸ®ï¼Œåˆ™å®ƒçš„ä½ç½®å¯èƒ½æ˜¯j-1 å·æˆ–i å·  ä¸¤ç§</p>
<blockquote>
<p>äºæ˜¯ä¹å¾—åˆ°äº†çŠ¶æ€è½¬ç§»æ–¹ç¨‹</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>if(a[i] &lt; a[i+1]) f[i][j][0] += f[i+1][j][0];
</span></span><span style="display:flex;"><span>if(a[i] &lt; a[j]) f[i][j][0] += f[i+1][j][1];
</span></span><span style="display:flex;"><span>if(a[j] &gt; a[i]) f[i][j][1] += f[i][j-1][0];
</span></span><span style="display:flex;"><span>if(a[j] &gt; a[j-1]) f[i][j][1] += f[i][j-1][1];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>//è¾¹ç•Œæ¡ä»¶
</span></span><span style="display:flex;"><span>for(int i=1;i&lt;=n;i++)f[i][i][0]=1,f[i][i][1]=1;  Ã— å› ä¸ºç¬¬ä¸€ä¸ªäººè¿›å»åªæœ‰ä¸€ç§æƒ…å†µï¼Œè¿™æ ·æ±‚å¾—è¯ä¹Ÿä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼Œä¸ç¬¦åˆé¢˜æ„
</span></span><span style="display:flex;"><span>//ä¿®æ”¹åçš„è¾¹ç•Œæ¡ä»¶
</span></span><span style="display:flex;"><span>for(int i=1;i&lt;=n;i++)f[i][i][0]=1;
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> mod <span style="color:#555">=</span> <span style="color:#f60">19650827</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N][N][<span style="color:#f60">2</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) cin <span style="color:#555">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) f[i][i][<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">1</span>; len <span style="color:#555">&lt;=</span> n; len <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>, j <span style="color:#555">=</span> i <span style="color:#555">+</span> len; j <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>, j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(a[i] <span style="color:#555">&lt;</span> a[i <span style="color:#555">+</span> <span style="color:#f60">1</span>]) f[i][j][<span style="color:#f60">0</span>] <span style="color:#555">+=</span> f[i<span style="color:#555">+</span><span style="color:#f60">1</span>][j][<span style="color:#f60">0</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(a[i] <span style="color:#555">&lt;</span> a[j]) f[i][j][<span style="color:#f60">0</span>] <span style="color:#555">+=</span> f[i<span style="color:#555">+</span><span style="color:#f60">1</span>][j][<span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(a[j] <span style="color:#555">&gt;</span> a[j<span style="color:#555">-</span><span style="color:#f60">1</span>]) f[i][j][<span style="color:#f60">1</span>] <span style="color:#555">+=</span> f[i][j<span style="color:#555">-</span><span style="color:#f60">1</span>][<span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(a[j] <span style="color:#555">&gt;</span> a[i]) f[i][j][<span style="color:#f60">1</span>] <span style="color:#555">+=</span> f[i][j<span style="color:#555">-</span><span style="color:#f60">1</span>][<span style="color:#f60">0</span>];
</span></span><span style="display:flex;"><span>            f[i][j][<span style="color:#f60">0</span>] <span style="color:#555">%=</span> mod;
</span></span><span style="display:flex;"><span>            f[i][j][<span style="color:#f60">1</span>] <span style="color:#555">%=</span> mod;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> (f[<span style="color:#f60">1</span>][n][<span style="color:#f60">0</span>] <span style="color:#555">+</span> f[<span style="color:#f60">1</span>][n][<span style="color:#f60">1</span>])<span style="color:#555">%</span>mod;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p4302-scoi2003-å­—ç¬¦ä¸²æŠ˜å -åŒºé—´dpå¥½é¢˜">P4302 [SCOI2003]å­—ç¬¦ä¸²æŠ˜å  [åŒºé—´DPå¥½é¢˜]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P4302">https://www.luogu.com.cn/problem/P4302</a></p>
</blockquote>
<blockquote>
<p>çœ‹åˆ°æ•°æ®é‡n &lt;= 100 ï¼Œå¯ä»¥è”æƒ³åˆ°å¯ä»¥ä½¿ç”¨$O(n^3)$çš„æ—¶é—´å¤æ‚åº¦ç®—æ³•
è‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°åŒºé—´DP</p>
<p>çŠ¶æ€å®šä¹‰ï¼š$f[i][j] è¡¨ç¤ºåŒºé—´ä¸º [i,j]çš„æœ€çŸ­æŠ˜å é•¿åº¦$</p>
<p>åˆå§‹åŒ–ï¼š$f[i][i] = 1 ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå•ç‹¬å­—ç¬¦çš„æœ€çŸ­æŠ˜å é•¿åº¦ä¸º1$</p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<ol>
<li>å½“å‰åŒºé—´å¦‚æœä¸è€ƒè™‘æŠ˜å çš„è¯ï¼Œåˆ™æšä¸¾åˆ†ç•Œç‚¹è¿›è¡Œè½¬ç§»
$f[i][j]=min(f[i][d]+f[d+1]<a href="i%3C=d%3C=j">j</a>)$</li>
<li>å½“å‰åŒºé—´è€ƒè™‘æŠ˜å ï¼Œåˆ™æšä¸¾å¾ªç¯èŠ‚çš„é•¿åº¦ï¼Œæ³¨æ„åˆ¤æ–­æ˜¯å¦å¯ä»¥æŠ˜å 
$f[i][j] = min(f[i][k]+2+å¾ªç¯æ¬¡æ•°çš„é•¿åº¦)(å…¶ä¸­s[i][k]æ˜¯s[i][j]çš„å¾ªç¯èŠ‚ï¼Œ2è¡¨ç¤ºä¸€å¯¹æ‹¬å·çš„é•¿åº¦)$</li>
</ol>
</blockquote>
<p>ACä»£ç è‡ªè¡Œå–ç½‘ç«™ä¸Šå»çœ‹ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ†æä¸€ä¸‹å¦‚ä½•å»å†™</p>
<p>[åŒºé—´DPçš„æ€è€ƒæ–¹å¼]</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//æ€è€ƒåˆ°çŠ¶æ€è¡¨ç¤ºåï¼Œæˆ‘ä»¬å†æ¥çœ‹ï¼Œf[i][j]åŒºé—´åˆèƒ½æ‹†æˆf[i][k]ã€f[k+1][j]
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//ç„¶åæ‰“å‡ºåŒºé—´DPçš„ä¸€èˆ¬æ¨¡æ¿ï¼Œè¿›è¡Œæ·±åº¦æ€è€ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">2</span>; len <span style="color:#555">&lt;=</span> n; len <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>, j <span style="color:#555">=</span> i <span style="color:#555">+</span> len <span style="color:#555">-</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span> , j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> i; k <span style="color:#555">&lt;</span> j; k <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            f[i][j] <span style="color:#555">=</span> min(f[i][j], f[i][k] <span style="color:#555">+</span> f[k<span style="color:#555">+</span><span style="color:#f60">1</span>][j]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>[åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æŠ˜å ï¼Œä¹Ÿå°±æ˜¯è¿™æ®µåŒºåŸŸæ˜¯å¦æœ‰ç›¸åŒçš„å­ä¸²]</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> <span style="color:#c0f">check</span>(<span style="color:#078;font-weight:bold">int</span> l, <span style="color:#078;font-weight:bold">int</span> r, <span style="color:#078;font-weight:bold">int</span> len)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> l; i <span style="color:#555">&lt;=</span> r; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(str[i] <span style="color:#555">!=</span> str[(i<span style="color:#555">-</span><span style="color:#f60">1</span>)<span style="color:#555">%</span>len<span style="color:#555">+</span><span style="color:#f60">1</span>]) <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>[çŠ¶æ€æ–¹ç¨‹]</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> len <span style="color:#555">=</span> <span style="color:#f60">2</span>; len <span style="color:#555">&lt;=</span> n; len <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>, j <span style="color:#555">=</span> i <span style="color:#555">+</span> len <span style="color:#555">-</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>, j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> i; k <span style="color:#555">&lt;</span> j; k <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>            f[i][j] <span style="color:#555">=</span> min(f[i][j], f[i][k] <span style="color:#555">+</span> f[k<span style="color:#555">+</span><span style="color:#f60">1</span>][j]); <span style="color:#09f;font-style:italic">//å…ˆæ‹†æˆä¸¤ä¸ªéƒ¨åˆ†è¿›è¡Œåˆå¹¶ï¼Œç„¶åå†è¿›è¡Œåç»­æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>		<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> i; k <span style="color:#555">&lt;</span> j; k <span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> slen <span style="color:#555">=</span> k <span style="color:#555">-</span> i <span style="color:#555">+</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(len <span style="color:#555">%</span> slen <span style="color:#555">!=</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">continue</span>; <span style="color:#09f;font-style:italic">//æ¯”è¾ƒçš„åŒºé—´é•¿åº¦ä¸æ˜¯æšä¸¾çš„åŒºé—´é•¿åº¦çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆä¸€å®šä¸èƒ½å…¨éƒ¨æŠ˜å 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">if</span>(check(i, j, slen)) f[i][j] <span style="color:#555">=</span> min(f[i][j], f[i][k] <span style="color:#555">+</span> <span style="color:#f60">2</span> <span style="color:#555">+</span> m[len<span style="color:#555">/</span>slen]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa">å¯¹äº</span>m[N]<span style="color:#a00;background-color:#faa">æ•°ç»„çš„è§£é‡Šï¼Œ</span>mæ•°ç»„å­˜æ”¾çš„æ˜¯å¾ªç¯æŠ˜å çš„æ¬¡æ•°
</span></span><span style="display:flex;"><span>m[<span style="color:#f60">1</span><span style="color:#555">~</span><span style="color:#f60">9</span>] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>m[<span style="color:#f60">10</span><span style="color:#555">~</span><span style="color:#f60">99</span>] <span style="color:#555">=</span> <span style="color:#f60">2</span>;
</span></span><span style="display:flex;"><span>m[<span style="color:#f60">100</span>] <span style="color:#555">=</span> <span style="color:#f60">3</span>;
</span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa">å°±æ˜¯</span>Nçš„ä½æ•°
</span></span><span style="display:flex;"><span><span style="color:#f60">2</span><span style="color:#a00;background-color:#faa">è¡¨ç¤ºçš„æ˜¯æ‹¬å·çš„é•¿åº¦</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>[åˆå§‹åŒ–æ¡ä»¶]</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>1.æ˜¾ç„¶f[][]åº”è¯¥åˆå§‹åŒ–ä¸ºINFï¼Œå› ä¸ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯æœ€å°çš„æŠ˜å é•¿åº¦
</span></span><span style="display:flex;"><span>2.å¯¹äºæœ€å¼€å§‹æ¯ä¸ªå•ç‹¬çš„åŒºé—´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸ªåŒºé—´å†…çš„å…ƒç´ åªçœ‹æˆä¸€ä¸ªï¼Œè¿™æ ·å¯ä»¥åˆå§‹åŒ–f[i][i] = 1
</span></span></code></pre></td></tr></table>
</div>
</div><p>[ç›®æ ‡]</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>æ˜¾ç„¶ï¼Œf[i][j]è¡¨ç¤º i~jåŒºé—´å†…çš„æœ€å°æŠ˜å é•¿åº¦
</span></span><span style="display:flex;"><span>é‚£ä¹ˆæˆ‘ä»¬æ±‚å¾—çš„ç›®æ ‡å°±æ˜¯f[1][n]  //æ³¨æ„å­—ç¬¦ä¸²orå­—ç¬¦æ•°ç»„çš„å¤„ç†æ–¹å¼ï¼Œä¸€å®šè¦è„‘å­é‡Œé¢æœ‰æ˜ç¡®çš„ä¸‹æ ‡ç»“æ„
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2016-æˆ˜ç•¥æ¸¸æˆ-æ ‘å½¢dpæ¨¡æ¿é¢˜">P2016 æˆ˜ç•¥æ¸¸æˆ [æ ‘å½¢DPæ¨¡æ¿é¢˜]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2016">https://www.luogu.com.cn/problem/P2016</a></p>
</blockquote>
<blockquote>
<p>è¿™é¢˜å°±æ˜¯æ ‘å½¢DPçš„æ¨¡æ¿é¢˜ï¼Œå¤ªå®¹æ˜“äº†ï¼Œæ‡’å¾—å†™äº†</p>
<p>è·Ÿâ€æ²¡æœ‰ä¸Šå¸çš„èˆä¼šâ€œ:https://www.luogu.com.cn/problem/P1352  å®Œå…¨ä¸€æ ·</p>
</blockquote>
<h3 id="2021å¹´7æœˆ30æ—¥">2021å¹´7æœˆ30æ—¥</h3>
<h4 id="p2866-usaco06nov-bad-hair-day-s">P2866 [USACO06NOV]Bad Hair Day S</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2866">https://www.luogu.com.cn/problem/P2866</a></p>
</blockquote>
<blockquote>
<p>åšè¿™ç§ç”¨åˆ°å•è°ƒæ ˆçš„é¢˜ç›®ï¼Œè„‘å­ä¸€å®šè¦çµæ´»ä¸”ä¸€å®šè¦æ¸…æ™°å½“å‰å…·ä½“è¦å»åšä»€ä¹ˆ
ä¸è¦ç›²ç›®åšé¢˜ï¼Œè¦æ²‰ä¸‹å¿ƒæ¥ç»†å¿ƒå»æ€è€ƒï¼Œæ­¤è·¯ä¸é€šæ¢å½¼è·¯</p>
<p>1.æ¯æ¬¡è®°å½•è¾“å…¥çš„é«˜åº¦
2.å°†æ ˆå†…æ¯”å½“å‰è¾“å…¥çš„é«˜åº¦çš„çŸ®çš„å…¨éƒ¨éƒ½å‡ºæ ˆ
3.ç„¶åå‰©ä¸‹å æ ˆå†…çš„éƒ½æ˜¯èƒ½å¤Ÿæ¯”å½“å‰é«˜çš„</p>
<p>åŠ èµ·æ¥å³å¯âˆš</p>
<p>å¯å‘ï¼šå½“æˆ‘ä»¬ä»¥å…¶ä¸­ä¸€ç§æ–¹å¼åšèµ·æ¥æ¯”è¾ƒå›°éš¾æˆ–å¾ˆéš¾è¡Œé€šæ—¶ï¼Œä¸å¦¨å®Œå…¨æ‰“ç ´ä¹‹å‰çš„æ€ç»´å®šåŠ¿ï¼Œæ¢ä¸€ç§æ–¹å¼å»æƒ³ï¼</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">80010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n, a[N], st[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> top,cur;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å•è°ƒæ ˆï¼šæ€è·¯ä¸€å®šè¦æ¸…æ™°ï¼Œè„‘å­è¦çµæ´»å¤„ç†è¿™äº›é—®é¢˜æ‰è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d&#34;</span>, <span style="color:#555">&amp;</span>cur);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">while</span>(top <span style="color:#555">!=</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> st[top] <span style="color:#555">&lt;=</span> cur) top<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">+=</span>  top;
</span></span><span style="display:flex;"><span>        st[<span style="color:#555">++</span>top] <span style="color:#555">=</span> cur;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>, ans);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="sp1805-histogra-largest-rectangle-in-a-histogram-å•è°ƒæ ˆå¥½é¢˜">SP1805 HISTOGRA - Largest Rectangle in a Histogram[å•è°ƒæ ˆå¥½é¢˜âˆš]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/SP1805">https://www.luogu.com.cn/problem/SP1805</a></p>
</blockquote>
<blockquote>
<p>è¿™é“é¢˜æ˜¯å•è°ƒæ ˆçš„åº”ç”¨ï¼š
æˆ‘ä»¬å¯ä»¥å‡è®¾æ¯ä¸€å—é«˜åº¦ä¸ºh[i]çš„çŸ©å½¢ï¼Œèƒ½å¤Ÿå½¢æˆçš„æœ€å¤§çŸ©å½¢æ˜¯ä»¥h[i]ä¸ºé«˜ï¼Œå‘å·¦å³ä¸¤è¾¹å»¶ç”³ä¸ºå®½åº¦æ‰€å¾—çš„é¢ç§¯åŒºåŸŸ</p>
<p><code>è„‘æµ·é‡Œè¦éšæ—¶æœ‰åˆå§‹åŒ–è¿™ä¸ªæ¦‚å¿µï¼</code></p>
<p>åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å»æ±‚æ¯ä¸ªçŸ©å½¢æœ€å¤§èƒ½å‘å·¦è¾¹æˆ–å³è¾¹å»¶ç”³å¤šå°‘</p>
<p>&mdash;&gt; å¾ˆå®¹æ˜“æƒ³åˆ°å•è°ƒæ ˆ
é¦–å…ˆä»å·¦è¾¹å¼€å§‹æ±‚ä¸€æ¬¡é€’å¢å•è°ƒæ ˆ &mdash;&gt; çŸ¥æ™“èƒ½å»¶ç”³åˆ°çš„å³ç«¯ç‚¹
ç„¶ååˆä»å³è¾¹å¼€å§‹æ±‚ä¸€æ¬¡é€’å¢å•è°ƒæ ˆ &mdash;&gt;çŸ¥æ™“èƒ½å»¶ç”³åˆ°çš„å·¦ç«¯ç‚¹
ä»¥é˜²è¾¹ç•Œæ¡ä»¶ï¼Œå¯ä»¥è®¾ç½®h[0] = -1  h[n+1] = -1;</p>
<p>é¢ç§¯å°±æ˜¯ h[i] * (r[i] - l[i] - 1) &laquo;&mdash;æ³¨æ„å‡å»1</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ll;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span>  N <span style="color:#555">=</span> <span style="color:#f60">100100</span>;
</span></span><span style="display:flex;"><span>ll st[N],h[N];
</span></span><span style="display:flex;"><span>ll n,top;
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åˆ©ç”¨å•è°ƒæ ˆæ‰¾åˆ°æŸä¸ªå…ƒç´ å·¦å³ä¸¤è¾¹æ¯”è¿™ä¸ªå…ƒç´ å°çš„ä¸‹æ ‡ï¼Œå†ç”¨åŒºé—´ä¸ªæ•°ä¹˜ä»¥æœ€å°å€¼å°±å¯ä»¥äº†ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(<span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lld&#34;</span>, <span style="color:#555">&amp;</span>n);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(ll i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            scanf(<span style="color:#c30">&#34;%lld&#34;</span>, <span style="color:#555">&amp;</span>h[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ll ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        ll left[N],right[N];
</span></span><span style="display:flex;"><span>        memset(left, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> left);
</span></span><span style="display:flex;"><span>        memset(right, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> right);
</span></span><span style="display:flex;"><span>        h[n<span style="color:#555">+</span><span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        top <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(ll i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n <span style="color:#555">+</span> <span style="color:#f60">1</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">while</span>(top <span style="color:#555">&amp;&amp;</span> h[i] <span style="color:#555">&lt;</span> h[st[top]])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                right[st[top]] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>                top<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            st[<span style="color:#555">++</span>top] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        top <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>        h[<span style="color:#f60">0</span>] <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>        memset(st, <span style="color:#f60">0</span>, <span style="color:#069;font-weight:bold">sizeof</span> st); <span style="color:#09f;font-style:italic">// ä¸€å®šè¦è„‘å­é‡Œæ—¶åˆ»æœ‰â€œåˆå§‹åŒ–â€œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">for</span>(ll i <span style="color:#555">=</span> n; i <span style="color:#555">&gt;=</span> <span style="color:#f60">1</span>; i <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">while</span>(top <span style="color:#555">&amp;&amp;</span> h[i] <span style="color:#555">&lt;</span> h[st[top]])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                left[st[top]] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>                top<span style="color:#555">--</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            st[<span style="color:#555">++</span>top] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#09f;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        for(int i = 1; i &lt;= n; i ++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            cout &lt;&lt; left[i] &lt;&lt; &#34; &#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        cout &lt;&lt; endl;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        for(int i = 1; i &lt;= n; i ++)
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        {
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">            cout &lt;&lt; right[i] &lt;&lt; &#34; &#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        }
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        cout &lt;&lt; endl;
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">        */</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(ll i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">=</span> max(ans, (ll)h[i] <span style="color:#555">*</span> (right[i] <span style="color:#555">-</span> left[i] <span style="color:#555">-</span> <span style="color:#f60">1ll</span>));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;%lld</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,ans);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2034-é€‰æ‹©æ•°å­—-å•è°ƒé˜Ÿåˆ—-dp-æ€ç»´å¾ˆæ´»è·ƒçš„å¥½é¢˜">P2034 é€‰æ‹©æ•°å­— [å•è°ƒé˜Ÿåˆ—+DP][æ€ç»´å¾ˆæ´»è·ƒçš„å¥½é¢˜ï¼]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2034">https://www.luogu.com.cn/problem/P2034</a></p>
</blockquote>
<blockquote>
<p>è¯¥é¢˜æœ‰ä¸¤ç§è§£æ³•ï¼š</p>
<p>1.å¸¸è§„DPæ³•ï¼š
å–„äºå‘ç°å¯çŸ¥ï¼Œæœ¬é¢˜ç›®çš„æ˜¯æ±‚ä¸€ä¸ªå…·ä½“çš„æ•°æœ€å¤§
å¯ä»¥æƒ³åˆ°åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼š
$f[i][0]è¡¨ç¤ºä¸å–iå…ƒç´ çš„æœ€å¤§å€¼æ–¹æ¡ˆ f[i][0]=max{f[i-1][0],f[i-1][1]}$â€‹
$f[i][1]è¡¨ç¤ºå–iå…ƒç´ çš„æœ€å¤§å€¼çš„æ–¹æ¡ˆf[i][1]=max(f[0][j]-sum[j])+sum[i]$â€‹ &lt;&ndash; $f[0][j] +sum[i\rarr j]$ (å‡†ç¡®å«ä¹‰)â€‹â€‹
ğŸ‘†è§£é‡Šï¼Œå¦‚æœå–äº†ç¬¬iä¸ªå…ƒç´ ï¼Œé‚£ä¸ªi-k-1 ~ iä¹‹é—´çš„å…ƒç´ éƒ½ä¸èƒ½å–äº†ï¼Œæ­¤æ—¶$max(f[0][j]-sum[j])æ»¡è¶³å•è°ƒæ€§åŸåˆ™ï¼Œå¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–æ—¶é—´å¤æ‚åº¦$â€‹â€‹â€‹</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	n<span style="color:#555">=</span>read();d<span style="color:#555">=</span>read();
</span></span><span style="display:flex;"><span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">1</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>) a[i]<span style="color:#555">=</span>read(),sum[i]<span style="color:#555">=</span>sum[i<span style="color:#555">-</span><span style="color:#f60">1</span>]<span style="color:#555">+</span>a[i]; <span style="color:#09f;font-style:italic">//åˆå§‹åŒ–å‰ç¼€å’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	f[<span style="color:#f60">1</span>][<span style="color:#f60">1</span>]<span style="color:#555">=</span>a[<span style="color:#f60">1</span>];tail<span style="color:#555">++</span>;<span style="color:#09f;font-style:italic">//æ³¨æ„headä¸tailçš„åˆå§‹åŒ–ï¼Œå•è°ƒé˜Ÿåˆ—å®¹æ˜“head&amp;tailå–é”™
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>	<span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i<span style="color:#555">=</span><span style="color:#f60">2</span>;i<span style="color:#555">&lt;=</span>n;i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		f[<span style="color:#f60">0</span>][i] <span style="color:#555">=</span> max(f[<span style="color:#f60">0</span>][i<span style="color:#555">-</span><span style="color:#f60">1</span>], f[<span style="color:#f60">1</span>][i<span style="color:#555">-</span><span style="color:#f60">1</span>]);<span style="color:#09f;font-style:italic">//åŠ¨æ€è§„åˆ’1ï¼šä¸é€‰ç¬¬iä¸ªæ•°çš„æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>		<span style="color:#069;font-weight:bold">while</span>(head <span style="color:#555">&lt;=</span> tail <span style="color:#555">&amp;&amp;</span> i <span style="color:#555">-</span> q[head] <span style="color:#555">&gt;</span> d) head<span style="color:#555">++</span>;<span style="color:#09f;font-style:italic">//ç»´æŠ¤é˜Ÿé¦–ï¼Œi-k&gt;j(q[head]) //ä¸åœ¨kçš„æ»‘åŠ¨åŒºé—´å†…
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>		f[<span style="color:#f60">1</span>][i] <span style="color:#555">=</span> f[<span style="color:#f60">0</span>][q[head]]<span style="color:#555">-</span>sum[q[head]] <span style="color:#555">+</span> sum[i]; <span style="color:#09f;font-style:italic">//&lt;--åˆ©ç”¨äº†å•è°ƒé˜Ÿåˆ—ï¼Œå¯ä»¥ä¿è¯æ¯æ¬¡è¿™é‡Œå–åˆ°çš„f[0][q[head]] - sum[q[head]]æ˜¯æœ€å¤§çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>		<span style="color:#069;font-weight:bold">while</span>(head<span style="color:#555">&lt;=</span>tail<span style="color:#555">&amp;&amp;</span>f[<span style="color:#f60">0</span>][i]<span style="color:#555">-</span>sum[i]<span style="color:#555">&gt;</span>f[<span style="color:#f60">0</span>][q[tail]]<span style="color:#555">-</span>sum[q[tail]])tail<span style="color:#555">--</span>;<span style="color:#09f;font-style:italic">//ç»´æŠ¤é˜Ÿåˆ—å•è°ƒæ€§ï¼Œæ–°æ•°å¤§äºåŸæ•°å°±å‡ºé˜Ÿ&lt;----è¿™å…¶å®å°±æ˜¯ä¸ªå•è°ƒé€’å‡é˜Ÿåˆ—ï¼Œé˜Ÿå¤´å…ƒç´ æ˜¯æœ€å¤§çš„å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>		q[<span style="color:#555">++</span>tail]<span style="color:#555">=</span>i;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cout<span style="color:#555">&lt;&lt;</span>max(f[<span style="color:#f60">0</span>][n],f[<span style="color:#f60">1</span>][n]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<ol start="2">
<li>æ­£éš¾åˆ™åæ³•ï¼š</li>
</ol>
<p>é¢˜ç›®æ˜¯è¦æ±‚å–å‡ºçš„æ•°è¦è¾¾åˆ°æœ€å¤§ï¼Œä¹Ÿå°±æ˜¯è¦ä½¿å¾—ç•™ä¸‹çš„æ•°æœ€å°
å¯ä»¥è¿™æ ·æƒ³ï¼Œç°åœ¨å–å‡ºæ»¡è¶³è¦æ±‚ä¸”å’Œæœ€å°çš„æ•°limï¼Œç„¶åç•™ä¸‹çš„æ•°sum-limçš„å’Œå°±æ˜¯æœ€å¤§çš„&ndash;&gt;è½¬åŒ–ä¸ºå–å‡ºçš„æ•°è¦æœ€å°ï¼Œæ³¨æ„æ­¤æ—¶çº¦æŸæ¡ä»¶ä¹Ÿè¦ç”±åŸæ¥çš„ä¸èƒ½å–è¿ç»­kä¸ªæ”¹ä¸ºä¸¤ä¸ªç›¸é‚»çš„è¢«å–çš„æ•°ä¸­é—´æœ€å¤šåªèƒ½æœ‰kä¸ªæ•°</p>
<p>æ­¤æ—¶çš„åŠ¨æ€è½¬ç§»æ–¹ç¨‹å¯ä¸º $dp[i]=min{dp[j]}+a[i],i-k-1â‰¤jâ‰¤i-1$â€‹â€‹â€‹â€‹
è¡¨ç¤ºæ»¡è¶³æ¡ä»¶çš„å‰iä¸ªæ•°è¢«é€‰ä¸”<strong>ç¬¬iä¸ªæ•°ä¹Ÿè¢«é€‰</strong>çš„å’Œçš„æœ€å°å€¼
çº¦æŸæ¡ä»¶è½¬åŒ–ä¸ºï¼š<strong>ä¸¤ä¸ªç›¸é‚»çš„è¢«é€‰æ‹©çš„æ•°ä¸­é—´æœ€å¤šåªèƒ½æœ‰kä¸ªæ•°ã€‚</strong></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h <span style="color:#555">=</span> <span style="color:#f60">0</span>, t <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> k <span style="color:#555">+</span> <span style="color:#f60">1</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    dp[i] <span style="color:#555">=</span> a[i];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(h <span style="color:#555">!=</span> t <span style="color:#555">&amp;&amp;</span> dp[q[h<span style="color:#555">-</span><span style="color:#f60">1</span>]] <span style="color:#555">&gt;=</span> dp[i]) <span style="color:#555">--</span>h;
</span></span><span style="display:flex;"><span>    q[h<span style="color:#555">++</span>] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> k <span style="color:#555">+</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> n <span style="color:#555">+</span> <span style="color:#f60">1</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(h <span style="color:#555">!=</span> t <span style="color:#555">&amp;&amp;</span> q[t] <span style="color:#555">&lt;</span> i <span style="color:#555">-</span> k <span style="color:#555">-</span> <span style="color:#f60">1</span>) t <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    dp[i] <span style="color:#555">=</span> dp[q[t]] <span style="color:#555">+</span> a[i];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(h <span style="color:#555">!=</span> t <span style="color:#555">&amp;&amp;</span> dp[q[h <span style="color:#555">-</span> <span style="color:#f60">1</span>]] <span style="color:#555">&gt;=</span> dp[i]) <span style="color:#555">--</span>h;
</span></span><span style="display:flex;"><span>    q[h<span style="color:#555">++</span>] <span style="color:#555">=</span> i; 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">return</span> sum <span style="color:#555">-</span> dp[n <span style="color:#555">+</span> <span style="color:#f60">1</span>];
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´7æœˆ31æ—¥">2021å¹´7æœˆ31æ—¥</h3>
<blockquote>
<p>2021å¹´7æœˆçš„æœ€åä¸€å¤©
ä¹Ÿå°±æ˜¯åŸºç¡€ç®—æ³•ç­çš„æœ€åä¸€å¤©çš„è®­ç»ƒç»“æŸã€‚</p>
<p>æˆ‘å¸Œæœ›æˆ‘èƒ½åšä¸€ä¸ªä¸ä»¥ç‰©å–œã€ä¸ä»¥å·±æ‚²çš„äºº
ç«­å°½å…¨åŠ›åçš„ä¸å¼ºæ±‚ï¼Œè€Œä¸æ˜¯æ— æ‰€äº‹æ˜¯åçš„ä¸ä½œä¸º</p>
<p>åŠ æ²¹ï¼å°‘é›„ï¼</p>
</blockquote>
<h4 id="å‘¨èµ›è¡¥é¢˜">å‘¨èµ›è¡¥é¢˜</h4>
<h4 id="p1734-æœ€å¤§çº¦æ•°å’Œ">P1734 æœ€å¤§çº¦æ•°å’Œ</h4>
<blockquote>
<p>æœ¬é¢˜å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ª0/1èƒŒåŒ…é—®é¢˜</p>
<p>è¾“å…¥çš„sä¹Ÿå°±æ˜¯å¯ä»¥å½“ä½œæ˜¯æ€»ä½“ç§¯
è€Œå°äºsçš„æ¯ä¸ªæ•°éƒ½å› æ•°å’Œå°±æ˜¯ä»·å€¼ï¼Œæ¯ä¸ªæ•°å°±æ˜¯å•ä¸ªä½“ç§¯</p>
<p>ä¹Ÿå°±æ˜¯æ±‚ä¸è¶…è¿‡sæ€»ä½“ç§¯çš„æ‰€æœ‰æ•°çš„å› ç´ å’Œæœ€å¤§</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//é‡åˆ°è¿™ç§ç­›å› æ•°å’Œã€è´¨æ•°çš„é¢˜ç›®ï¼Œè¦å–„äºå»è¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#a00;background-color:#faa">ç­›æ¯ä¸ªæ•°çš„å› æ•°å’Œ</span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n<span style="color:#555">/</span><span style="color:#f60">2</span>; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">*</span> j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a[i<span style="color:#555">*</span>j] <span style="color:#555">+=</span> i; 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//a[i] å°±æ˜¯iä¸åŒ…æ‹¬è‡ªèº«çš„å› æ•°å’ŒğŸ‘†æ˜¯è¿›è¡Œäº†ç®€å•ä¼˜åŒ–çš„ç‰ˆæœ¬
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//åœ¨è¿™é‡Œå…¶å®æ¯ä¸ªiçš„å¤§å°å°±æ˜¯æ¯ä¸ªå•ç‹¬çš„ä½“ç§¯ï¼Œa[i]å°±æ˜¯æ¯ä¸ªiçš„ä»·å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic">//0/1èƒŒåŒ…æ¨¡æ¿
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> n; j <span style="color:#555">&gt;=</span> i; j <span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        dp[j] <span style="color:#555">=</span> max(dp[j], dp[j<span style="color:#555">-</span>i] <span style="color:#555">+</span> a[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p2384-æœ€çŸ­è·¯">P2384 æœ€çŸ­è·¯</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2384">https://www.luogu.com.cn/problem/P2384</a></p>
</blockquote>
<blockquote>
<p>è¯´æ¥å°´å°¬ï¼Œåšé¢˜çš„æ—¶å€™ä¸å°å¿ƒè¢«æˆ‘å»çœ‹åˆ°é¢˜è§£ã€‚</p>
<blockquote>
<p>éš¾ç‚¹1ï¼šè¯¥é¢˜å¯èƒ½ä¼šçˆ†long * longæ•°æ®ï¼Œè¶…å‡ºllèƒ½å¤Ÿå­˜æ”¾çš„æ•°æ®èŒƒå›´
æ•…æ­¤è¯¥é¢˜å¯ä»¥é‡‡ç”¨å·§å¦™çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡å–logå°†åŸæ¥çš„ä¹˜æ³•è½¬åŒ–ä¸ºåŠ æ³•ï¼Œç„¶åSPFAç®—æ³•è¿›è¡Œçš„åŒæ—¶è¿›è¡Œè·¯å¾„ä¿å­˜ã€‚</p>
</blockquote>
<p><code>å¯¹w[i]å–logåå¯ä»¥å°†åŸæ¥çš„ä¹˜æ³•è½¬åŒ–ä¸ºåŠ æ³•</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;queue&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;cmath&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ll;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1100</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">1000100</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> mod <span style="color:#555">=</span> <span style="color:#f60">9987</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h[N],e[M],ne[M],idx;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> w[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> st[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> g[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> pre[M];<span style="color:#09f;font-style:italic">//&lt;---è®°å½•è·¯å¾„å‰é©±
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">double</span> dist[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n, m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> x,y,z;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b, <span style="color:#078;font-weight:bold">double</span> wi)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    w[idx] <span style="color:#555">=</span> wi;
</span></span><span style="display:flex;"><span>    ne[idx] <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>ll <span style="color:#c0f">ksc</span>(ll a, ll b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ll r <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(b)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(b <span style="color:#555">&amp;</span> <span style="color:#f60">1</span>) r <span style="color:#555">=</span> (r <span style="color:#555">+</span> a) <span style="color:#555">%</span> mod;
</span></span><span style="display:flex;"><span>        a <span style="color:#555">=</span> (a <span style="color:#555">+</span> a) <span style="color:#555">%</span> mod;
</span></span><span style="display:flex;"><span>        b <span style="color:#555">&gt;&gt;=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> r <span style="color:#555">%</span> mod;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">spfa</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n <span style="color:#555">+</span> <span style="color:#f60">1</span>; i <span style="color:#555">++</span>) dist[i] <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f3f3f3f3f</span>;
</span></span><span style="display:flex;"><span>    dist[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#555">&lt;</span><span style="color:#078;font-weight:bold">int</span><span style="color:#555">&gt;</span> q;
</span></span><span style="display:flex;"><span>    q.push(<span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    st[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(q.size())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">auto</span> t <span style="color:#555">=</span> q.front();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        st[t] <span style="color:#555">=</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[t]; i <span style="color:#555">!=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>; i <span style="color:#555">=</span> ne[i]){
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i];
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(dist[j] <span style="color:#555">&gt;</span> dist[t] <span style="color:#555">+</span> w[i]){ <span style="color:#09f;font-style:italic">//&lt;---dist[t]*w[i]ï¼Œå› ä¸ºw[i]è½¬åŒ–æˆäº†logï¼Œè¿™æ ·ä¹˜æ³•å°±èƒ½ä»¥å¾ˆå·§å¦™çš„æ–¹å¼è½¬åŒ–æˆåŠ æ³•äº†
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                dist[j] <span style="color:#555">=</span> dist[t] <span style="color:#555">+</span> w[i];
</span></span><span style="display:flex;"><span>                pre[j] <span style="color:#555">=</span> t; <span style="color:#09f;font-style:italic">//&lt;===è®°å½•ä¸€ä¸‹å‰é©±
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[j]){
</span></span><span style="display:flex;"><span>                    q.push(j);
</span></span><span style="display:flex;"><span>                    st[j] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    memset(h, <span style="color:#555">-</span><span style="color:#f60">1</span>, <span style="color:#069;font-weight:bold">sizeof</span> h);
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d&#34;</span>, <span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>m);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d%d%d&#34;</span>, <span style="color:#555">&amp;</span>x,<span style="color:#555">&amp;</span>y,<span style="color:#555">&amp;</span>z);
</span></span><span style="display:flex;"><span>        g[x][y] <span style="color:#555">=</span> z; <span style="color:#09f;font-style:italic">//&lt;---è¿™é‡Œå­˜æ”¾åŸæ¥çš„æƒå€¼
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        <span style="color:#078;font-weight:bold">double</span> r <span style="color:#555">=</span> log(z);
</span></span><span style="display:flex;"><span>        add(x, y, r);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(n <span style="color:#555">==</span> <span style="color:#f60">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#c30">&#34;0&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    spfa();
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> n; i <span style="color:#555">&gt;</span> <span style="color:#f60">1</span>; i <span style="color:#555">=</span> pre[i]){ <span style="color:#09f;font-style:italic">//&lt;---è¿™é‡Œçš„ç›®çš„æ˜¯å°†logè½¬åŒ–å›æ¥ï¼Œé‡‡ç”¨çš„æ–¹å¼æ˜¯å€’è¿‡æ¥è¿›è¡Œç´¯ä¹˜ï¼Œç”±logæ¢å¤æˆåŸæ¥çš„ç­”æ¡ˆï¼Œæ³¨æ„å¯¹ç­”æ¡ˆè¿›è¡Œå–æ¨¡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>        ans <span style="color:#555">=</span> ksc(ans, (ll)g[pre[i]][i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#c30">&#34;%lld&#34;</span>, ans <span style="color:#555">%</span> mod);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3183-haoi2016-é£Ÿç‰©é“¾">P3183 [HAOI2016]é£Ÿç‰©é“¾</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3183">https://www.luogu.com.cn/problem/P3183</a></p>
</blockquote>
<blockquote>
<p>è¿™é“é¢˜åªæ˜¯ä¸€é“ç®€å•çš„è®°å¿†åŒ–æœç´¢é¢˜
ä½†æ˜¯æ˜¾ç„¶åœ¨è¿™é‡Œå¦‚æœé‡‡ç”¨é‚»æ¥è¡¨çš„å­˜å‚¨æ–¹å¼å‡ºç°äº†MLEçš„é”™è¯¯</p>
<p>æ•…æ­¤ï¼Œä¸å¦¨é‡‡ç”¨ç»“æ„ä½“æ¥å­˜å‚¨ç‚¹</p>
<p>æ³¨æ„æ­¤å¤„è¦å¿½ç•¥å•ç‚¹</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">200010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> a,b,ne;
</span></span><span style="display:flex;"><span>}e[M];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h[N],idx;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> x, y;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> in[N],out[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[<span style="color:#555">++</span>idx].a <span style="color:#555">=</span> a;
</span></span><span style="display:flex;"><span>    e[idx].b <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    e[idx].ne <span style="color:#555">=</span> h[a];
</span></span><span style="display:flex;"><span>    h[a] <span style="color:#555">=</span> idx;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">dfs</span>(<span style="color:#078;font-weight:bold">int</span> u) <span style="color:#09f;font-style:italic">//è®°å¿†åŒ–æœç´¢
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(f[u]) <span style="color:#069;font-weight:bold">return</span> f[u];
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> cur <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(out[u] <span style="color:#555">==</span> <span style="color:#f60">0</span>) <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[u]; i; i <span style="color:#555">=</span> e[i].ne)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> e[i].b;
</span></span><span style="display:flex;"><span>        cur <span style="color:#555">+=</span> dfs(j);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> f[u] <span style="color:#555">=</span> cur;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> x <span style="color:#555">&gt;&gt;</span> y;
</span></span><span style="display:flex;"><span>        add(x,y);
</span></span><span style="display:flex;"><span>        in[y] <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        out[x] <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> ans <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(in[i] <span style="color:#555">==</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> out[i] <span style="color:#555">!=</span> <span style="color:#f60">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">+=</span> dfs(i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´8æœˆ2æ—¥">2021å¹´8æœˆ2æ—¥</h3>
<blockquote>
<p>å¹¶æŸ¥é›†
Primæœ€å°ç”Ÿæˆæ ‘ç®—æ³•</p>
</blockquote>
<h4 id="p1621-é›†åˆ">P1621 é›†åˆ</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1621">https://www.luogu.com.cn/problem/P1621</a></p>
<blockquote>
<p>æ€è€ƒé—®é¢˜çš„æ—¶å€™æ€è·¯ä¸€å®šè¦æ¸…æ™°</p>
</blockquote>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">100010</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> a,b,p;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> f[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> ans;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> prime[<span style="color:#f60">501000</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> cnt;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> st[<span style="color:#f60">501000</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">find</span>(<span style="color:#078;font-weight:bold">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(f[x] <span style="color:#555">!=</span> x) f[x] <span style="color:#555">=</span> find(f[x]);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> f[x];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ios<span style="color:#555">::</span>sync_with_stdio(<span style="color:#366">false</span>);
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> a <span style="color:#555">&gt;&gt;</span> b <span style="color:#555">&gt;&gt;</span> p;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> a; i <span style="color:#555">&lt;=</span> b; i <span style="color:#555">++</span>) f[i] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> b; i <span style="color:#555">++</span>)<span style="color:#09f;font-style:italic">//åŸƒç­›ç­›è´¨æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>st[i])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(i <span style="color:#555">&gt;=</span> p) <span style="color:#09f;font-style:italic">//å¦‚æœè¿™ä¸ªè´¨æ•°æ»¡è¶³è¦æ±‚çš„è¯ï¼Œåˆ™å»æ±‚ä¸€ä¸‹è¿™ä¸ªè´¨æ•°pçš„å€æ•°ï¼Œè‚¯å®šéƒ½æ˜¯æ»¡è¶³è¦æ±‚çš„
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> i <span style="color:#555">*</span> <span style="color:#f60">2</span>; j <span style="color:#555">&lt;=</span> b; j <span style="color:#555">+=</span> i)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    st[j] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#069;font-weight:bold">if</span>(j <span style="color:#555">-</span> i <span style="color:#555">&gt;=</span> a <span style="color:#555">&amp;&amp;</span> find(j) <span style="color:#555">!=</span> find(j <span style="color:#555">-</span> i)) <span style="color:#09f;font-style:italic">//j-iå®é™…ä¸Šå°±æ˜¯iè¿™ä¸ªè´¨æ•°çš„å€æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                    {
</span></span><span style="display:flex;"><span>                        f[find(j)] <span style="color:#555">=</span> find(j<span style="color:#555">-</span>i); <span style="color:#09f;font-style:italic">//åˆ™jå’Œj-iè¿›è¡Œåˆå¹¶
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> i <span style="color:#555">*</span> <span style="color:#f60">2</span>; j <span style="color:#555">&lt;=</span> b; j <span style="color:#555">+=</span> i)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    st[j] <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> a; i <span style="color:#555">&lt;=</span> b; i<span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(f[i] <span style="color:#555">==</span> i)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ans <span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p3366-æ¨¡æ¿-æœ€å°ç”Ÿæˆæ ‘">P3366 ã€æ¨¡æ¿ã€‘æœ€å°ç”Ÿæˆæ ‘</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3366">https://www.luogu.com.cn/problem/P3366</a></p>
</blockquote>
<p><code>Prim()ç®—æ³•çš„æ¨¡æ¿é¢˜</code></p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">5010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> M <span style="color:#555">=</span> <span style="color:#f60">200010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> INF <span style="color:#555">=</span> <span style="color:#f60">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">edge</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> v,w,next;
</span></span><span style="display:flex;"><span>}e[M<span style="color:#555">&lt;&lt;</span><span style="color:#f60">1</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> h[N],dist[N],cnt,n,m,now<span style="color:#555">=</span><span style="color:#f60">1</span>,ans<span style="color:#555">=</span><span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">bool</span> vis[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">add</span>(<span style="color:#078;font-weight:bold">int</span> u, <span style="color:#078;font-weight:bold">int</span> v, <span style="color:#078;font-weight:bold">int</span> w)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[<span style="color:#555">++</span>cnt].v <span style="color:#555">=</span> v;
</span></span><span style="display:flex;"><span>    e[cnt].w <span style="color:#555">=</span> w;
</span></span><span style="display:flex;"><span>    e[cnt].next <span style="color:#555">=</span> h[u];
</span></span><span style="display:flex;"><span>    h[u] <span style="color:#555">=</span> cnt;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">prim</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">2</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) dist[i] <span style="color:#555">=</span> INF;
</span></span><span style="display:flex;"><span>    dist[<span style="color:#f60">1</span>] <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å¤„ç†é‡è¾¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> h[<span style="color:#f60">1</span>]; i; i <span style="color:#555">=</span> e[i].next)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        dist[e[i].v] <span style="color:#555">=</span> min(dist[e[i].v], e[i].w);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">0</span>; i <span style="color:#555">&lt;</span> n <span style="color:#555">-</span> <span style="color:#f60">1</span>; i <span style="color:#555">++</span>) <span style="color:#09f;font-style:italic">//æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ç­‰äºç‚¹æ•°-1
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> minn <span style="color:#555">=</span> INF;
</span></span><span style="display:flex;"><span>        vis[now] <span style="color:#555">=</span> <span style="color:#f60">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(<span style="color:#555">!</span>vis[j] <span style="color:#555">&amp;&amp;</span> minn <span style="color:#555">&gt;</span> dist[j])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                minn <span style="color:#555">=</span> dist[j];
</span></span><span style="display:flex;"><span>                now <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ans <span style="color:#555">+=</span> minn;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> h[now]; j; j <span style="color:#555">=</span> e[j].next)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#078;font-weight:bold">int</span> v <span style="color:#555">=</span> e[j].v;
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(dist[v] <span style="color:#555">&gt;</span> e[j].w <span style="color:#555">&amp;&amp;</span> <span style="color:#555">!</span>vis[v])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dist[v] <span style="color:#555">=</span> e[j].w;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n <span style="color:#555">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> m; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#078;font-weight:bold">int</span> u,v,w;
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> u <span style="color:#555">&gt;&gt;</span> v <span style="color:#555">&gt;&gt;</span> w;
</span></span><span style="display:flex;"><span>        add(u,v,w);
</span></span><span style="display:flex;"><span>        add(v,u,w);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> t <span style="color:#555">=</span> prim();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(t <span style="color:#555">&gt;=</span> INF<span style="color:#555">/</span><span style="color:#f60">2</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#555">&lt;&lt;</span> <span style="color:#c30">&#34;orz&#34;</span> <span style="color:#555">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">else</span> cout <span style="color:#555">&lt;&lt;</span> t <span style="color:#555">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="p4047-jsoi2010-éƒ¨è½åˆ’åˆ†-kruscalç®—æ³•æ€è·¯">P4047 [JSOI2010]éƒ¨è½åˆ’åˆ† [Kruscalç®—æ³•æ€è·¯]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P4047">https://www.luogu.com.cn/problem/P4047</a></p>
</blockquote>
<blockquote>
<p>è¯¥é¢˜çš„æ€è·¯å°±æ˜¯ï¼Œé¦–å…ˆæŠŠæ¯ä¸€ä¸ªç‚¹éƒ½è¿èµ·æ¥ï¼Œæƒå€¼èµ‹å€¼ä¸ºæ¯ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æ¬§å‡ é‡Œå¾—è·ç¦»
ç„¶åè¿›è¡ŒKruscalç®—æ³•ï¼Œå°†è¾¹è¿›è¡Œåˆå¹¶ï¼Œå› ä¸ºKruscalç®—æ³•æ˜¯ä»å°åˆ°å¤§è¿›è¡Œè¾¹çš„åˆå¹¶çš„ï¼Œ
æœ€å¼€å§‹çš„æ—¶å€™æ˜¯å°†æ‰€æœ‰å•ç‹¬çš„æ‘è½éƒ½çœ‹ä½œæ˜¯ä¸€ä¸ªé›†ç¾¤
ç„¶åè¿›è¡Œkruscalç®—æ³•çš„æ—¶å€™ä»å°åˆ°å¤§è¿›è¡Œè¾¹çš„åˆå¹¶ï¼Œæ¯åˆå¹¶ä¸€æ¬¡â€œæ‘è½é›†ç¾¤çš„æ•°ç›®nâ€éƒ½å‡ä¸€
ç›´åˆ°æ‘è½é›†ç¾¤çš„æ•°é‡ä¸è§„å®šçš„ç›®æ ‡æ•°é‡ä¸€æ ·çš„æ—¶å€™ï¼Œæ­¤æ—¶å°±ç›´æ¥è¾“å‡ºå½“å‰å¾…åˆå¹¶çš„æƒå€¼ï¼ˆå› ä¸ºæ˜¯ä»Kruscalç®—æ³•ä¸­è·å¾—çš„æƒå€¼ï¼Œæ•…æ­¤å¯çŸ¥è¯¥æƒå€¼ä¸€å®šæ˜¯æ»¡è¶³è¦æ±‚çš„æœ€å°å€¼)</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1e7</span><span style="color:#555">+</span><span style="color:#f60">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> p[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> num; <span style="color:#09f;font-style:italic">//å­˜æ”¾æœ‰å¤šå°‘è¾¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span><span style="color:#069;font-weight:bold">struct</span> <span style="color:#0a8;font-weight:bold">edge</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> u,v;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">double</span> w;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> <span style="color:#069;font-weight:bold">operator</span><span style="color:#555">&lt;</span>(<span style="color:#069;font-weight:bold">const</span> edge <span style="color:#555">&amp;</span>t)<span style="color:#069;font-weight:bold">const</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">return</span> w <span style="color:#555">&lt;</span> t.w;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}pre[N],e[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,k;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">find</span>(<span style="color:#078;font-weight:bold">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">if</span>(p[x] <span style="color:#555">!=</span> x) p[x] <span style="color:#555">=</span> find(p[x]);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> p[x];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">double</span> <span style="color:#c0f">cal</span>(<span style="color:#078;font-weight:bold">int</span> a, <span style="color:#078;font-weight:bold">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> sqrt((pre[a].u<span style="color:#555">-</span>pre[b].u)<span style="color:#555">*</span>(pre[a].u<span style="color:#555">-</span>pre[b].u) <span style="color:#555">+</span> (pre[a].v<span style="color:#555">-</span>pre[b].v)<span style="color:#555">*</span>(pre[a].v<span style="color:#555">-</span>pre[b].v));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">kruscal</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>) p[i] <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>    sort(e<span style="color:#555">+</span><span style="color:#f60">1</span>, e<span style="color:#555">+</span>num<span style="color:#555">+</span><span style="color:#f60">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">bool</span> flag <span style="color:#555">=</span> <span style="color:#366">false</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> cur <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> num; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(cur <span style="color:#555">==</span> n <span style="color:#555">-</span> k) flag <span style="color:#555">=</span> <span style="color:#366">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(find(e[i].u) <span style="color:#555">!=</span> find(e[i].v))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cur<span style="color:#555">++</span>;
</span></span><span style="display:flex;"><span>            p[find(e[i].u)] <span style="color:#555">=</span> find(e[i].v);
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(flag)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                printf(<span style="color:#c30">&#34;%.2lf</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>, e[i].w);
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d&#34;</span>, <span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>k);
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> a,b;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d%d&#34;</span>, <span style="color:#555">&amp;</span>a,<span style="color:#555">&amp;</span>b);
</span></span><span style="display:flex;"><span>        pre[i].u <span style="color:#555">=</span> a;
</span></span><span style="display:flex;"><span>        pre[i].v <span style="color:#555">=</span> b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#09f;font-style:italic">//å»ºå›¾å­˜è¾¹
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">if</span>(i <span style="color:#555">!=</span> j)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                e[<span style="color:#555">++</span>num].u <span style="color:#555">=</span> i;
</span></span><span style="display:flex;"><span>                e[num].v <span style="color:#555">=</span> j;
</span></span><span style="display:flex;"><span>                e[num].w <span style="color:#555">=</span> cal(i,j);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    kruscal();
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2021å¹´8æœˆ3æ—¥">2021å¹´8æœˆ3æ—¥</h3>
<blockquote>
<p>HashåŠå…¶åº”ç”¨</p>
</blockquote>
<h3 id="2022å¹´3æœˆ19æ—¥">2022å¹´3æœˆ19æ—¥</h3>
<h4 id="p1955-noi2015-ç¨‹åºè‡ªåŠ¨åˆ†æ-ç¦»æ•£åŒ–">P1955[NOI2015] ç¨‹åºè‡ªåŠ¨åˆ†æ [ç¦»æ•£åŒ–]</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1955">https://www.luogu.com.cn/problem/P1955</a></p>
</blockquote>
<blockquote>
<p>ç¦»æ•£åŒ–çš„ä¸€èˆ¬æ–¹æ³•:</p>
<p>ç¦»æ•£åŒ–ï¼Œå°±æ˜¯æŠŠä¸€äº›å¾ˆç¦»æ•£çš„ç‚¹ç»™é‡æ–°åˆ†é…ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªåæ ‡è½´å¾ˆé•¿(&gt;1e10)ï¼Œç»™ä½ 1e4ä¸ªåæ ‡ï¼Œè¯¢é—®æŸä¸€ä¸ªç‚¹ï¼Œåæ ‡æ¯”å®ƒå°çš„ç‚¹æœ‰å¤šå°‘ã€‚</p>
<p>å¾ˆå®¹æ˜“å°±çŸ¥é“ï¼Œå¯¹äº1e4ä¸ªç‚¹ï¼Œæˆ‘ä»¬ä¸å¿…æŠŠä»–ä»¬åœ¨åæ ‡è½´ä¸Šçš„ä½ç½®éƒ½è¡¨ç¤ºå‡ºæ¥ï¼Œå› ä¸ºæˆ‘ä»¬æ¯”è¾ƒæœ‰å¤šå°‘æ¯”å®ƒå°çš„è¯ï¼Œåªéœ€è¦çŸ¥é“ä»–ä»¬ä¹‹é—´çš„ç›¸å¯¹å¤§å°å°±å¯ä»¥ï¼Œè€Œä¸æ˜¯ç»å¯¹å¤§å°ï¼Œè¿™ï¼Œå°±éœ€è¦ç¦»æ•£åŒ–ã€‚</p>
<p>è€Œç¦»æ•£åŒ–åˆåˆ†ä¸ºä¸¤ç§ï¼Œåˆ†ä¸ºçš„ä¸¤ç§æ˜¯å¯¹äºé‡å¤å…ƒç´ æ¥åˆ’åˆ†çš„ã€‚ç¬¬ä¸€ç§æ˜¯é‡å¤å…ƒç´ ç¦»æ•£åŒ–åçš„æ•°å­—ç›¸åŒï¼Œç¬¬äºŒç§å°±æ˜¯ä¸åŒã€‚</p>
<blockquote>
<p>ç¬¬ä¸€ç§ yxcçš„ç¦»æ•£åŒ–æ¨¡æ¿</p>
<p>å…¶å®å°±æ˜¯ç”¨ä¸€ä¸ªè¾…åŠ©çš„æ•°ç»„æŠŠä½ è¦<a href="https://so.csdn.net/so/search?q=%E7%A6%BB%E6%95%A3&amp;spm=1001.2101.3001.7020">ç¦»æ•£</a>çš„æ‰€æœ‰æ•°æ®å­˜ä¸‹æ¥ã€‚</p>
<p>ç„¶åæ’åºï¼Œæ’åºæ˜¯ä¸ºäº†åé¢çš„äºŒåˆ†ã€‚</p>
<p>å»é‡ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä¿è¯ç›¸åŒçš„å…ƒç´ ç¦»æ•£åŒ–åæ•°å­—ç›¸åŒã€‚</p>
<p>å†ç”¨äºŒåˆ†æŠŠç¦»æ•£åŒ–åçš„æ•°å­—æ”¾å›åŸæ•°ç»„ã€‚</p>
</blockquote>
<blockquote>
<p>ç¬¬äºŒç§</p>
<p>ç¬¬äºŒç§æ–¹å¼å…¶å®å°±æ˜¯æ’åºä¹‹åï¼Œæšä¸¾ç€æ”¾å›åŸæ•°ç»„</p>
<p>ç”¨ä¸€ä¸ªç»“æ„ä½“å­˜ä¸‹åŸæ•°å’Œä½ç½®ï¼ŒæŒ‰ç…§åŸæ•°æ’åº</p>
</blockquote>
</blockquote>
<blockquote>
<p>å…ˆæ’åºï¼ŒæŠŠæ‰€æœ‰e==1çš„æ“ä½œæ”¾åœ¨å‰é¢ï¼Œç„¶åå†è¿›è¡Œe==0çš„æ“ä½œï¼Œåœ¨è¿›è¡Œe==1çš„æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬åªè¦æŠŠå®ƒçº¦æŸçš„ä¸¤ä¸ªå˜é‡æ”¾åœ¨åŒä¸€ä¸ªé›†åˆé‡Œé¢å³å¯ã€‚åœ¨e==0ï¼Œå³å­˜åœ¨ä¸€æ¡ä¸ç›¸ç­‰çš„çº¦æŸæ¡ä»¶ï¼Œå¯¹äºå®ƒçº¦æŸçš„ä¸¤ä¸ªå˜é‡ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé›†åˆé‡Œé¢ï¼Œé‚£å°±ä¸å¯èƒ½æ»¡è¶³ï¼å¦‚ä¸ç›¸ç­‰çš„çº¦æŸæ¡ä»¶éƒ½æ»¡è¶³ï¼Œé‚£å°±YESã€‚</p>
<p>è¿˜æœ‰å•Šï¼Œæˆ‘ä»¬è¦å…³æ³¨ä¸€ä¸‹æ•°æ®èŒƒå›´ï¼Œæ˜¯æœ‰10çš„9æ¬¡æ–¹é‚£ä¹ˆå¤§ï¼Œå¦‚æœå¼€ä¸€ä¸ª10çš„9æ¬¡æ–¹å¤§çš„faæ•°ç»„çš„è¯ï¼Œç©ºé—´è‚¯å®šè¶…é™ï¼Œè¶…é™å°±å‡‰å‡‰ï¼ˆäº²èº«ç»å†ï¼Œè¯·å‹¿æ¨¡ä»¿ï¼Œè°¢è°¢é…åˆï¼ï¼ï¼ï¼‰æ‰€ä»¥ï¼Œå„ä½äº²çˆ±çš„å°ä¼™ä¼´ä»¬ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ç¦»ï¼æ•£ï¼åŒ–ï¼ã€‚</p>
<p>æ€»å¾—æ¥è¯´ç¦»æ•£åŒ–æœ‰ä¸‰æ­¥èµ°æˆ˜ç•¥ï¼š</p>
<p>1.å»é‡ï¼ˆå¯ä»¥ç”¨åˆ°uniqueå»é‡å‡½æ•°ï¼‰</p>
<p>2.æ’åº</p>
<p>3.äºŒåˆ†ç´¢å¼•ï¼ˆå¯ä»¥ç”¨åˆ°lower_boundå‡½æ•°ï¼‰</p>
<p>ä¹Ÿè¦æ³¨æ„ï¼šç›¸ç­‰å…·æœ‰ä¼ é€’æ€§!!</p>
</blockquote>
<h3 id="2022å¹´3æœˆ26æ—¥">2022å¹´3æœˆ26æ—¥</h3>
<h4 id="ä¸¤é“æ ‘çŠ¶æ•°ç»„æ¨¡æ¿">ä¸¤é“æ ‘çŠ¶æ•°ç»„æ¨¡æ¿</h4>
<blockquote>
<p><a href="https://www.luogu.com.cn/problem/P3374">https://www.luogu.com.cn/problem/P3374</a> â€”â€”å•ç‚¹æ›´æ–°ä¸æŸ¥è¯¢</p>
<p><a href="https://www.luogu.com.cn/problem/P3368">https://www.luogu.com.cn/problem/P3368</a> â€”â€”åŒºé—´æ›´æ–°ä¸æŸ¥è¯¢</p>
<p>éš¾çš„æ€»ä¸æ˜¯æ•°æ®ç»“æ„çš„æ¨¡æ¿ï¼Œè€Œæ˜¯é‚£ä¸ªæ€è€ƒçš„è¿‡ç¨‹å’Œè½¬åŒ–æˆæ ‘çŠ¶æ•°ç»„ç±»å‹é¢˜ç›®çš„èƒ½åŠ›ï¼ï¼</p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">1000010</span>;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">typedef</span> <span style="color:#078;font-weight:bold">long</span> <span style="color:#078;font-weight:bold">long</span> ll;
</span></span><span style="display:flex;"><span>ll a[N],c[N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n,l,r,k,op;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">lowbit</span>(<span style="color:#078;font-weight:bold">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> x<span style="color:#555">&amp;</span>(<span style="color:#555">-</span>x);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">update</span>(<span style="color:#078;font-weight:bold">int</span> i, <span style="color:#078;font-weight:bold">int</span> k)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(i <span style="color:#555">&lt;=</span> n)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        c[i] <span style="color:#555">+=</span> k;
</span></span><span style="display:flex;"><span>        i <span style="color:#555">+=</span> lowbit(i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>ll <span style="color:#c0f">getsum</span>(<span style="color:#078;font-weight:bold">int</span> i){<span style="color:#09f;font-style:italic">//è¿”å›çš„æ˜¯[1,i-1]ä¹‹é—´çš„å’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>    ll res <span style="color:#555">=</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(i <span style="color:#555">&gt;</span> <span style="color:#f60">0</span>){
</span></span><span style="display:flex;"><span>        res <span style="color:#555">+=</span> c[i];
</span></span><span style="display:flex;"><span>        i <span style="color:#555">-=</span> lowbit(i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#c30">&#34;%d%d&#34;</span>,<span style="color:#555">&amp;</span>n,<span style="color:#555">&amp;</span>k);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%lld&#34;</span>,<span style="color:#555">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>        update(i,a[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">while</span>(k<span style="color:#555">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#c30">&#34;%d%d%d&#34;</span>,<span style="color:#555">&amp;</span>op,<span style="color:#555">&amp;</span>l,<span style="color:#555">&amp;</span>r);
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">if</span>(op <span style="color:#555">==</span> <span style="color:#f60">1</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//scanf(&#34;%d%d&#34;,&amp;l,&amp;r);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            update(l,r);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#09f;font-style:italic">//scanf(&#34;%d%d&#34;,&amp;l,&amp;r);
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>            printf(<span style="color:#c30">&#34;%lld</span><span style="color:#c30;font-weight:bold">\n</span><span style="color:#c30">&#34;</span>,(ll)getsum(r) <span style="color:#555">-</span> (ll)getsum(l<span style="color:#555">-</span><span style="color:#f60">1</span>));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2022å¹´4æœˆ4æ—¥">2022å¹´4æœˆ4æ—¥</h3>
<h4 id="p1004-noip2000-æé«˜ç»„-æ–¹æ ¼å–æ•°">P1004 [NOIP2000 æé«˜ç»„] æ–¹æ ¼å–æ•°</h4>
<blockquote>
<p>çŠ¶æ€è½¬ç§»ï¼š</p>
<p>å¤šä¸€ç»´åº¦ï¼Œéœ€è¦åˆ¤é‡ ç±»ä¼¼é¢˜ï¼šhttps://jasaxion.github.io/#/Acwing/acwing%E9%A2%98%E8%AE%B0?id=%e8%93%9d%e6%a1%a5%e6%9d%af%e7%9c%81%e8%b5%9b%e8%b5%b0%e6%96%b9%e6%a0%bc</p>
<p><code>dp[i][j][l][k] = max(max(dp[i-1][j][l-1][k],dp[i][j - 1][l][k-1]),max(dp[i - 1][j][l][k - 1],dp[i][j - 1][l - 1][k]))+g[i][j];</code></p>
</blockquote>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#099">#include</span> <span style="color:#099">&lt;bits/stdc++.h&gt;</span><span style="color:#099">
</span></span></span><span style="display:flex;"><span><span style="color:#099"></span>
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">using</span> <span style="color:#069;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#069;font-weight:bold">const</span> <span style="color:#078;font-weight:bold">int</span> N <span style="color:#555">=</span> <span style="color:#f60">110</span>;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> g[N][N];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dx[<span style="color:#f60">2</span>] <span style="color:#555">=</span> {<span style="color:#f60">0</span>,<span style="color:#f60">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dy[<span style="color:#f60">2</span>] <span style="color:#555">=</span> {<span style="color:#555">-</span><span style="color:#f60">1</span>,<span style="color:#f60">0</span>};
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> dp[<span style="color:#f60">10</span>][<span style="color:#f60">10</span>][<span style="color:#f60">10</span>][<span style="color:#f60">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#078;font-weight:bold">int</span> <span style="color:#c0f">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#555">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#078;font-weight:bold">int</span> x,y,w;
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">do</span>{
</span></span><span style="display:flex;"><span>        cin <span style="color:#555">&gt;&gt;</span> x <span style="color:#555">&gt;&gt;</span> y <span style="color:#555">&gt;&gt;</span> w;
</span></span><span style="display:flex;"><span>        g[x][y] <span style="color:#555">=</span> w;
</span></span><span style="display:flex;"><span>    }<span style="color:#069;font-weight:bold">while</span>(x <span style="color:#555">!=</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> y <span style="color:#555">!=</span> <span style="color:#f60">0</span> <span style="color:#555">&amp;&amp;</span> w <span style="color:#555">!=</span> <span style="color:#f60">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> i <span style="color:#555">=</span> <span style="color:#f60">1</span>; i <span style="color:#555">&lt;=</span> n; i <span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> j <span style="color:#555">=</span> <span style="color:#f60">1</span>; j <span style="color:#555">&lt;=</span> n; j <span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> l <span style="color:#555">=</span> <span style="color:#f60">1</span>; l <span style="color:#555">&lt;=</span> n; l <span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>                <span style="color:#069;font-weight:bold">for</span>(<span style="color:#078;font-weight:bold">int</span> k <span style="color:#555">=</span> <span style="color:#f60">1</span>; k <span style="color:#555">&lt;=</span> n; k <span style="color:#555">++</span>){
</span></span><span style="display:flex;"><span>                    dp[i][j][l][k] <span style="color:#555">=</span> max(max(dp[i<span style="color:#555">-</span><span style="color:#f60">1</span>][j][l<span style="color:#555">-</span><span style="color:#f60">1</span>][k],dp[i][j <span style="color:#555">-</span> <span style="color:#f60">1</span>][l][k<span style="color:#555">-</span><span style="color:#f60">1</span>]),max(dp[i <span style="color:#555">-</span> <span style="color:#f60">1</span>][j][l][k <span style="color:#555">-</span> <span style="color:#f60">1</span>],dp[i][j <span style="color:#555">-</span> <span style="color:#f60">1</span>][l <span style="color:#555">-</span> <span style="color:#f60">1</span>][k]))<span style="color:#555">+</span>g[i][j];
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                    <span style="color:#069;font-weight:bold">if</span>(i <span style="color:#555">!=</span> l <span style="color:#555">&amp;&amp;</span> j <span style="color:#555">!=</span> k) dp[i][j][l][k] <span style="color:#555">+=</span> g[l][k]; <span style="color:#09f;font-style:italic">//å»é‡
</span></span></span><span style="display:flex;"><span><span style="color:#09f;font-style:italic"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#555">&lt;&lt;</span> dp[n][n][n][n];
</span></span><span style="display:flex;"><span>    <span style="color:#069;font-weight:bold">return</span> <span style="color:#f60">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div>


  <footer>
    <script src="https://immmmm.com/waterfall.min.js"></script>
    <script src="https://immmmm.com/imgStatus.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
      var photosAll = document.getElementsByTagName('gallery') || '';
      if(photosAll){
        for(var i=0;i < photosAll.length;i++){
          photosAll[i].innerHTML = '<div class="gallery-photos">'+photosAll[i].innerHTML+'</div>'
          var photosIMG = photosAll[i].getElementsByTagName('img')
          for(var j=0;j < photosIMG.length;j++){
            wrap(photosIMG[j], document.createElement('div'));
          }
        }
      }
      function wrap(el, wrapper) {
        wrapper.className = "gallery-photo";
        el.parentNode.insertBefore(wrapper, el);
        wrapper.appendChild(el);
      }
      let galleryPhotos = document.querySelectorAll('.gallery-photos') || ''
      if(galleryPhotos){
        imgStatus.watch('.gallery-photo img', function(imgs) {
          if(imgs.isDone()){
            for(var i=0;i < galleryPhotos.length;i++){
              waterfall(galleryPhotos[i]);
              let pagePhoto = galleryPhotos[i].querySelectorAll('.gallery-photo');
              for(var j=0;j < pagePhoto.length;j++){pagePhoto[j].className += " visible"};
            }
          }
        });
        window.addEventListener('resize', function () {
          for(var i=0;i < galleryPhotos.length;i++){
            waterfall(galleryPhotos[i]);
          }
        });
      }
    });
    </script>
  
<nav class="post-nav">
  <span class="nav-prev"></span>
  <span class="nav-next"><a href="/posts/2021/06/acwing-%E7%AE%97%E6%B3%95%E8%AF%BE%E7%A8%8B%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/">Acwing ç®—æ³•è¯¾ç¨‹åˆ·é¢˜è®°å½•</a> &rarr;</span>
</nav>

  <hr>
  
    <div class="pagination__title" style="margin-bottom: 30px;">
  <span class="pagination__title-h">ç•™ä¸‹ä½ çš„è¶³è¿¹ğŸ‘£</span>
</div>
  <div id="tcomment"></div>
  <script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.5/dist/twikoo.all.min.js"></script>
  <script>
    twikoo.init({
    envId: 'https://mytwico.netlify.app/', 
    el: '#tcomment', 
    
    
    
  })
  </script>
  
  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">Â© <a href="https://jasaxion.github.io">Jasaxion</a> | since 2021</div>
  
  </footer>
  </article>
  
  </body>
</html>

